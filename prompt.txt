{
  ".env.local": "NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyCjN7ymUuxqNryIcI1IS7FUVsEz8EQLMZw\nNEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=ai-chat-bot-c6c51.firebaseapp.com\nNEXT_PUBLIC_FIREBASE_PROJECT_ID=ai-chat-bot-c6c51\nNEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=ai-chat-bot-c6c51.appspot.com\nNEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=956334442967\nNEXT_PUBLIC_FIREBASE_APP_ID=1:956334442967:web:44520d69b8bfb5fea42392\nNEXT_PUBLIC_AUTH_DOMAIN=http://ec2-3-86-148-153.compute-1.amazonaws.com/\n\nOPENAI_API_KEY=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\nNEXT_PUBLIC_OPENAI_API_KEY=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\nOPEN_ROUTER_API_KEY=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\n\nDATABASE_URL=\"postgresql://johndoe:randompassword@localhost:5432/mydb?schema=public\"\nGOOGLE_CLIENT_ID=your_google_client_id\nGOOGLE_CLIENT_SECRET=your_google_client_secret\nNEXTAUTH_SECRET=your_nextauth_secret\n\nPINECONE_API_KEY=7ae702b7-9986-4bca-a6f2-ba006d353bb8\nPINECONE_ENVIRONMENT=us-east-1\nPINECONE_INDEX_NAME=healthsupport\nPINECONE_INDEX_SECONDARY=health-chatbot-ds\nPINECONE_IDX_URL=https://healthsupport-vqchnux.svc.aped-4627-b74a.pinecone.io\n",
  ".gitignore": "# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.\n\n# dependencies\n/node_modules\n/.pnp\n.pnp.js\n.yarn/install-state.gz\n\n# testing\n/coverage\n\n# next.js\n/.next/\n/out/\n\n# production\n/build\n\n# misc\n.DS_Store\n*.pem\n\n# debug\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n\n# local env files\n.env*.local\n.env.local\n\n/data\n\nutils\n# vercel\n.vercel\n\n# typescript\n*.tsbuildinfo\nnext-env.d.ts\n",
  "data_download.ipynb": "{\n \"cells\": [\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 25,\n   \"metadata\": {},\n   \"outputs\": [\n    {\n     \"name\": \"stderr\",\n     \"output_type\": \"stream\",\n     \"text\": [\n      \"2024-08-15 16:33:58,436 - INFO - Discovering subpackages in _NamespacePath(['c:\\\\\\\\Python310\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\pinecone_plugins'])\\n\",\n      \"2024-08-15 16:33:58,438 - INFO - Looking for plugins in pinecone_plugins.inference\\n\",\n      \"2024-08-15 16:33:58,439 - INFO - Installing plugin inference into Pinecone\\n\"\n     ]\n    },\n    {\n     \"data\": {\n      \"application/vnd.jupyter.widget-view+json\": {\n       \"model_id\": \"6883b0e0cd304baabfb6f7e6523c6e00\",\n       \"version_major\": 2,\n       \"version_minor\": 0\n      },\n      \"text/plain\": [\n       \"  0%|          | 0/60 [00:00<?, ?it/s]\"\n      ]\n     },\n     \"metadata\": {},\n     \"output_type\": \"display_data\"\n    },\n    {\n     \"name\": \"stderr\",\n     \"output_type\": \"stream\",\n     \"text\": [\n      \"2024-08-15 16:33:58,917 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,061 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,210 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,350 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,497 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,618 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,816 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,984 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,129 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,236 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,394 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,595 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,716 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,867 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,059 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,201 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,314 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,433 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,544 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,661 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,780 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,926 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,074 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,226 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,369 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,537 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,724 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,920 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,077 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,184 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,334 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,476 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,628 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,812 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,927 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,044 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,202 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,392 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,550 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,662 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,803 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,012 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,129 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,239 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,386 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,540 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,699 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,834 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,017 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,166 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,329 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,463 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,600 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,714 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,873 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,065 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,247 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,396 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,522 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,659 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:08,581 - INFO - Data upload complete!\\n\"\n     ]\n    }\n   ],\n   \"source\": [\n    \"import json\\n\",\n    \"import os\\n\",\n    \"import sys\\n\",\n    \"from dotenv import load_dotenv\\n\",\n    \"from pinecone import Pinecone\\n\",\n    \"from tqdm.auto import tqdm\\n\",\n    \"from openai import OpenAI\\n\",\n    \"import logging\\n\",\n    \"import time\\n\",\n    \"\\n\",\n    \"# Set up logging\\n\",\n    \"logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')\\n\",\n    \"\\n\",\n    \"# Load environment variables\\n\",\n    \"load_dotenv('.env.local')\\n\",\n    \"\\n\",\n    \"# Initialize Pinecone\\n\",\n    \"pc = Pinecone(api_key=os.getenv('PINECONE_API_KEY'))\\n\",\n    \"\\n\",\n    \"# Connect to the index\\n\",\n    \"index_name = os.getenv('PINECONE_INDEX_NAME')\\n\",\n    \"\\n\",\n    \"# Check if the index exists, if not create it\\n\",\n    \"if index_name not in pc.list_indexes().names():\\n\",\n    \"    pc.create_index(\\n\",\n    \"        name=index_name,\\n\",\n    \"        dimension=1536,  # OpenAI's text-embedding-ada-002 uses 1536 dimensions\\n\",\n    \"        metric='cosine'\\n\",\n    \"    )\\n\",\n    \"    logging.info(f\\\"Created new index: {index_name}\\\")\\n\",\n    \"\\n\",\n    \"index = pc.Index(index_name)\\n\",\n    \"\\n\",\n    \"# OpenAI client initialization\\n\",\n    \"client = OpenAI(api_key=os.getenv('OPENAI_API_KEY'))\\n\",\n    \"\\n\",\n    \"def get_embedding(text, model=\\\"text-embedding-ada-002\\\"):\\n\",\n    \"    try:\\n\",\n    \"        text = text.replace(\\\"\\\\n\\\", \\\" \\\")\\n\",\n    \"        response = client.embeddings.create(input=[text], model=model)\\n\",\n    \"        return response.data[0].embedding\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"An error occurred while getting embedding: {e}\\\")\\n\",\n    \"        if \\\"Rate limit\\\" in str(e):\\n\",\n    \"            logging.warning(\\\"Rate limit exceeded. Waiting for 60 seconds before retrying.\\\")\\n\",\n    \"            time.sleep(60)\\n\",\n    \"            return get_embedding(text, model)\\n\",\n    \"        raise\\n\",\n    \"\\n\",\n    \"# Load and process the JSON data\\n\",\n    \"try:\\n\",\n    \"    with open('data/english-dev.json', 'r') as f:\\n\",\n    \"        data = json.load(f)\\n\",\n    \"except FileNotFoundError:\\n\",\n    \"    logging.error(\\\"The data file 'data/english-dev.json' was not found.\\\")\\n\",\n    \"    sys.exit(1)\\n\",\n    \"except json.JSONDecodeError:\\n\",\n    \"    logging.error(\\\"Error decoding the JSON file. Please check if it's valid JSON.\\\")\\n\",\n    \"    sys.exit(1)\\n\",\n    \"\\n\",\n    \"# Prepare the data for upsert\\n\",\n    \"vectors_to_upsert = []\\n\",\n    \"for i, item in enumerate(tqdm(data)):\\n\",\n    \"    # Combine all text fields into a single string\\n\",\n    \"    text = item['description'] + ' ' + ' '.join(item['utterances'])\\n\",\n    \"    \\n\",\n    \"    try:\\n\",\n    \"        # Get the embedding using OpenAI API\\n\",\n    \"        vector = get_embedding(text)\\n\",\n    \"        \\n\",\n    \"        # Prepare the vector for upsert\\n\",\n    \"        vectors_to_upsert.append((str(i), vector, {\\\"text\\\": text}))\\n\",\n    \"\\n\",\n    \"        # Upsert in batches of 100\\n\",\n    \"        if len(vectors_to_upsert) == 100:\\n\",\n    \"            index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"            vectors_to_upsert = []\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"Error processing item {i}: {e}\\\")\\n\",\n    \"        continue\\n\",\n    \"\\n\",\n    \"# Upsert any remaining vectors\\n\",\n    \"if vectors_to_upsert:\\n\",\n    \"    try:\\n\",\n    \"        index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"Error upserting final batch: {e}\\\")\\n\",\n    \"\\n\",\n    \"logging.info(\\\"Data upload complete!\\\")\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"#####################################\\n\",\n    \"# Upload https://huggingface.co/datasets/ruslanmv/ai-medical-chatbot to pineceone \\n\",\n    \"#####################################\\n\",\n    \"\\n\",\n    \"import os\\n\",\n    \"import time\\n\",\n    \"from dotenv import load_dotenv\\n\",\n    \"from pinecone import Pinecone\\n\",\n    \"from tqdm.auto import tqdm\\n\",\n    \"from datasets import load_dataset\\n\",\n    \"from sentence_transformers import SentenceTransformer\\n\",\n    \"\\n\",\n    \"# Load environment variables\\n\",\n    \"load_dotenv('.env.local')\\n\",\n    \"\\n\",\n    \"# Initialize Pinecone\\n\",\n    \"api_key = os.getenv('PINECONE_API_KEY')\\n\",\n    \"if not api_key:\\n\",\n    \"    raise ValueError(\\\"PINECONE_API_KEY not found in environment variables\\\")\\n\",\n    \"\\n\",\n    \"pc = Pinecone(api_key=api_key)\\n\",\n    \"\\n\",\n    \"# Connect to the index\\n\",\n    \"index_name = os.getenv('PINECONE_INDEX_NAME')\\n\",\n    \"if not index_name:\\n\",\n    \"    raise ValueError(\\\"PINECONE_INDEX_NAME not found in environment variables\\\")\\n\",\n    \"\\n\",\n    \"index = pc.Index(index_name)\\n\",\n    \"\\n\",\n    \"# Function to safely load dataset\\n\",\n    \"def safe_load_dataset(dataset_name, split=\\\"train\\\"):\\n\",\n    \"    try:\\n\",\n    \"        return load_dataset(dataset_name, split=split)\\n\",\n    \"    except Exception as e:\\n\",\n    \"        print(f\\\"Error loading dataset: {e}\\\")\\n\",\n    \"        print(\\\"Attempting to load dataset in streaming mode...\\\")\\n\",\n    \"        return load_dataset(dataset_name, split=split, streaming=True)\\n\",\n    \"\\n\",\n    \"# Load the dataset from Hugging Face\\n\",\n    \"print(\\\"Loading dataset from Hugging Face...\\\")\\n\",\n    \"dataset = safe_load_dataset(\\\"ruslanmv/ai-medical-chatbot\\\")\\n\",\n    \"print(\\\"Dataset loaded successfully.\\\")\\n\",\n    \"\\n\",\n    \"# Initialize the SentenceTransformer model for embeddings\\n\",\n    \"print(\\\"Initializing SentenceTransformer model...\\\")\\n\",\n    \"model = SentenceTransformer('all-MiniLM-L6-v2')\\n\",\n    \"\\n\",\n    \"# Function to create embeddings\\n\",\n    \"def create_embedding(text):\\n\",\n    \"    return model.encode(text).tolist()\\n\",\n    \"\\n\",\n    \"# Prepare and upsert data\\n\",\n    \"batch_size = 100\\n\",\n    \"vectors_to_upsert = []\\n\",\n    \"total_vectors = 0\\n\",\n    \"start_time = time.time()\\n\",\n    \"\\n\",\n    \"print(f\\\"Starting data upload in batches of {batch_size}...\\\")\\n\",\n    \"for i, item in enumerate(tqdm(dataset, desc=\\\"Processing items\\\")):\\n\",\n    \"    try:\\n\",\n    \"        # Combine all text fields into a single string\\n\",\n    \"        text = f\\\"{item['Description']} {item['Patient']} {item['Doctor']}\\\"\\n\",\n    \"        \\n\",\n    \"        # Create embedding\\n\",\n    \"        vector = create_embedding(text)\\n\",\n    \"        \\n\",\n    \"        # Prepare the vector for upsert\\n\",\n    \"        vectors_to_upsert.append((str(i), vector, {\\\"text\\\": text}))\\n\",\n    \"        \\n\",\n    \"        # Upsert in batches\\n\",\n    \"        if len(vectors_to_upsert) == batch_size:\\n\",\n    \"            index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"            total_vectors += len(vectors_to_upsert)\\n\",\n    \"            vectors_to_upsert = []\\n\",\n    \"    \\n\",\n    \"    except Exception as e:\\n\",\n    \"        print(f\\\"Error processing item {i}: {e}\\\")\\n\",\n    \"        continue\\n\",\n    \"\\n\",\n    \"# Upsert any remaining vectors\\n\",\n    \"if vectors_to_upsert:\\n\",\n    \"    index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"    total_vectors += len(vectors_to_upsert)\\n\",\n    \"\\n\",\n    \"end_time = time.time()\\n\",\n    \"total_time = end_time - start_time\\n\",\n    \"\\n\",\n    \"print(f\\\"Data upload complete!\\\")\\n\",\n    \"print(f\\\"Total vectors uploaded: {total_vectors}\\\")\\n\",\n    \"print(f\\\"Total time taken: {total_time:.2f} seconds\\\")\\n\",\n    \"print(f\\\"Average upload rate: {total_vectors / total_time:.2f} vectors/second\\\")\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 32,\n   \"metadata\": {},\n   \"outputs\": [\n    {\n     \"name\": \"stderr\",\n     \"output_type\": \"stream\",\n     \"text\": [\n      \"2024-08-15 16:38:35,855 - INFO - Discovering subpackages in _NamespacePath(['c:\\\\\\\\Python310\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\pinecone_plugins'])\\n\",\n      \"2024-08-15 16:38:35,856 - INFO - Looking for plugins in pinecone_plugins.inference\\n\",\n      \"2024-08-15 16:38:35,857 - INFO - Installing plugin inference into Pinecone\\n\",\n      \"2024-08-15 16:38:37,078 - INFO - Dataset loaded successfully.\\n\"\n     ]\n    },\n    {\n     \"data\": {\n      \"application/vnd.jupyter.widget-view+json\": {\n       \"model_id\": \"4b29bf49a8bc476cb16308c741c93e58\",\n       \"version_major\": 2,\n       \"version_minor\": 0\n      },\n      \"text/plain\": [\n       \"0it [00:00, ?it/s]\"\n      ]\n     },\n     \"metadata\": {},\n     \"output_type\": \"display_data\"\n    },\n    {\n     \"name\": \"stderr\",\n     \"output_type\": \"stream\",\n     \"text\": [\n      \"2024-08-15 16:38:43,409 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:43,649 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:43,874 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,099 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,272 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,465 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,630 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,800 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,990 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:45,148 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:45,329 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:45,811 - INFO - Data upload complete!\\n\"\n     ]\n    }\n   ],\n   \"source\": [\n    \"import os\\n\",\n    \"from dotenv import load_dotenv\\n\",\n    \"from pinecone import Pinecone\\n\",\n    \"from tqdm.auto import tqdm\\n\",\n    \"from openai import OpenAI\\n\",\n    \"import logging\\n\",\n    \"import time\\n\",\n    \"from datasets import load_dataset\\n\",\n    \"\\n\",\n    \"# Set up logging\\n\",\n    \"logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')\\n\",\n    \"\\n\",\n    \"# Load environment variables\\n\",\n    \"load_dotenv('.env.local')\\n\",\n    \"\\n\",\n    \"# Initialize Pinecone\\n\",\n    \"pc = Pinecone(api_key=os.getenv('PINECONE_API_KEY'))\\n\",\n    \"\\n\",\n    \"# Connect to the secondary index\\n\",\n    \"index_name = os.getenv('PINECONE_INDEX_SECONDARY')\\n\",\n    \"\\n\",\n    \"# Check if the index exists, if not create it\\n\",\n    \"if index_name not in pc.list_indexes().names():\\n\",\n    \"    pc.create_index(\\n\",\n    \"        name=index_name,\\n\",\n    \"        dimension=1536,  # OpenAI's text-embedding-ada-002 uses 1536 dimensions\\n\",\n    \"        metric='cosine'\\n\",\n    \"    )\\n\",\n    \"    logging.info(f\\\"Created new index: {index_name}\\\")\\n\",\n    \"\\n\",\n    \"index = pc.Index(index_name)\\n\",\n    \"\\n\",\n    \"# OpenAI client initialization\\n\",\n    \"client = OpenAI(api_key=os.getenv('OPENAI_API_KEY'))\\n\",\n    \"\\n\",\n    \"def get_embedding(text, model=\\\"text-embedding-ada-002\\\"):\\n\",\n    \"    try:\\n\",\n    \"        text = text.replace(\\\"\\\\n\\\", \\\" \\\")\\n\",\n    \"        response = client.embeddings.create(input=[text], model=model)\\n\",\n    \"        return response.data[0].embedding\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"An error occurred while getting embedding: {e}\\\")\\n\",\n    \"        if \\\"Rate limit\\\" in str(e):\\n\",\n    \"            logging.warning(\\\"Rate limit exceeded. Waiting for 60 seconds before retrying.\\\")\\n\",\n    \"            time.sleep(60)\\n\",\n    \"            return get_embedding(text, model)\\n\",\n    \"        raise\\n\",\n    \"\\n\",\n    \"# Load the dataset\\n\",\n    \"try:\\n\",\n    \"    dataset = load_dataset(\\\"ruslanmv/ai-medical-chatbot\\\", split=\\\"train\\\", streaming=True)\\n\",\n    \"    logging.info(\\\"Dataset loaded successfully.\\\")\\n\",\n    \"except Exception as e:\\n\",\n    \"    logging.error(f\\\"Error loading dataset: {e}\\\")\\n\",\n    \"    raise\\n\",\n    \"\\n\",\n    \"# Prepare the data for upsert\\n\",\n    \"vectors_to_upsert = []\\n\",\n    \"for i, item in enumerate(tqdm(dataset)):\\n\",\n    \"    # Combine all text fields into a single string\\n\",\n    \"    text = f\\\"Description: {item['Description']} Patient: {item['Patient']} Doctor: {item['Doctor']}\\\"\\n\",\n    \"    \\n\",\n    \"    try:\\n\",\n    \"        # Get the embedding using OpenAI API\\n\",\n    \"        vector = get_embedding(text)\\n\",\n    \"        \\n\",\n    \"        # Prepare the vector for upsert\\n\",\n    \"        vectors_to_upsert.append((str(i), vector, {\\n\",\n    \"            \\\"description\\\": item['Description'],\\n\",\n    \"            \\\"patient\\\": item['Patient'],\\n\",\n    \"            \\\"doctor\\\": item['Doctor']\\n\",\n    \"        }))\\n\",\n    \"\\n\",\n    \"        # Upsert in batches of 100\\n\",\n    \"        if len(vectors_to_upsert) == 100:\\n\",\n    \"            index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"            vectors_to_upsert = []\\n\",\n    \"\\n\",\n    \"        # Optional: Break after processing a certain number of items (e.g., 1000) for testing\\n\",\n    \"        if i >= 10:\\n\",\n    \"            break\\n\",\n    \"\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"Error processing item {i}: {e}\\\")\\n\",\n    \"        continue\\n\",\n    \"\\n\",\n    \"# Upsert any remaining vectors\\n\",\n    \"if vectors_to_upsert:\\n\",\n    \"    try:\\n\",\n    \"        index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"Error upserting final batch: {e}\\\")\\n\",\n    \"\\n\",\n    \"logging.info(\\\"Data upload complete!\\\")\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": []\n  }\n ],\n \"metadata\": {\n  \"kernelspec\": {\n   \"display_name\": \"Python 3\",\n   \"language\": \"python\",\n   \"name\": \"python3\"\n  },\n  \"language_info\": {\n   \"codemirror_mode\": {\n    \"name\": \"ipython\",\n    \"version\": 3\n   },\n   \"file_extension\": \".py\",\n   \"mimetype\": \"text/x-python\",\n   \"name\": \"python\",\n   \"nbconvert_exporter\": \"python\",\n   \"pygments_lexer\": \"ipython3\",\n   \"version\": \"3.10.8\"\n  }\n },\n \"nbformat\": 4,\n \"nbformat_minor\": 2\n}\n",
  "jsconfig.json": "{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"@/*\": [\"./*\"]\n    }\n  }\n}\n",
  "next.config.mjs": "/** @type {import('next').NextConfig} */\nconst nextConfig = {};\n\nexport default nextConfig;\n",
  "package.json": "{\n  \"name\": \"customer-support-ai\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\",\n    \"upload-to-pinecone\": \"node -r dotenv/config scripts/uploadToPinecone.js\"\n  },\n  \"dependencies\": {\n    \"@emotion/react\": \"^11.13.0\",\n    \"@emotion/styled\": \"^11.11.0\",\n    \"@fontsource/nunito\": \"^5.0.18\",\n    \"@mui/icons-material\": \"^5.16.7\",\n    \"@mui/material\": \"^5.14.5\",\n    \"@pinecone-database/pinecone\": \"^3.0.0\",\n    \"dotenv\": \"^16.4.5\",\n    \"encoding\": \"^0.1.13\",\n    \"firebase\": \"^9.0.0\",\n    \"framer-motion\": \"^11.3.28\",\n    \"langchain\": \"^0.0.96\",\n    \"lucide-react\": \"^0.427.0\",\n    \"next\": \"13.4.19\",\n    \"node-fetch\": \"^3.3.2\",\n    \"openai\": \"^4.55.4\",\n    \"react\": \"18.2.0\",\n    \"react-dom\": \"18.2.0\",\n    \"react-firebase-hooks\": \"^5.1.1\"\n  },\n  \"devDependencies\": {\n    \"eslint\": \"8.47.0\",\n    \"eslint-config-next\": \"13.4.19\"\n  }\n}\n",
  "README.md": "## Getting Started on Local Development \n\nFirst, run the development server:\n\n<pre style=\"background-color: black; color: white;\">\n\nnpm install\nnpm run dev\n# or\nyarn dev /pnpm dev /bun dev\n</pre>\nOpen [http://localhost:3000](http://localhost:3000) with your browser to see the result.\n\n# Med-friend: System Documentation\n\n## Table of Contents\n1. [Introduction](#1-introduction)\n2. [System Architecture](#2-system-architecture)\n3. [Key Components](#3-key-components)\n4. [User Interface](#4-user-interface)\n5. [Backend Services](#5-backend-services)\n6. [AI Integration](#6-ai-integration)\n7. [Database Design](#7-database-design)\n8. [Authentication and Security](#8-authentication-and-security)\n9. [API Documentation](#9-api-documentation)\n10. [Deployment](#10-deployment)\n11. [Development Workflow](#11-development-workflow)\n12. [Troubleshooting](#12-troubleshooting)\n13. [Future Enhancements](#13-future-enhancements)\n\n## 1. Introduction\n\nMed-friend is an advanced health assistant application designed to provide users with instant access to accurate, AI-powered health information. We combine the best publicly available health knowledge, with the best AI tools able to efficiently provide that knowledge as needed. The system combines modern web technologies with artificial intelligence to create an interactive and informative experience for users seeking health-related advice.\n\n### Key Features:\n- AI-powered chat interface for health-related queries\n- Integration with medical knowledge bases\n- Responsive design for desktop and mobile use\n\n### Tech Stack:\n- Frontend: Next.js (React), Material-UI\n- Backend: Node.js, Firebase\n- AI: OpenAI GPT models, Pinecone vector database\n- Authentication: Firebase Authentication\n- Database: Firebase Firestore, Pinecone\n\n## 2. System Architecture\n\nMed-friend AI follows a modern, serverless architecture leveraging cloud services for scalability and maintainability.\n\n## High-Level Architecture Diagram\n\n```mermaid\ngraph TD\n    User[User] -->|HTTPS| Frontend[Next.js Frontend]\n    subgraph Frontend\n        Landing[Landing Page]\n        Chat[Chat Interface]\n    end\n    Frontend -->|API Calls| Routes[API Routes]\n    subgraph Routes\n        ChatProcess[Chat Processing]\n        UserAuth[User Auth]\n        VectorSearch[Vector Search]\n    end\n    ChatProcess -->|NLP Requests| LLMAPI[LLM API]\n    UserAuth -->|Authenticate| FireAuth[Firebase Auth]\n    VectorSearch -->|Query| PineconeAPI[Pinecone API]\n    FireAuth --> Firestore[Firebase Firestore]\n    PineconeAPI --> Firestore\n    \n    classDef frontend fill:#d0e0ff,stroke:#333,stroke-width:2px;\n    classDef backend fill:#ffe0d0,stroke:#333,stroke-width:2px;\n    classDef external fill:#d0ffe0,stroke:#333,stroke-width:2px;\n    \n    class Frontend frontend;\n    class Routes backend;\n    class LLMAPI,FireAuth,PineconeAPI,Firestore external;\n```\n\n### Components:\n1. **Next.js Frontend**: Serves the user interface and handles client-side logic.\n2. **API Routes**: Serverless functions handling backend logic and external service integration.\n3. **Multiple LLM Provider API's**: Provide natural language processing capabilities.\n4. **Firebase Auth**: Manages user authentication.\n5. **Firebase Firestore**: Stores user data and chat history.\n6. **Pinecone Vector DB**: Stores and retrieves medical information for context-aware AI responses.\n\n## 3. Key Components\n\n### 3.1 Frontend Components\n\n#### LandingPage (`src/app/page.js`)\nThe main entry point of the application, introducing users to Med-friend AI.\n\nKey features:\n- Responsive design with Material-UI\n- Introduction to Med-friend AI capabilities\n- Options to try the HealthBot or enter the full chat interface\n\n#### ChatPage (`src/app/chat/page.js`)\nThe main chat interface for logged-in users.\n\nKey features:\n- Chat history sidebar\n- Real-time chat interface\n- New chat creation\n- User authentication status management\n\n#### Auth Component (`src/app/components/Auth.js`)\nHandles user authentication processes.\n\nKey features:\n- Login and signup functionality\n- Email/password and Google authentication options\n- Integration with Firebase Authentication\n\n#### PopupChat Component (`src/app/components/PopupChat.js`)\nA floating chat widget for quick interactions with the AI assistant.\n\nKey features:\n- Minimizable chat interface\n- Real-time AI responses\n- Typing indicators for better user experience\n\n### 3.2 Backend Components\n\n#### Chat API Route (`src/app/api/chat/route.js`)\nHandles chat requests and integrates with OpenAI and Pinecone.\n\nKey features:\n- OpenAI GPT model integration\n- Pinecone vector search for relevant medical information\n- Context-aware response generation\n\n#### Firebase Utilities (`src/app/utils/firebase.js`)\nSets up Firebase services for the application.\n\nKey features:\n- Firebase app initialization\n- Authentication service setup\n- Firestore database initialization\n\n## 4. User Interface\n\nThe user interface is built using React components and styled with Material-UI, ensuring a responsive and accessible design across devices.\n\n### 4.1 Landing Page\n\nThe landing page (`src/app/page.js`) serves as the main entry point for users. It features:\n\n- A hero section with a call-to-action\n- Feature highlights of Med-friend AI\n- Options to try the HealthBot or access the full chat interface\n- Login/Signup buttons\n\n#### Key UI Components:\n- `FeatureCard`: Displays individual features of the application\n- `AppBar`: Navigation bar with authentication options\n- `Modal`: For displaying the authentication form\n\n### 4.2 Chat Interface\n\nThe chat interface (`src/app/chat/page.js`) is the core of the application, where users interact with the AI assistant. It includes:\n\n- A sidebar with chat history\n- The main chat area with message bubbles\n- An input area for user messages\n- A disclaimer about the nature of AI-provided information\n\n#### Key UI Components:\n- `ChatListContainer`: Displays the list of previous chats\n- `ChatListItem`: Individual chat session in the sidebar\n- `MainContent`: Contains the chat messages and input area\n- `DisclaimerBox`: Informs users about the limitations of AI advice\n\n### 4.3 Popup Chat\n\nThe popup chat (`src/app/components/PopupChat.js`) provides a floating chat interface for quick interactions. Features include:\n\n- Minimizable chat window\n- Real-time message display\n- Typing indicators\n\n#### Key UI Components:\n- `StyledPaper`: The main container for the popup chat\n- `ChatHeader`: Contains the title and close button\n- `MessageBubble`: Displays individual messages\n- `TypingIndicator`: Shows when the AI is generating a response\n\n### 4.4 Styling\n\nThe application uses a combination of Material-UI's built-in styling system and custom styles:\n\n- Theme customization in `src/app/page.js`\n- Global styles in `src/app/globals.css`\n- Component-specific styles using the `styled` function from Material-UI\n\n## 5. Backend Services\n\nThe backend of Med-friend AI is primarily serverless, utilizing Next.js API routes and cloud services.\n\n### 5.1 API Routes\n\nLocated in `src/app/api/chat/route.js`, the main API route handles chat functionality:\n\n1. Receives user messages\n2. Queries Pinecone for relevant medical information\n3. Sends context and user message to OpenAI\n4. Returns AI-generated response to the frontend\n\n### 5.2 Firebase Services\n\nFirebase provides authentication and database services:\n\n- **Authentication**: Handles user signup, login, and session management\n- **Firestore**: Stores user data and chat history\n\nConfiguration and initialization of Firebase services are done in `src/app/utils/firebase.js`.\n\n### 5.3 Pinecone Vector Database\n\nPinecone is used to store and retrieve medical information efficiently:\n\n- Stores embeddings of medical information\n- Provides fast similarity search for relevant context\n\nThe Pinecone service is initialized and queried in the chat API route.\n\n## 6. AI Integration\n\nMed-friend AI leverages OpenAI's GPT models for generating intelligent responses to user queries.\n\n### 6.1 OpenAI Integration\n\nThe application uses the OpenAI API to generate responses:\n\n- Model: GPT-4 (or GPT-3.5-turbo, depending on configuration)\n- Input: User message and relevant medical context\n- Output: AI-generated response\n\nThe integration is handled in the chat API route (`src/app/api/chat/route.js`).\n\n### 6.2 Context Enhancement\n\nTo provide more accurate and relevant responses, the system:\n\n1. Queries Pinecone with the user's message\n2. Retrieves relevant medical information\n3. Includes this information as context when querying OpenAI\n\nThis process enhances the AI's ability to provide informed and contextually appropriate responses.\n\n## 7. Database Design\n\nMed-friend AI uses two database systems: Firebase Firestore and Pinecone Vector Database.\n\n### 7.1 Firebase Firestore\n\nFirestore is used to store user data and chat history. The data model is as follows:\nusers/\n{userId}/\nconversations/\n{conversationId}/\nmessages/\n{messageId}/\ncontent: string\ncreatedAt: timestamp\nuserId: string\nThis structure allows for efficient retrieval of user-specific chat histories.\n\n### 7.2 Pinecone Vector Database\n\nPinecone stores medical information as vector embeddings, allowing for fast similarity search:\n\n- Each entry contains:\n  - Vector embedding of medical text\n  - Metadata including the original text and any relevant tags\n\nThe Pinecone database is queried in the chat API route to retrieve context for AI responses.\n\n## 8. Authentication and Security\n\nMed-friend AI implements robust authentication and security measures to protect user data and ensure secure interactions.\n\n### 8.1 User Authentication\n\nFirebase Authentication is used to handle user signup and login processes:\n\n- Email/password authentication\n- Google Sign-In integration\n\nThe Auth component (`src/app/components/Auth.js`) manages the UI for these processes.\n\n### 8.2 Security Measures\n\n1. **Environment Variables**: Sensitive information like API keys are stored in environment variables (`.env.local`)\n2. **Server-side API Calls**: OpenAI API calls are made server-side to protect API keys\n3. **HTTPS**: All communications are encrypted using HTTPS\n4. **Firebase Security Rules**: Firestore database access is controlled by Firebase security rules\n\n### 8.3 Data Privacy\n\n- User chat histories are stored securely in Firebase Firestore\n- No personal health information is permanently stored\n- Users are advised not to share sensitive personal information in chats\n\n## 9. API Documentation\n\n### 9.1 Chat API\n\n**Endpoint**: `/api/chat`\n\n**Method**: POST\n\n**Request Body**:\njson\n{\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"User's message here\"\n    }\n  ],\n  \"chatId\": \"optional-chat-id\"\n}\n### Error Responses:\n- 400 Bad Request: Missing required parameters\n- 500 Internal Server Error: Server-side processing error\n\n### 9.2 Authentication API\nFirebase Authentication is used, which provides RESTful endpoints for authentication operations. Refer to the [Firebase Authentication REST API documentation](https://firebase.google.com/docs/reference/rest/auth) for detailed information on these endpoints.\n\n## 10. Deployment\nMed-friend AI is designed to be deployed on cloud platforms that support Next.js applications.\n\n### 10.1 Deployment Steps\n1. Set up environment variables on the deployment platform\n2. Build the Next.js application: `npm run build`\n3. Deploy the built application to the chosen platform (e.g., Vercel, Netlify)\n4. Configure custom domain and SSL certificate if required\n\n### 10.2 Environment Variables\nEnsure the following environment variables are set:\n- `NEXT_PUBLIC_FIREBASE_*`: Firebase configuration variables\n- `OPENAI_API_KEY`: OpenAI API key\n- `PINECONE_API_KEY`: Pinecone API key\n- `PINECONE_ENVIRONMENT`: Pinecone environment\n- `PINECONE_INDEX_NAME`: Pinecone index name\n\n### 10.3 Continuous Integration/Continuous Deployment (CI/CD)\nSet up a CI/CD pipeline to automate the deployment process:\n1. Configure GitHub Actions or similar CI/CD tool\n2. Set up automated testing before deployment\n3. Configure automatic deployment to staging environment on pull requests\n4. Set up manual approval for production deployments\n\n## 11. Development Workflow\n\n### 11.1 Setting Up the Development Environment\n1. Clone the repository\n2. Install dependencies: `npm install`\n3. Set up local environment variables in `.env.local`\n4. Run the development server: `npm run dev`\n\n### 11.2 Code Style and Linting\n- ESLint is used for code linting\n- Prettier is used for code formatting\n- Run linter: `npm run lint`\n\n### 11.3 Testing\n- Jest is used for unit and integration testing\n- React Testing Library for component testing\n- Run tests: `npm test`\n\n### 11.4 Version Control\n- Git is used for version control\n- Follow conventional commit messages\n- Create feature branches for new features or bug fixes\n- Use pull requests for code reviews\n\n### 11.5 Documentation\n- Keep README and this documentation up to date\n- Use JSDoc comments for function and component documentation\n- Generate API documentation using tools like Swagger or Postman\n\n## 12. Troubleshooting\n\n### 12.1 Common Issues\n1. **API Key Issues**: Ensure all API keys are correctly set in environment variables\n2. **Firebase Configuration**: Verify Firebase configuration in `firebase.js`\n3. **Pinecone Connection**: Check Pinecone API key and environment settings\n4. **OpenAI API Errors**: Verify OpenAI API key and usage limits\n\n### 12.2 Debugging Tools\n- Use browser developer tools for frontend debugging\n- Check server logs for backend issues\n- Enable verbose logging in development environment\n- Use logging service like Sentry for production error tracking\n\n### 12.3 Performance Monitoring\n- Implement application performance monitoring (APM) tools\n- Monitor server response times and error rates\n- Track AI response generation times\n\n## 13. Future Enhancements\nPotential areas for future development include:\n\n1. Implement more sophisticated conversation management\n   - Context retention across multiple messages\n   - User preference learning\n\n2. Add support for file uploads (e.g., medical reports)\n   - Image analysis for visual symptoms\n   - PDF parsing for medical documents\n\n3. Enhance error handling and user feedback mechanisms\n   - Implement error boundaries in React components\n   - Provide more detailed error messages to users\n\n4. Implement a user feedback and response rating system\n   - Allow users to rate AI responses\n   - Use feedback to improve AI training\n\n5. Develop an admin panel for monitoring conversations and fine-tuning the AI\n   - Dashboard for usage statistics\n   - Tools for analyzing common queries and improving responses\n\n6. Integrate with additional medical databases for more comprehensive information\n   - Connect with public health databases\n   - Integrate with electronic health record (EHR) systems\n\n7. Implement multi-language support\n   - Localization of UI elements\n   - Multi-language AI response generation\n\n8. Add voice input/output capabilities\n   - Speech-to-text for user input\n   - Text-to-speech for AI responses\n\n9. Implement advanced analytics\n   - User behavior analysis\n   - Health trend identification\n\n10. Enhance mobile experience\n    - Develop native mobile apps\n    - Optimize performance for low-bandwidth connections\n\nBy continuously improving and expanding the capabilities of Med-friend AI, we aim to provide an increasingly valuable tool for users seeking health information and advice.\n\nThis is a [Next.js](https://nextjs.org/) project bootstrapped with [`create-next-app`](https://github.com/vercel/next.js/tree/canary/packages/create-next-app).\n\n## Learn More\n\nTo learn more about Next.js, take a look at the following resources:\n\n- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.\n- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.\n\nYou can check out [the Next.js GitHub repository](https://github.com/vercel/next.js/) - your feedback and contributions are welcome!\n\n## Deploy on Vercel\n\nThe easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.\n\nCheck out our [Next.js deployment documentation](https://nextjs.org/docs/deployment) for more details.\n\n",
  "testEnv.js": "console.log('Starting testEnv.js');\n\nconst loadEnv = require('./scripts/loadEnv');\nconsole.log('loadEnv function imported');\n\nloadEnv();\nconsole.log('loadEnv function called');\n\nconsole.log('Checking environment variables:');\nconsole.log('PINECONE_API_KEY:', process.env.PINECONE_API_KEY ? 'Set' : 'Not set');\nconsole.log('PINECONE_ENVIRONMENT:', process.env.PINECONE_ENVIRONMENT);\nconsole.log('PINECONE_INDEX_NAME:', process.env.PINECONE_INDEX_NAME);\n\nconsole.log('testEnv.js completed');",
  "data\\english-dev.json": "[\n    {\n        \"description\": \"good day. this morning i coughed for the very first time in a long time. with the corona virus around i feel the need to report this. i coughed for about 5 min. i have no fever, not tired and chest feels weird. what should i do?\",\n        \"utterances\": [\n            \"patient: good day. this morning i coughed for the very first time in a long time. with the corona virus around i feel the need to report this. i coughed for about 5 min. i have no fever, not tired and chest feels weird. what should i do?\",\n            \"doctor: in brief: best to stay home right now stay home, consult here. disinfect everything and stay safe. we are here to answer your questions. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"can the meat i eat give me coronavirus? will cooking kill the coronavirus?\",\n        \"utterances\": [\n            \"patient: can the meat i eat give me coronavirus? will cooking kill the coronavirus?\",\n            \"doctor: cooking will kill. cooking adequately will kill the virus-30 sec of ,microwave.\"\n        ]\n    },\n    {\n        \"description\": \"how to treat walking pneumonia?\",\n        \"utterances\": [\n            \"patient: my fianc\\u00e9 has been coughing uncontrollably every night for the past 4 months. he is 23 years old, 5'9\\\", about 140 lbs., and has been told by his dr that he has walking pneumonia. he has been prescribed antibiotics, cough syrup, allergy medicine, mucinex, nasal sprays, and inhalers and although they suppress the coughing at times he still does not seem to have gotten rid of the coughing. his coughing is accompanied with phlegm and has also caused him to throw up due to the extremity. he does smoke cigars as well. what is this!?\",\n            \"doctor: walking pneumonia is a non-medical term to describe a mild case of pneumonia. it is usually called atypical pneumonia because the disease is different from more serious cases of pneumonia caused by typical bacteria. it is often the result of a lung infection from a bacterial microorganism called mycoplasma pneumoniae and generally treated with antibiotics. mild infections are often not treated because they tend to clear on their own. with treatment, most people begin to feel better within a few days.\"\n        ]\n    },\n    {\n        \"description\": \"2 days ago i started experiencing fatigue and random body pains, mostly below the ribs and body temp was high as i was sweating and feeling cold. gp give me flue medication and advice against testing for corona. should i insist on testing for corona?\",\n        \"utterances\": [\n            \"patient: 2 days ago i started experiencing fatigue and random body pains, mostly below the ribs and body temp was high as i was sweating and feeling cold. gp give me flue medication and advice against testing for corona. should i insist on testing for corona?\",\n            \"doctor: in brief: no,you shouldnt. unless you have a history of international travel recently or were in contact with someone who has tested positive for corona virsu. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"my 2year old son has had a dry cough and a runny nose since thursday . he's not talking yet so it is difficult to tell if he has any trouble breathing so i'm concerned. he does not have temperature ?\",\n        \"utterances\": [\n            \"patient: my 2year old son has had a dry cough and a runny nose since thursday . he's not talking yet so it is difficult to tell if he has any trouble breathing so i'm concerned. he does not have temperature ?\",\n            \"doctor: in brief: observatn is enough. by looking at your child you'll know if he is having breathing difficulties. cough with a runny nose is common in children. you should be concerned only if he is refusing to play and eat, or if he develops breathing difficulties. having a fever doesn't mean he has the coronavirus. he is more likely to be infected with any of the common infections in your area of gauteng. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"should patients with covid-19 avoid ibuprofen or raas antagonists?\",\n        \"utterances\": [\n            \"patient: should patients with covid-19 avoid ibuprofen or raas antagonists?\",\n            \"doctor: in brief: covid-19 and raas no, according to recent statement from american heart association, the patients with cardiovascular disease should continue acei or abr as prescribed. who also doesn't recommend avoiding ibuprofen for patients with covid-19 symptoms, although the use of acetaminophen could be an alternative option. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i am a quadriplegic and have a tight chest and slight difficulty breathing. overnight i started feeling like i need to clear my throat. i flew home to joburg from cpt 8 days ago & have been self isolating as a precaution. ?\",\n        \"utterances\": [\n            \"patient: i am a quadriplegic and have a tight chest and slight difficulty breathing. overnight i started feeling like i need to clear my throat. i flew home to joburg from cpt 8 days ago & have been self isolating as a precaution. ?\",\n            \"doctor: in brief: monitor. stay at home, monitor your temperature, drink fluids and rest. nasal congestion and post nasal drip is not typically associated with covid-19. watch for dry cough, fever and if your shortness of breath does not resolve, discuss whether you need an inhaler, chest physiotherapy and/or testing. if you have a trach, watch for signs of infection such as more secretions or a change in color . would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"itchy ears, painful ears pain in roof of mouth only at night. post nasal drip. i\\u2019ve sneezed a few times and sometimes my nose runs in the morning what could this be? also sometimes i cough but not a lot. any idea? covid 19?\",\n        \"utterances\": [\n            \"patient: itchy ears, painful ears pain in roof of mouth only at night. post nasal drip. i\\u2019ve sneezed a few times and sometimes my nose runs in the morning what could this be? also sometimes i cough but not a lot. any idea? covid 19?\",\n            \"doctor: in brief: probably not covid. may be allergic, bacterial sinus infection, a different virus, a narrow upper jaw with partial airway obstruction, or other causes. call your general physician and check if they want to see you. see your dentist to evaluate if your upper jaw is too narrow and if you need to see an orthodontist. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i am the main member of discovery, i want to complete a health covid assessment for my husband? please let me know how to do so?\",\n        \"utterances\": [\n            \"patient: i am the main member of discovery, i want to complete a health covid assessment for my husband? please let me know how to do so?\",\n            \"doctor: in brief: call discovery you'll need to call discovery. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"dry scratchy throat, very mild cough since 23 march but not improving. traveled to cape town via lanseria and ct airports 15-20 march. wife has sore throat, nasal congestion, lethargy & headaches since 21 march. should we see a doctor to be assessed?\",\n        \"utterances\": [\n            \"patient: dry scratchy throat, very mild cough since 23 march but not improving. traveled to cape town via lanseria and ct airports 15-20 march. wife has sore throat, nasal congestion, lethargy & headaches since 21 march. should we see a doctor to be assessed?\",\n            \"doctor: in brief: stay home. stay home for at least 7 days, rest, drink fluids and monitor your temperature. there is an overlap between flu and covid-19 symptoms. nasal congestion and absence of fever are not typically associated with covid. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"should i really be worried about my elderly parents catching covid-19? what steps should they take to stay healthy?\",\n        \"utterances\": [\n            \"patient: should i really be worried about my elderly parents catching covid-19? what steps should they take to stay healthy?\",\n            \"doctor: yes. avoid contact but ensure that they have food, supplies and able to slay at home. they should drink fluids and if they develop a fever, please call your pcp right away and also consider a virtual appointment with ht. other symptoms to watch for include dry cough and shortness of breath. use good hand washing and disinfect surfaces.\"\n        ]\n    },\n    {\n        \"description\": \"21 month old has a fever 38.7 and dry cough?\",\n        \"utterances\": [\n            \"patient: 21 month old has a fever 38.7 and dry cough?\",\n            \"doctor: contact doctor. was he/she exposed to coronavirus or flu or other illness?he/she may need to be examined and/or tested. please call his/her doctor to discuss and possibly be examined for proper diagnosis and treatment.\"\n        ]\n    },\n    {\n        \"description\": \"can coronavirus cause itchiness in throat and shortness of breath?\",\n        \"utterances\": [\n            \"patient: hello doctor, i am a 23-year-old man. i have anxiety and depression but no immunodeficiency disorders or chronic diseases. first, i wanna know if my immune system is weakened and how likely am i to die of coronavirus. second, i have itchiness in my throat and shortness of breath. i always have it because of anxiety but now it is more persistent than before. i also feel a very subtle feeling of pain, burning sensation and itchiness in my chest. i did not go out during the past ten days and have not been in contact with someone with positive covid. and i quit smoking past week. down to one or zero cigarettes from 20 a day. why am i feeling itchiness and pain and burning sensation? how likely am i to have covid-19? and how likely am i to die from it?\",\n            \"doctor: hello. anxiety can manifest itself in physical or psychological symptoms or both. the irritation sensation you are experiencing is a part of your anxiety. also please do not believe the hype about covid. it has a low mortality rate, of 2-3 percent, that too mortality is very high in people above 60-70 years with other co-morbidities. you do not have any such disorders and you have not even been in contact with anyone, so do not worry. please continue to take your medicines for anxiety if you are taking them, if not, please consider visiting a psychiatrist and get started on some low dose ssri type of medicines. also, if needed a low dose benzodiazepines can be added temporarily. also, please do some deep breathing exercises, or progressive muscle relaxation. you can also take some honey with water to reduce the itching in the throat and also try doing some gargles with lukewarm salt water.\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for community acquired pneumonia\",\n        \"utterances\": [\n            \"patient: i am a family doctor in an outpatient family medicine setting, and the question was raised reguarding treatment for community acquired pneumonia. if reoccurance of infection occurs, after treatment with z pack within 90 days how should patient be treated. would it be safe to treat again with levaquin as an outpatient?\",\n            \"doctor: helloit depends on the age, commodities, immunity status and the cause why the pneumonia is come back again.regardsdr.jolanda\"\n        ]\n    },\n    {\n        \"description\": \"can cough lead to pneumonia or tuberculosis?\",\n        \"utterances\": [\n            \"patient: name: brent age: 22 sex: male symptoms : i have a cough that seems to be reccursive. it occurs usually at nightime, or if i gave a very intense sneeze or laugh. when this cough occurs, it is very dry, that it would sound like a yelping dog. also, besides cough, i do experience a reccursive runny nose, sometimes coupled with watery red eyes and itchy throat. the runny nose discharge is transparent, almost like saliva or tears. ironically, after a while, these symptoms would disappear, and when they do disappear, i feel completely normal. i have already consulted a doctor and was diagnosed of allergic rhinits. she adviced me to take anti histamines, either zirtec or iterax, which ever do i prefer. unfortunately, it works at often but not at all times. how many days?:reccursive cough has been going on since april of this year. as for the runny nose, since november of last year allergies: not that i know of, when i was five years old, i remember being diagnosed of primary complex, but was able to be treated before it goes into something else. also, tb runs in the family, as my uncle had it before, and so as my mom (although the doctor said it was already a scar). as for me, 2009 was a stressful year. there were months, when my hours of daily sleep was only around 3 to four hours due to school work. also, for a period of time i was involved in smoking, although it has been a month since i stopped. doctor, i would just like to know what are the chances of me, acquiring respiratory illness like pneumonia or tuberculosis, or development of asthma? also, if i get to consult a doctor personally with my parents, will the doctor be able to detect my past smoking habit, based on the procedures he will do, or with tests that he will recommend like xray? the truth is, i am hesitant to go to a medical clinic, because my parents have to accompany me, and i am afraid that the doctor might make \\\"bisto\\\" towards my parents, as they don't know that i do smoke. but i do really want to seek medical attention. besides the incovenicence of symtpoms, i am worried that it might be something serious. hoping for a share of your brilliant expertise. thank you doctor and good day.\",\n            \"doctor: thanks for your concern. the dry cough basically has a few causes....first is post nasal drip, second gastroesophageal reflux'heart burn', third cough variant aasthma, forth heart failure and finally interstitial lung disease. based on the information if you don't have a heart burn or reflux of food or sour brash into your mouth, you are having a cough variant asthma, make sure you do not have difficulty breathing. there is something called cardiac asthma, but it's not much of a likelihood given your young age.i advice you that you give up on smoking as it causes a multitude of problems and may well be related to the cough you've been having now called as 'smokers cough'.it's time that you stop smoking, avoid animal dancers, mites, pollens and any thing that would exacerbate the illness, make sure you don't have a heart burn, and if still the cough persists , meet a pulmo neologism and get a pulmonary function test with methacholine challenge\"\n        ]\n    },\n    {\n        \"description\": \"can we use disprin or compral pils when we have corona. they dont contain ibuprophen?\",\n        \"utterances\": [\n            \"patient: can we use disprin or compral pils when we have corona. they dont contain ibuprophen?\",\n            \"doctor: in brief: yes you can,depends. corona virus treatment so far is symptomatic and supportive. it really depends what you treat with disprin/compral.you are they do not have ibuprofen. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i have a little fever with no history of foreign travel or contact. what is the chance of covid-19?\",\n        \"utterances\": [\n            \"patient: hello doctor, i am suffering from coughing, throat infection from last week. at that time fever did not persist and also did not felt any chest pain. two days later, i consulted with a doctor. he prescribed cavidur 625, montek lc, ambrolite syrup and betaline gargle solution. since then throat infection improved and frequent cough also coming out. coughing also improved remarkably though not completely. from yesterday onwards fever is occuring (maximum 100-degree celcius). i have not come in touch with any foreign returned person nor went outside. in our state, there is no incidence of covid-19. please suggest what to do?\",\n            \"doctor: hello, i can understand your concern. in my opinion, you should get done a chest x-ray and cbc (complete blood count). if both these are normal then no need to worry much. i hope this helps.\",\n            \"patient: thank you doctor, after doing all these i can upload all for further query.\",\n            \"doctor: hi, yes, upload in this query only. i will see and revert to you.\",\n            \"patient: thank you doctor, as per your guidelines, i have made one test. due to city shutdown, i could not able to make an x-ray of chest. fever is coming every 12 hours. but cough does not persist currently. the only problem is a fever. i am uploading the blood examination report. please advice.\",\n            \"doctor: hi, i can understand your concern. i have gone through the report you have attached. (attachment removed to protect patient identity). your total count is on the higher side of normal along with low hemoglobin. so start azithromycin 500 mg 1-0-0, tablet dolo 650 1-0-1. once your fever and cough subside, start an iron tablet for low hemoglobin. i hope this helps.\",\n            \"patient: thank you doctor, how many tablets of azithromycin to be taken? is it in the morning? i want to make you know that i have already taken azithromycin five days before. should she start it? and also can i start an iron tablet today itself?\",\n            \"doctor: hi, yes, you can take iron tablet from today onwards. and no need for azithromycin now as you have already taken it. drink plenty of fluids orally and keep yourself hydrated. do warm water gargles and steam inhalation four to five times a day.\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for pneumonia\",\n        \"utterances\": [\n            \"patient: my cousin was admitted yesterday for pneumonia and a collasped lung which was diagnoised yesterday. they did surgery this morning by cleaning out and draining fluids. she is now heavily sadated with a tube in her right lung. what will it take for her to get well again?\",\n            \"doctor: it sound like your cousin has something called- empyema. it is basically an abscess in the chest cavity. and the correct treatment for it is drainage - which was done appropriatley. but he should receive antibiotic treatment with coverage of both aerobic and anaerobic organisms. usually specimens are send from the procedure to see which organisms grow and provide a more directed antibiotic coverage.\"\n        ]\n    },\n    {\n        \"description\": \"a 2 year complaining that his head is sore. we gave him panado in the morning and at midday. he can't sleep he keeps waking up crying its painful. should i take him to a dr or hospital?\",\n        \"utterances\": [\n            \"patient: a 2 year complaining that his head is sore. we gave him panado in the morning and at midday. he can't sleep he keeps waking up crying its painful. should i take him to a dr or hospital?\",\n            \"doctor: in brief: fever? start by call pediatrician asap. if high fe ver or projectie vomiting take to er . take to er if inconsolable and cannot get pedicatrician if mild respiratory or gi symptoms likely virus and want to make sure adequately hydrated and may just watch, isolate from contact , and give chicken soup . work on soothing and disstraction keep in touch with pediatrician. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"can i test?no known contact with corona but been in contact with with congo dr friend 7march. she is still healthy now. i had slight sore throat wed 11 &12 march . phlegm and red eyes. temp seemed ok. got thermometer .ok. 19 felt better but coughing\",\n        \"utterances\": [\n            \"patient: can i test?no known contact with corona but been in contact with with congo dr friend 7march. she is still healthy now. i had slight sore throat wed 11 &12 march . phlegm and red eyes. temp seemed ok. got thermometer .ok. 19 felt better but coughing\",\n            \"doctor: in brief: per rsa nicd: seek care right away if difficulty breathing, other severe symptoms. seek testing if sick, plus known covid-19 contact, or travel to high risk country, or been in facility treating people with covid-19, or severe pneumonia of unknown cause.call 0800 029 999 for test. if sick or possibly exposed (not both), stay home.seek consultation if sick.if known exposure & not sick, self-isolate 14 days. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i have scratchy throat, phlegm, loss of appetite, fatigue. i am pharmacist in research facility. my son had 3rd contact. he has flu symptoms. he was quarantined. we are waiting for the results for his contact. do i need to test myself?\",\n        \"utterances\": [\n            \"patient: i have scratchy throat, phlegm, loss of appetite, fatigue. i am pharmacist in research facility. my son had 3rd contact. he has flu symptoms. he was quarantined. we are waiting for the results for his contact. do i need to test myself?\",\n            \"doctor: in brief: cluster cases i would recommend staying at home, rest, drink fluids and monitoring your temperature. you may have covid-19 or another illness. if you are otherwise healthy, await test results. keep utensils, linens separate and washed. use good hand washing and disinfect surfaces. if the test is positive, please have screening of all family members in your home. avoid contact with others. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i was in contact with someone who has tested positive for covid-19. he does not have symptoms. test was done on 18 march. i do not have any symptoms except for a running stomach. what should i do? thanks\",\n        \"utterances\": [\n            \"patient: i was in contact with someone who has tested positive for covid-19. he does not have symptoms. test was done on 18 march. i do not have any symptoms except for a running stomach. what should i do? thanks\",\n            \"doctor: self quarentine. the current nicd and department of health guidelines are to self isolate for 14 days. if you develop fever, cough or shortness of breath contact your primary care provider and arrange for testing. for more info whatsapp the word \\\"hi\\\" to excellent department of health hot-line 0600 123456. .\"\n        ]\n    },\n    {\n        \"description\": \"good day doctor. since past week, i am loosing weight.mid last week it was 62 odd and today when i checked, it is 61.35. few months back weight was above 64. i am having no other symptoms. i realized this only when my trousers were loose. thanks.\",\n        \"utterances\": [\n            \"patient: good day doctor. since past week, i am loosing weight.mid last week it was 62 odd and today when i checked, it is 61.35. few months back weight was above 64. i am having no other symptoms. i realized this only when my trousers were loose. thanks.\",\n            \"doctor: in brief: dont think c this is a different problem. dont think it is covid. which is good news. what are your other symptoms? would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for breathlessness after recovering from pneumonia\",\n        \"utterances\": [\n            \"patient: my son is 2 month old and when he was one month old then namuniya atak him and he was admited one month in eraz hospital in balagung and after 15 days he having problem in the breathing he cant breathing well can u tell me what is the problem he have and what is the sulation?\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have evaluated your query thoroughly .* this has different reasons as - residual effect of pneumonia - decreased lung immunity - spasm of bronchi or alveoli with secretions - others .* need urgent pediatric consultation for further management .wishing your angel fine recovery .regards .\"\n        ]\n    },\n    {\n        \"description\": \"my 2 year old has a small fever and is vomiting. i'm worried about her. are these symptoms of the coronavirus?\",\n        \"utterances\": [\n            \"patient: my 2 year old has a small fever and is vomiting. i'm worried about her. are these symptoms of the coronavirus?\",\n            \"doctor: probably not. much more important is what her exposure is to anyone who has covid19 or traveler from a highly infected area.fever >100.4f and respiratory symptoms are more common with covid 19 than vomiting.\"\n        ]\n    },\n    {\n        \"description\": \"just found out that my md tested positive for covid-19. i had direct interaction with him. he has no symptoms, he was tested because he traveled in february to switzerland. should i be tested. i\\u2019m 67, or wait to see if i develop any symptoms.?\",\n        \"utterances\": [\n            \"patient: just found out that my md tested positive for covid-19. i had direct interaction with him. he has no symptoms, he was tested because he traveled in february to switzerland. should i be tested. i\\u2019m 67, or wait to see if i develop any symptoms.?\",\n            \"doctor: per rsa nicd: self-isolate for 14 days.seek testing if sick.call 0800 029 999 for test information.seek consultation if sick, preferably by phone or telemedicine.seek care right away if difficulty breathing, other severe symptoms.good luck, from the united states!\"\n        ]\n    },\n    {\n        \"description\": \"hi there. i was at a festival over this past weekend and there has been a report of someone testing positive now. is it a good idea to go for a test and/or self isolate ? is national travel by car ok ?\",\n        \"utterances\": [\n            \"patient: hi there. i was at a festival over this past weekend and there has been a report of someone testing positive now. is it a good idea to go for a test and/or self isolate ? is national travel by car ok ?\",\n            \"doctor: in brief: self-quarantine! enter self-quarantine then call your health care provider to get instructions regarding testing, self-quarantine and possible hospitalization then follow through! would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"because i have type 1 diabetes, what is likely to happen to me if i get the coronavirus?\",\n        \"utterances\": [\n            \"patient: because i have type 1 diabetes, what is likely to happen to me if i get the coronavirus?\",\n            \"doctor: might be more severe. people with diabetes can have more fragile immune systems with difficulty fighting infections, so if you contract coronavirus you might be at greater risk for breathing complications. any serious illness can affect blood sugar control in diabetics also. i recommend taking extra precautions to minimize contact with people so as to avoid contacting the virus. .\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for chronic pneumonia\",\n        \"utterances\": [\n            \"patient: hi, i m a 55 yr old white female, 5`4 , 180 lbs. i had childhood asthma and bronchitis, and were given steroids frequently. i seemed to grow out of it at age 17. during the last 14 yrs i ve developed fibromyalgia/chronic fatigue, ra, for 14 months my sed rate stayed at 53-108 and they could not find out why, cushing s syndrome, neuropathy of the feet, and most importantly - hypogammagobulinemia. i rec d igg iv s monthly for 4 yrs, then lost insurance 6 yrs. ago. i m disabled and on medicare, i haven t rec d iv s in 6 yrs. during that time i ve had pneumonia 17 times, once was septic pneumonia, constant sinus problems, pcp infection and a rare form of arthritis associated with the hypo (the dr. couldn t tell me the name of it). i have contacted medicare, foundations and pharm companies trying to get help to start treatment again. reaching out to any possible help has been met with apathy and no one would try to point me in the right direction. i m really worried and would like to know my chances of surviving if i can t get the igg treatments. thank you very much for your time.\",\n            \"doctor: hello, the cause of chronic pneumonia is mandatory to be evaluated here with culture of bronchial lavage fluid, ct scan of the thorax and other supportive evaluations. unless the root cause is identified, one cannot get the complete management chart. hope i have answered your query. feel free to post further doubts. thank you. regards, dr. bhagyesh v. patel, general surgeon\"\n        ]\n    },\n    {\n        \"description\": \"hi dr. my whole body feels sore as well as my neck. my brain feels loose in my head and have headaches?\",\n        \"utterances\": [\n            \"patient: hi dr. my whole body feels sore as well as my neck. my brain feels loose in my head and have headaches?\",\n            \"doctor: in brief: viral systemic infec sounds like it could be systemic infection, like influenza or corona viruses. please contact the nicd for screening to see if you have to get tested.public hotline:+27 800029999; +27 800111132; +27 82 883 9920.only use paracetamol for pain, if not allergic to it. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"on the night of 23rd march i started experiencing soar throat and little bit nose block. i visited gp yesterday and was given flue medication. gp advised against corona testing since my temp was normal. should i be concern about the corona virus?\",\n        \"utterances\": [\n            \"patient: on the night of 23rd march i started experiencing soar throat and little bit nose block. i visited gp yesterday and was given flue medication. gp advised against corona testing since my temp was normal. should i be concern about the corona virus?\",\n            \"doctor: not at all. your\"\n        ]\n    },\n    {\n        \"description\": \"where do genital warts come from? my partner has visible ones, however i don\\u2019t. i\\u2019m female. could they be there internally ? what are the origins of this virus?\",\n        \"utterances\": [\n            \"patient: where do genital warts come from? my partner has visible ones, however i don\\u2019t. i\\u2019m female. could they be there internally ? what are the origins of this virus?\",\n            \"doctor: in brief: hpv virus human papiloma virus. you wont necessarily have them but you could have the virus. when last did you have a papsmear. they can pick it up on that. once we are out of lockdown get a papsmear. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for chest cold after treated pneumonia in past\",\n        \"utterances\": [\n            \"patient: my son is 3 years old, and came down with a head cold wed, it moved immediately to his chest (he is a preemie-grad, and has had trouble with pneumonia and rsv in past) he is running a temp, and his respiratory rate is between 48-50. i just don't know if i should wait it out a little longer to see what the day brings or take him in. i hate feelling like i'm always there for the slightest things with him, but his history proves medical intervention always was the case. it just seems so quick that a lung issue would be evident, when he only started showing signs of a cold wednesday night.\",\n            \"doctor: hello,your son\\u2019s respiratory rate is too high. please take him to er immediately and take a chest x-ray immediately.hope i have answered your query. let me know if i can assist you further.regards,dr. siva kumar reddy\"\n        ]\n    },\n    {\n        \"description\": \"suggest medication for severe pneumonia\",\n        \"utterances\": [\n            \"patient: i have been on methadone for approx. 5 years now at a dose of 30mg taken 4 times daily. this has not only stopped any unpleasant withdrawl symptoms but has also offered considerable relief in easing chronic pain from a severe back injury 11 years ago. for the first 3 years of taking the medication i found that while it was effective in these areas their was an exceptional side effect in that it absolutely obliterated any interest in sex or even the ability to physically have sex. also i found that i had next to no energy, making many things i used to enjoy fall by the wayside which in turn led to severe depression. after extensive talks with my doctor i was sent for blood analysis and it was found that my level of testosterone was so low it barely registered. i was then put on a 3 week cycle of injections of 2mls of delatestryl and for the past several years i have been the person that i used to be (it gave me my life back). know i have been given a new doctor at the clinic i attend and he has informed me that he is only there to prescribe methadone and will not be responsible for any other prescriptions. i do not have a family doctor and our emerg has said that this falls outside their domain. the walk in clinic treats every individual that i know so badly that their is no doubt in my mind that they will refuse to continue this presciption. (to give you some perspective on our walk in clinic - i went their several mnths back with sever pneumonia and the doctor looked at my chart once and told me that i would get know %$# narcotics from him and to leave immediately) any suggestions on how to get across to my knew methadone doctor (who has only been in prescribing methadone for 2 months) just how much this would severely negatively impact my life?\",\n            \"doctor: hello and welcome to \\u2018ask a doctor\\u2019 service. i have reviewed your query and here is my advice. * the pneumonia management depends upon the symptoms which are not narrated here precisely. * the methadone is known to cause long terms side effects over liver, kidney and other body systems, which should be discussed with the treating physician. awaiting for the symptomatic details to guide further. hope i have answered your query. let me know if i can assist you further.\"\n        ]\n    },\n    {\n        \"description\": \"associated with phlegm and mucus?\",\n        \"utterances\": [\n            \"patient: associated with phlegm and mucus?\",\n            \"doctor: cough,phlegm. at this time your symptoms are characteristic of a viral upper respiratory tract infection, and if your sputum is very discolored, bronchitis may be present. absence of fever,chills, chest discomfort,shortness of breath or wheezing is reassuring but your md may recommend starting antibiotic treatment. leave it to him/her whether covid19 treating is advisable depending upon exposure history.\"\n        ]\n    },\n    {\n        \"description\": \"what is the permanent treatment for klebsiella pneumoniae?\",\n        \"utterances\": [\n            \"patient: my mother has cre/resistant klebsiella pnuemoneae(excuse the spelling) she is allergic to most antibiotics,sulfa, & penicillin. she has been treated five times obviouly they haven t worked in full! she easily goes anaphylactic! mid way through treatments. last trtmt. was 7 days ago. 1st day , iv ertapenem 1mg and litocane, prior to trtmt. she premeds w/ 50 mgs oral benedryl,1 hour cooktime prior ttrtmt.there was to be an additional 9 doses im and on 6th dose went into shock. she is being readmitted in a.m. for another attempt she is trying oral doses of colodial silver. help what to do? how long can this go on before she dies? what are the symptoms of death dur to cre?\",\n            \"doctor: hi, in such conditions we recommend another class of antibiotics but in the survey of the allergologist who should monitor closely the patient's situation. hope i have answered your query. let me know if i can assist you further. regards, dr. jnikolla, pulmonologist\"\n        ]\n    },\n    {\n        \"description\": \"i have tested positive for covid 19 what medication must i take?\",\n        \"utterances\": [\n            \"patient: i have tested positive for covid 19 what medication must i take?\",\n            \"doctor: only if hospitalized. covid-19 infection is worldwide, in all but some isolated areas. the goal is to keep people separated so that the clinics and hospitals are not overwhelmed. patients can be presumed positive regardless of whether they got tested or not, as there's no way to test everyone. no good outpatient treatment found yet. trials of various meds are done for hospitalized patients. (mar. 2020)\"\n        ]\n    },\n    {\n        \"description\": \"could the persistent strep inspite of using amoxicillin be due to pneumonia?\",\n        \"utterances\": [\n            \"patient: son is 9 years old. he has strep and is on amoxicilin. his fever is gone now, but he still doesn't feel good. very tired and dark circles under the eyes. very pale. he has been on the med for 3 full days and i think the antibiotic is not working. could he also have pneumonia (no cough though).\",\n            \"doctor: thanks for your question on healthcare magic.i can understand your concern.no need to worry for pneumonia as he is not having coughing.coughing is first symptom of pneumonia.so pneumonia is unlikely in the absence of coughing.and 3 days antibiotic duration is too early to decide about effectiveness.you should give full 7 days course of amoxicillin.fever was subsided so amoxicillin island definitely working.along within amoxicillin, give him plenty of fluids orally, fruits, juices etc for energy.don't worry, he will be alright.hope i have solved your query. i will be happy to help you further. wish you good health. thanks.\"\n        ]\n    },\n    {\n        \"description\": \"on and off fever, sore body?\",\n        \"utterances\": [\n            \"patient: on and off fever, sore body?\",\n            \"doctor: probable flu. this definitely sounds like influenza is starting.( unless you have any obvious reason to suspect covid-19,malaria,tick bite fever or glandular fever).rest,vitamin c and a suitable over the counter painkiller. i would advise avoiding ibuprofen and other non-steroidal anti-inflammatory medication.\"\n        ]\n    },\n    {\n        \"description\": \"are there specific animals or pets more likely to catch corona than others? which animals should i be staying away from?\",\n        \"utterances\": [\n            \"patient: are there specific animals or pets more likely to catch corona than others? which animals should i be staying away from?\",\n            \"doctor: in brief: limited risk from my reading the corona virus is limited in the animals it infests to varieties of bats and snakes. i would not put your dog or cat on such a list. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"how long do shortness of breath and cough last post recovery from pneumonia?\",\n        \"utterances\": [\n            \"patient: i was diagnosed with pneumonia on june 30. i finished taking my antibiotics and cough pills. i still continue to cough sometimes gaging. shortness of breath and wheezing, i have an inhaler, i am not coughing up anymore phlem. my doctor says to take mucinex dm. i have finished a bottle. i also have taken robitussin cough medicine. she also sd cough cld last up to 4-6 weeks.\",\n            \"doctor: hello, these symptoms last for 3-4 weeks. so no need to worry if fever is not there. hope i have answered your query. let me know if i can assist you further. take care regards, dr kaushal bhavsar, pulmonologist\"\n        ]\n    },\n    {\n        \"description\": \"is hrct test recommended for pneumonia?\",\n        \"utterances\": [\n            \"patient: hello doctor, my mother is an asthamatic and diabetic and has been suffering from pneumonis and being treated an madam mohan malviya hospital in malviya nagar delhi. the doctors there have recomended for a hrct test done for her chest. cld u recomend the hospital where we shld go for this test?\",\n            \"doctor: thanks for your question on healthcare magic.i can understand your concern. hrct thorax is done at radiology center. so ask your doctor about near by ct scan centers.usually ct scan is not required for diagnosis of pneumonia.but in some cases if diagnosis is not confirmed or patient is not improving or we suspect tb or ild (interstitial lung disease) then hrct thorax is advised.hope i have solved your query. i will be happy to help you further. wishing good health to your mother. thanks.\"\n        ]\n    },\n    {\n        \"description\": \"i work in a call center and one of my agents tested positive for covid-19, sent her home wednesday to get tested and yesterday they came back positive?\",\n        \"utterances\": [\n            \"patient: i work in a call center and one of my agents tested positive for covid-19, sent her home wednesday to get tested and yesterday they came back positive?\",\n            \"doctor: covid. https://www.healthtap.com/blog/covid-19-care-guidelines/resources-for-managing-covid-19https://www.healthtap.com/blog/covid-19-care-guidelines/self-quarantine-guide.\"\n        ]\n    },\n    {\n        \"description\": \"girlfriend has coronavirus. with bad symptoms. it\\u2019s 7 days since she started symptoms, and last time i saw her. i still don\\u2019t feel symptoms. how much longer am i in the zone of possibly starting symptoms from close exposure?\",\n        \"utterances\": [\n            \"patient: girlfriend has coronavirus. with bad symptoms. it\\u2019s 7 days since she started symptoms, and last time i saw her. i still don\\u2019t feel symptoms. how much longer am i in the zone of possibly starting symptoms from close exposure?\",\n            \"doctor: in brief: quarantine you should be in self quarantine as it might take another week for you to develop symptoms. as soon as spiking fever, having a sore throat or cough- test. do not travel, nor visit medical facilities. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"should a ct scan be done while suffering from pneumonia?\",\n        \"utterances\": [\n            \"patient: my 62 year old sister is currently hospitalized for pneumonia that was dx after foot surgery related to a fall. she had breast ca 8 years ago. currently taking tamoxifin. brca ii gene. 3 sisters also with gene mutation and hx of breast ca. youngest sister passed away from recurrance of breast ca. (mets to lungs, liver and bones.) hospital ruled out blood clot in lung. dx with pneumonia. should ct scan be done since she has has a long standing cough and multiple bouts of pneumonia.\",\n            \"doctor: hello and welcome to \\u2018ask a doctor\\u2019 service. i have reviewed your query and here is my advice. yes, she can safely do the chest ct. there is not any contraindication of doing it in pneumonia. regards, dr.jolanda\"\n        ]\n    },\n    {\n        \"description\": \"i have chest congestion and i feel heavy when i breathe (not sure if i have a fever, don\\u2019t really have a cough but my throat is sore). i also know that someone in my office and my boyfriends office have been infected with covid19. what should i do?\",\n        \"utterances\": [\n            \"patient: i have chest congestion and i feel heavy when i breathe (not sure if i have a fever, don\\u2019t really have a cough but my throat is sore). i also know that someone in my office and my boyfriends office have been infected with covid19. what should i do?\",\n            \"doctor: in brief: ? telephonic consult if you are able, consult telephonically with your gp. if not, do not go into public places, rather get symptomatic treatment - let someone who is well do this as swiftly as they can. otherwise continue consulting on this forum. we can help you. if you have access to a test this is the only way to know if you truely have it. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"what do hurting ribs radiating to back and shoulder after being treated for pneumonia mean?\",\n        \"utterances\": [\n            \"patient: hi, may i answer your health queries right now ? please type your query here...i have been to the doctor 2 times. first time, it was a severe sinus infection, week later had to go back, turned into pneumonia, had to go back third time. all 3 times i was given a shot, antibotics & c-pack first time, steroids, antibotics & shot second and antibotics & shot third. i have been hurting under my ribs and has gone to my back and shoulder. do you think the pneumonia has gotten worse? do i need to go back to the doctor?\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have evaluated your concern in depth .* this indicates lung pathology giving nerve endings pain with hurting ribs radiating to back and shoulder .* if not carried out x-ray chest with or without ct thorax is a must for proper diagnosis and management guidelines .hope this clears your query .regards .\"\n        ]\n    },\n    {\n        \"description\": \"my 5 year old daughter has just come down with a 39 degree fever, sneezing, runny nose and cough. should we get her tested?\",\n        \"utterances\": [\n            \"patient: my 5 year old daughter has just come down with a 39 degree fever, sneezing, runny nose and cough. should we get her tested?\",\n            \"doctor: maybe. has she been around anyone who has tested positive for covid-19? is she having shortness of breath or labored breathing? if so, then, yes, consider getting her tested. if not, it is more likely that she has the flu or some other virus. if it seems like more than just a regular cold, reach out to her pediatrician for more advice.\"\n        ]\n    },\n    {\n        \"description\": \"hi. i have a very tight chest but no cough. feels like i am about to cough sometimes but no cough. then when i stand upright it's worse. no fever. possible exposure to covid from gibs university but not sure. really burning sensation on my chest.\",\n        \"utterances\": [\n            \"patient: hi. i have a very tight chest but no cough. feels like i am about to cough sometimes but no cough. then when i stand upright it's worse. no fever. possible exposure to covid from gibs university but not sure. really burning sensation on my chest.\",\n            \"doctor: in brief: consider asthma have you ever had asthma or wheezing? that can cause tightness & shortness of breath, as can certain heart problems. without fever & cough, covid 19 is less likely, but probably best to call your dr\\u2019s office for recommendation. if the breathing worsens you should be seen assp by video visit or perhaps in person to listen to lungs & assess need for possible chest x-ray, ekg, & medication would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"hi! so i\\u2019m a 20 year old female. i started working out about a year ago. i noticed some lower abdominal pain after partaking in abdominal workouts. but also notice it around the time of my period. it\\u2019s right next to/under my hip bone on left side.\",\n        \"utterances\": [\n            \"patient: hi! so i\\u2019m a 20 year old female. i started working out about a year ago. i noticed some lower abdominal pain after partaking in abdominal workouts. but also notice it around the time of my period. it\\u2019s right next to/under my hip bone on left side.\",\n            \"doctor: in brief: this could well be very normal. one can get pain on day 14 during ovulation and before and during the period. use panado for this and once we are through this corona virus you can use anti-inflammatories. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"does covid-19 spreads through water? what precautions should i take to avoid infection?\",\n        \"utterances\": [\n            \"patient: hi, i am chaitanya, 27 years old. i use to swim daily in morning. does covid-19 spreads through water ? what precautions should i take to avoid infection?\",\n            \"doctor: hello and welcome to ask a doctor service. i have reviewed your query and here is my advice. first few cases were suspected to have spread from food. however human to human spread is mainly from air droplets. i would suggest you to refrain from swimming for sometime. although the virus will get killed in swimming pool if it doesnot find host for more than few minutes. other precautions include to avoid social gatherings, wash hands frequently with soap and water, cover face with mask, stay home during sickness, avoid travel. hope it helps. let me know if i can assist you further. dr vaishalee\"\n        ]\n    },\n    {\n        \"description\": \"my boyfriend suddenly lost his sense of smell. he had a sleep apnea test done 3 days ago, on a machine, plus one if his nostrils is stuffed up, due to a slight cold. also when the test was done, his nostrils were clear. what caused this?\",\n        \"utterances\": [\n            \"patient: my boyfriend suddenly lost his sense of smell. he had a sleep apnea test done 3 days ago, on a machine, plus one if his nostrils is stuffed up, due to a slight cold. also when the test was done, his nostrils were clear. what caused this?\",\n            \"doctor: covid-19? you won't like to hear this, but loss of smell (anosmia) or taste often is the first symptom of covid-19, the epidemic coronavirus infection. nasal congestion also could go along with this. and you probably know that covid-19 is currently a big problem in nyc. he should contact his doctor right away.\"\n        ]\n    },\n    {\n        \"description\": \"hpv virus has affected my sex life. i bleed a lot during sex and on my period. i did a cervical cauterisation but my period is still the same and i\\u2019m scared to have sex due to bleeding as i was once hospitalised for it. any tips on what i can do?\",\n        \"utterances\": [\n            \"patient: hpv virus has affected my sex life. i bleed a lot during sex and on my period. i did a cervical cauterisation but my period is still the same and i\\u2019m scared to have sex due to bleeding as i was once hospitalised for it. any tips on what i can do?\",\n            \"doctor: in brief: cervix trauma one technique is to have your partner only penetrate your vagina half way to avoid trauma to the cervix. you and your partner can still have enough stimulation and pleasure this way. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"why does one have difficulty in sleeping with history of pneumonia?\",\n        \"utterances\": [\n            \"patient: my father 82 years old was in the hospital for pneumonia and per cardiac catherization showing blockage. it was diagnosed that blockage was too much for bypass or stent. only medication is given to help heart. heart muscles also showed dead so it was no use to have bypass surgery per cardiac physician as even if blockage removed muscles would not help heart. my question is that now released from home he has been very uncomfortable during night sleep. he moans while asleep. he gets up and sits on bed. he then lays back and the same continues. he states being tired from hospital stay. he states he is tired from stay in hospital like hospital bed etc. he really gets to sleep at 6 am and then during the day he is fine. then the next night it starts again. has been home since feb. 2. current medical doctor provided meds to sleep but that was worse. my mother is the primary caretaker and has reported his night sleep is off after returning home. does the new diagnosis cause this or is there is a reason. thanks.\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have evaluated your query thoroughly .* there are different reasons for this as - lung abscess - effusion - cardiac distress induced - lung hypoxia due to altered pulmonary pressure - anxiety exacerbation - others .hope this clears your query .regards .\"\n        ]\n    },\n    {\n        \"description\": \"is removal of a lung correct if having pneumonia?\",\n        \"utterances\": [\n            \"patient: i ve had pneumonia numerous times always in my left lung. the last time was a year ago, it never went away. my pulmonary explained that the disease is between all the scar tissue. i also have crohns disease and am treated with remicade. after several c-scans which showed a mass and biopsies and cultures which came back negative,i had the left lung completely removed last month and was diagnosed with pulmonary eosinothioia. does this sound correct?\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have evaluated your query in details .* according to the narration it was seemingly the correct decision of surgery on part of the surgeon as well as patient , because the medicines were not going to cure it at all .wishing you fine recovery .feel free to ask any further queries .regards .\"\n        ]\n    },\n    {\n        \"description\": \"what does this chest x-ray test result for pneumonia indicate?\",\n        \"utterances\": [\n            \"patient: hi, my chest x-ray reveals i have a small lingular infiltrate.wbc,lymphocytes,hct etc elevated due to infection.i had a course of augmentin duo and steroid.currently on azithromycin 250 mgs.symptoms of pneumonia still persisting.do i need to change my treatment?\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have gone through your query thoroughly .* x-ray result indicates infection of the lung with some sort of bacteria giving rise to pneumonia .* pneumonia recovery takes time depending upon the virulence of the organisms , host immune response and other co morbid conditions .* if your symptom score has declined from the initiation of the therapy wait for further progress , if the intensity of the symptoms is as it is then have to consider the change of therapy or consultant .hope this clears your doubt .thanks .regards .\"\n        ]\n    },\n    {\n        \"description\": \"i have a sore throat, coughing, swollen glands in neck. i am a teacher. i was in contact with many kids until wed last week. one of the parents tested positive for covid 19 but there is no way i was in contact. what should i do?\",\n        \"utterances\": [\n            \"patient: i have a sore throat, coughing, swollen glands in neck. i am a teacher. i was in contact with many kids until wed last week. one of the parents tested positive for covid 19 but there is no way i was in contact. what should i do?\",\n            \"doctor: urti. dear teacheracording to your description, it can be just a viral sore throat. any fever/headache/dry cough/body pains?are you improving?rest, medication like paracetamol/antihistamines/lozenges.you are an unlikely contact for covid 19 at present, but observe, isolate , unless you do not improveregardsdr wil.\"\n        ]\n    },\n    {\n        \"description\": \"i believe the incubation period for covid 19 is 7 days. so if you get sick after 7 days does the 14 say quarantine period starts from the moment you show symptoms or is the 7 days incubation period included in 14 day quarantine period?\",\n        \"utterances\": [\n            \"patient: i believe the incubation period for covid 19 is 7 days. so if you get sick after 7 days does the 14 say quarantine period starts from the moment you show symptoms or is the 7 days incubation period included in 14 day quarantine period?\",\n            \"doctor: after symptoms show. as per the nicd guidelines for clinical management of suspected or confirmed covid-19 disease, \\\"those with mild disease may be de-isolated 14 days after symptom onset, while those with severe disease may be de-isolated 14 days after achieving clinical stability (e.g. once supplemental oxygen is discontinued)\\\". [available at: http://www.nicd.ac.za/diseases-a-z-index/covid-19/covid-19-guidelines/]\"\n        ]\n    },\n    {\n        \"description\": \"been sneezing / stuffy nose and slight sore throat since returning from france, temperature is okay, not coughing or high fever symptoms, should i be alarmed?\",\n        \"utterances\": [\n            \"patient: been sneezing / stuffy nose and slight sore throat since returning from france, temperature is okay, not coughing or high fever symptoms, should i be alarmed?\",\n            \"doctor: simple cold but..... sounds like simple cold, but under the current health challenges of the world, it's best to be preemptive. and because covid-19 is an infectious disease mostly transmitted through respiratory fluid droplets, one should first follow the who/cdc current guidelines on hygiene. then gargle with salt-water or vinegar-water after each meal/bedtime plus take aleve or ibuprofen for soreness/fever... .\"\n        ]\n    },\n    {\n        \"description\": \"buen d\\u00eda doctor (a) tengo una duda :si dos hombres homosexuales tienen relaciones sexuales sin protecci\\u00f3n pero estos tienen una relaci\\u00f3n mutuamente monogama y ninguno de las dos personas est\\u00e1 infectado de vih\\u00bfpueden contraer vih?\",\n        \"utterances\": [\n            \"patient: buen d\\u00eda doctor (a) tengo una duda :si dos hombres homosexuales tienen relaciones sexuales sin protecci\\u00f3n pero estos tienen una relaci\\u00f3n mutuamente monogama y ninguno de las dos personas est\\u00e1 infectado de vih\\u00bfpueden contraer vih?\",\n            \"doctor: in brief: transmisi\\u00f3n vih solamente ciertos l\\u00edquidos corporales \\u2014la sangre, el semen, el l\\u00edquido preseminal, las secreciones rectales etc \\u2014 de una persona que tiene el vih pueden transmitir el virus. si ambos tienen la certeza con una prueba confirmatoria de que no est\\u00e1n infectados y son monogamos no tienen por qu\\u00e9 contraerlo. sin embargo tener relaciones sexuales sin protecci\\u00f3n pueden contraer otro ets would you like to video or text chat with me?\"\n        ]\n    }\n]",
  "public\\next.svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 394 80\"><path fill=\"#000\" d=\"M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z\"/><path fill=\"#000\" d=\"M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z\"/></svg>",
  "public\\vercel.svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 283 64\"><path fill=\"black\" d=\"M141 16c-11 0-19 7-19 18s9 18 20 18c7 0 13-3 16-7l-7-5c-2 3-6 4-9 4-5 0-9-3-10-7h28v-3c0-11-8-18-19-18zm-9 15c1-4 4-7 9-7s8 3 9 7h-18zm117-15c-11 0-19 7-19 18s9 18 20 18c6 0 12-3 16-7l-8-5c-2 3-5 4-8 4-5 0-9-3-11-7h28l1-3c0-11-8-18-19-18zm-10 15c2-4 5-7 10-7s8 3 9 7h-19zm-39 3c0 6 4 10 10 10 4 0 7-2 9-5l8 5c-3 5-9 8-17 8-11 0-19-7-19-18s8-18 19-18c8 0 14 3 17 8l-8 5c-2-3-5-5-9-5-6 0-10 4-10 10zm83-29v46h-9V5h9zM37 0l37 64H0L37 0zm92 5-27 48L74 5h10l18 30 17-30h10zm59 12v10l-3-1c-6 0-10 4-10 10v15h-9V17h9v9c0-5 6-9 13-9z\"/></svg>",
  "scripts\\loadEnv.js": "const fs = require('fs');\nconst path = require('path');\n\nfunction loadEnv() {\n  console.log('Starting to load environment variables...');\n  const envPath = path.resolve(process.cwd(), '.env.local');\n  console.log('Looking for .env.local file at:', envPath);\n  \n  if (!fs.existsSync(envPath)) {\n    console.error('.env.local file not found');\n    return;\n  }\n\n  console.log('.env.local file found. Reading contents...');\n  const envContent = fs.readFileSync(envPath, 'utf-8');\n  const envVars = envContent.split('\\n');\n\n  console.log('Parsing environment variables...');\n  envVars.forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) {\n      process.env[key.trim()] = value.trim();\n      console.log(`Set ${key.trim()} in process.env`);\n    }\n  });\n\n  console.log('Environment variables loaded:');\n  console.log('PINECONE_API_KEY:', process.env.PINECONE_API_KEY ? 'Set' : 'Not set');\n  console.log('PINECONE_ENVIRONMENT:', process.env.PINECONE_ENVIRONMENT);\n  console.log('PINECONE_INDEX_NAME:', process.env.PINECONE_INDEX_NAME);\n}\n\nmodule.exports = loadEnv;",
  "scripts\\uploadToPinecone.js": "const { PineconeClient } = require(\"@pinecone-database/pinecone\");\nconst loadEnv = require('./loadEnv');\nloadEnv();\n\nconst fetch = require('node-fetch');\nconst fs = require('fs').promises;\nconst path = require('path');\nconst { OpenAIEmbeddings } = require(\"langchain/embeddings/openai\");\n\nconst PINECONE_API_KEY = process.env.PINECONE_API_KEY;\nconst PINECONE_ENVIRONMENT = process.env.PINECONE_ENVIRONMENT;\nconst PINECONE_INDEX_NAME = process.env.PINECONE_INDEX_NAME;\n\nconsole.log(\"Environment variables:\");\nconsole.log(\"PINECONE_API_KEY:\", PINECONE_API_KEY ? \"Set\" : \"Not set\");\nconsole.log(\"PINECONE_ENVIRONMENT:\", PINECONE_ENVIRONMENT);\nconsole.log(\"PINECONE_INDEX_NAME:\", PINECONE_INDEX_NAME);\n\nasync function initPinecone() {\n  console.log(\"Initializing Pinecone...\");\n  const pinecone = new PineconeClient();\n  try {\n    console.log(\"Pinecone init params:\", {\n      apiKey: PINECONE_API_KEY ? \"Set\" : \"Not set\",\n      environment: PINECONE_ENVIRONMENT\n    });\n    await pinecone.init({\n      apiKey: PINECONE_API_KEY,\n      environment: PINECONE_ENVIRONMENT,\n    });\n    console.log(\"Pinecone initialized successfully\");\n    return pinecone;\n  } catch (error) {\n    console.error(\"Error initializing Pinecone:\");\n    console.error(\"Error name:\", error.name);\n    console.error(\"Error message:\", error.message);\n    console.error(\"Full error object:\", JSON.stringify(error, null, 2));\n    if (error.response) {\n      console.error(\"Response data:\", error.response.data);\n      console.error(\"Response status:\", error.response.status);\n    }\n    throw error;\n  }\n}\n\nasync function loadJSONFiles(directory) {\n  console.log(`Loading JSON files from ${directory}...`);\n  const files = await fs.readdir(directory);\n  const jsonFiles = files.filter(file => path.extname(file).toLowerCase() === '.json');\n  console.log(`Found ${jsonFiles.length} JSON files`);\n  \n  const data = [];\n  for (const file of jsonFiles) {\n    const filePath = path.join(directory, file);\n    console.log(`Reading file: ${filePath}`);\n    const content = await fs.readFile(filePath, 'utf-8');\n    const jsonContent = JSON.parse(content);\n    console.log(`Loaded ${jsonContent.length} items from ${file}`);\n    data.push(...jsonContent);\n  }\n  \n  console.log(`Total items loaded: ${data.length}`);\n  return data;\n}\n\nasync function uploadToPinecone(data) {\n  console.log(\"Starting upload to Pinecone...\");\n  const pinecone = await initPinecone();\n  const index = pinecone.Index(PINECONE_INDEX_NAME);\n  const embeddings = new OpenAIEmbeddings();\n\n  for (let i = 0; i < data.length; i++) {\n    const item = data[i];\n    console.log(`Processing item ${i + 1} of ${data.length}`);\n    const fullText = `Description: ${item.description}\\n\\nConversation:\\n${item.utterances.join('\\n')}`;\n    console.log(\"Generating embedding...\");\n    const embedding = await embeddings.embedQuery(fullText);\n    \n    console.log(\"Upserting to Pinecone...\");\n    await index.upsert({\n      upsertRequest: {\n        vectors: [{\n          id: `item-${i}`,\n          values: embedding,\n          metadata: { \n            description: item.description,\n            utterances: item.utterances\n          }\n        }],\n      }\n    });\n    \n    console.log(`Uploaded item ${i + 1} of ${data.length}`);\n  }\n  \n  console.log('Upload complete!');\n}\n\nconst https = require('https');\n\nfunction testPineconeConnection() {\n  return new Promise((resolve, reject) => {\n    https.get('https://api.pinecone.io', (res) => {\n      console.log('Pinecone API response status:', res.statusCode);\n      resolve(res.statusCode);\n    }).on('error', (e) => {\n      console.error('Error reaching Pinecone API:', e);\n      reject(e);\n    });\n  });\n}\n\nasync function main() {\n  try {\n    console.log(\"Testing Pinecone API connection...\");\n    await testPineconeConnection();\n    const data = await loadJSONFiles('./data');\n    await uploadToPinecone(data);\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\nconsole.log(\"Script started\");\nmain().then(() => console.log(\"Script finished\"));",
  "src\\app\\globals.css": "* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n \n}\n\n:root {\n  --font-nunito: 'Nunito', sans-serif;\n}\n\nbody {\n  font-family: var(--font-nunito);\n}\n\n\n\n\n",
  "src\\app\\layout.js": "// src/app/layout.js\nimport { Nunito } from \"next/font/google\";\nimport \"./globals.css\";\n\nconst nunito = Nunito({ \n  subsets: [\"latin\"],\n  weight: ['400', '700'], // Add any weights you need\n  variable: '--font-nunito', // This creates a CSS variable\n});\n\nexport const metadata = {\n  title: \"HealthChat AI\",\n  description: \"Generated by Headstarter\",\n};\n\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"en\" className={nunito.variable}>\n      <body className={nunito.className}>{children}</body>\n    </html>\n  );\n}",
  "src\\app\\page.js": "'use client'\n\nimport React, { useState } from 'react';\nimport { Button, Typography, Box, Container, AppBar, Toolbar, Modal, useTheme, useMediaQuery } from '@mui/material';\nimport ChatIcon from '@mui/icons-material/Chat';\nimport SecurityIcon from '@mui/icons-material/Security';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport Auth from './components/Auth';\nimport PopupChat from './components/PopupChat';\nimport { auth } from './utils/firebase';\nimport { useRouter } from 'next/navigation';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\n\nconst theme = createTheme({\n  typography: {\n    fontFamily: 'var(--font-nunito), Arial, sans-serif',\n  },\n  palette: {\n    primary: {\n      main: '#4caf50', // A friendlier green color\n    },\n    secondary: {\n      main: '#ff7043', // A warm orange color\n    },\n  },\n  components: {\n    MuiTypography: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n        },\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n          borderRadius: '25px',\n        },\n      },\n    },\n  },\n});\n\nconst FeatureCard = ({ icon, title, description }) => (\n  <Box\n    sx={{\n      backgroundColor: 'rgba(255, 255, 255, 0.9)',\n      borderRadius: '20px',\n      padding: '2rem',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out',\n      '&:hover': {\n        transform: 'translateY(-10px)',\n        boxShadow: '0 10px 20px rgba(0, 0, 0, 0.2)',\n      },\n    }}\n  >\n    <Box\n      sx={{\n        backgroundColor: 'primary.main',\n        borderRadius: '50%',\n        padding: '1rem',\n        marginBottom: '1rem',\n      }}\n    >\n      {icon}\n    </Box>\n    <Typography variant=\"h6\" component=\"h3\" sx={{ mb: 2, color: 'primary.main', textAlign: 'center' }}>\n      {title}\n    </Typography>\n    <Typography variant=\"body2\" sx={{ color: 'text.secondary', textAlign: 'center', flexGrow: 1 }}>\n      {description}\n    </Typography>\n  </Box>\n);\n\nexport default function LandingPage() {\n  const [authOpen, setAuthOpen] = useState(false);\n  const [isLogin, setIsLogin] = useState(true);\n  const [medFriendOpen, setMedFriendOpen] = useState(false);\n  const [user, setUser] = useState(null);\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const router = useRouter();\n\n  const handleAuthOpen = (loginMode) => {\n    setIsLogin(loginMode);\n    setAuthOpen(true);\n  };\n\n  const handleAuthClose = () => setAuthOpen(false);\n  const handleTryMedFriend = () => setMedFriendOpen(true);\n  const handleCloseMedFriend = () => setMedFriendOpen(false);\n\n  const handleEnterChatRoom = () => {\n    if (user) {\n      router.push('/chat');\n    } else {\n      handleAuthOpen(true);\n    }\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Box sx={{ fontFamily: 'var(--font-nunito), Arial, sans-serif' }}>\n        <AppBar position=\"fixed\" color=\"transparent\" elevation={0} sx={{ backdropFilter: 'blur(10px)' }}>\n          <Toolbar>\n            <FavoriteIcon sx={{ mr: 2, color: 'primary.main' }} />\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1, fontWeight: 'bold', color: 'primary.main' }}>\n              Med-Friend\n            </Typography>\n            <Button color=\"primary\" onClick={() => handleAuthOpen(true)} sx={{ mr: 1 }}>Login</Button>\n            <Button color=\"primary\" variant=\"contained\" onClick={() => handleAuthOpen(false)}>Sign Up</Button>\n          </Toolbar>\n        </AppBar>\n\n        <Box\n          sx={{\n            backgroundImage: 'url(\"/images/Health_friend.png\")',\n            backgroundSize: 'cover',\n            backgroundPosition: 'center',\n            minHeight: '100vh',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            color: 'white',\n            textAlign: 'center',\n            pt: 8,\n            '&::before': {\n              content: '\"\"',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.4)',\n              zIndex: -1,\n            },\n          }}\n        >\n          <Container maxWidth=\"md\" sx={{ \n            position: 'relative', \n            zIndex: 2, \n            backgroundColor: 'rgba(255, 255, 255, 0.9)',\n            backdropFilter: 'blur(10px)',\n            borderRadius: '20px',\n            padding: '3rem 2rem',\n            boxShadow: '0 4px 30px rgba(0, 0, 0, 0.1)',\n            border: '1px solid rgba(255, 255, 255, 0.2)',\n          }}>\n            <Typography \n              variant={isMobile ? 'h3' : 'h2'} \n              component=\"h1\" \n              gutterBottom \n              fontWeight=\"bold\"\n              sx={{\n                color: 'primary.main',\n                textShadow: '1px 1px 2px rgba(0, 0, 0, 0.1)',\n              }}\n            >\n              Your Friendly Health Companion\n            </Typography>\n            <Typography \n              variant=\"h5\" \n              component=\"h2\" \n              gutterBottom\n              sx={{\n                color: 'text.primary',\n                mb: 4,\n              }}\n            >\n              Get caring, reliable health advice anytime, anywhere\n            </Typography>\n            <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4, gap: 2 }}>\n              <Button\n                variant=\"contained\"\n                size=\"large\"\n                startIcon={<ChatIcon />}\n                onClick={handleTryMedFriend}\n                sx={{ \n                  fontSize: '1.2rem', \n                  py: 1.5, \n                  px: 4,\n                  backgroundColor: theme.palette.secondary.main,\n                  color: 'white',\n                  '&:hover': {\n                    backgroundColor: theme.palette.secondary.dark,\n                  },\n                }}\n              >\n                Try Med-Friend\n              </Button>\n              <Button\n                variant=\"outlined\"\n                size=\"large\"\n                onClick={handleEnterChatRoom}\n                sx={{ \n                  fontSize: '1.2rem', \n                  py: 1.5, \n                  px: 4, \n                  color: 'primary.main', \n                  borderColor: 'primary.main',\n                  '&:hover': {\n                    borderColor: 'primary.dark',\n                    color: 'primary.dark',\n                  },\n                }}\n              >\n                Enter Chat \n              </Button>\n            </Box>\n          </Container>  \n        </Box>\n\n        <Box sx={{\n          background: 'linear-gradient(135deg, #e8f5e9, #c8e6c9)',\n          py: 12,\n          position: 'relative',\n          overflow: 'hidden',\n        }}>\n          <Container maxWidth=\"lg\">\n            <Typography variant=\"h4\" component=\"h2\" textAlign=\"center\" gutterBottom fontWeight=\"bold\" sx={{ color: 'primary.main', mb: 8 }}>\n              Why Choose Med-Friend?\n            </Typography>\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 4, justifyContent: 'center' }}>\n              <Box sx={{ flex: '1 1 300px', maxWidth: '350px' }}>\n                <FeatureCard\n                  icon={<ChatIcon sx={{ fontSize: 40, color: 'white' }} />}\n                  title=\"Friendly Conversations\"\n                  description=\"Engage in warm, understanding chats about your health concerns with our AI companion.\"\n                />\n              </Box>\n              <Box sx={{ flex: '1 1 300px', maxWidth: '350px' }}>\n                <FeatureCard\n                  icon={<SecurityIcon sx={{ fontSize: 40, color: 'white' }} />}\n                  title=\"Safe and Confidential\"\n                  description={<>Your privacy is our priority. All conversations are secure and anonymous. Learn more about our privacy practices from <a href=\"https://www.hhs.gov/hipaa/index.html\" style={{color: theme.palette.secondary.main}}>HHS</a>.</>}\n                />\n              </Box>\n              <Box sx={{ flex: '1 1 300px', maxWidth: '350px' }}>\n                <FeatureCard\n                  icon={<FavoriteIcon sx={{ fontSize: 40, color: 'white' }} />}\n                  title=\"Reliable Health Guidance\"\n                  description=\"Our AI is trained on trusted medical resources to provide accurate and helpful health information.\"\n                />\n              </Box>\n            </Box>\n          </Container>\n        </Box>\n\n        <Box sx={{ \n          position: 'relative',\n          overflow: 'hidden',\n          background: 'linear-gradient(135deg, #81c784 0%, #4caf50 100%)',\n          py: 8,\n        }}>\n          <Container maxWidth=\"md\" sx={{ position: 'relative', zIndex: 2 }}>\n            <Typography \n              variant=\"h4\" \n              component=\"h2\" \n              textAlign=\"center\" \n              gutterBottom \n              fontWeight=\"bold\" \n              sx={{\n                color: '#ffffff',\n                textShadow: '1px 1px 2px rgba(0,0,0,0.2)',\n              }}\n            >\n              Ready for a Friendly Chat About Your Health?\n            </Typography>\n            <Typography \n              variant=\"body1\" \n              textAlign=\"center\" \n              paragraph \n              sx={{ \n                color: '#ffffff',\n                fontSize: '1.1rem',\n                mb: 4,\n              }}\n            >\n              Med-Friend is here to listen, understand, and guide you towards better health.\n            </Typography>\n            <Box sx={{ \n              display: 'flex', \n              justifyContent: 'center', \n              mt: 4,\n            }}>\n              <Button \n                variant=\"contained\" \n                size=\"large\" \n                onClick={() => handleAuthOpen(false)} \n                sx={{ \n                  mr: 2, \n                  bgcolor: '#ffffff',\n                  color: 'primary.main',\n                  fontWeight: 'bold',\n                  padding: '10px 24px',\n                  fontSize: '1rem',\n                  borderRadius: '30px',\n                  boxShadow: '0 4px 14px rgba(255, 255, 255, 0.4)',\n                  transition: 'all 0.3s ease',\n                  '&:hover': {\n                    bgcolor: '#f0f0f0',\n                    transform: 'translateY(-2px)',\n                    boxShadow: '0 6px 20px rgba(255, 255, 255, 0.6)',\n                  },\n                }}\n              >\n                Join Med-Friend Now\n              </Button>\n              <Button \n                variant=\"outlined\" \n                size=\"large\" \n                onClick={() => handleAuthOpen(true)}\n                sx={{\n                  borderColor: '#ffffff',\n                  color: '#ffffff',\n                  padding: '10px 24px',\n                  fontSize: '1rem',\n                  borderRadius: '30px',\n                  borderWidth: '2px',\n                  transition: 'all 0.3s ease',\n                  '&:hover': {\n                    bgcolor: 'rgba(255,255,255,0.1)',\n                    borderColor: '#ffffff',\n                    color: '#ffffff',\n                  },\n                }}\n              >\n                Login\n              </Button>\n            </Box>\n          </Container>\n        </Box>\n\n        <Modal\n          open={authOpen}\n          onClose={handleAuthClose}\n          aria-labelledby=\"auth-modal-title\"\n          aria-describedby=\"auth-modal-description\"\n        >\n          <Box sx={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: 400,\n            bgcolor: 'background.paper',\n            boxShadow: 24,\n            p: 4,\n            borderRadius: 2,\n            fontFamily: 'var(--font-nunito), Arial, sans-serif',\n          }}>\n            <Auth isLogin={isLogin} onClose={handleAuthClose} />\n          </Box>\n        </Modal>\n\n        {medFriendOpen && (\n          <PopupChat user={user} onClose={handleCloseMedFriend} />\n        )}\n\n        <PopupChat user={user} />\n      </Box>\n    </ThemeProvider>\n  );\n}",
  "src\\app\\api\\chat\\old_route.js": "import { OpenAI } from 'openai';\n\nconst openai = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY,\n});\n\nexport async function POST(req) {\n  const requestBody = await req.json();\n  const messages = requestBody.messages;\n\n  if (!messages || messages.length === 0) {\n    return new Response(JSON.stringify({ error: 'Missing required parameter: messages' }), {\n      status: 400,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n\n  try {\n    const response = await openai.chat.completions.create({\n      model: 'gpt-4o-mini',\n      messages: messages,\n    });\n\n    return new Response(JSON.stringify(response), {\n      status: 200,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  } catch (error) {\n    console.error('Error:', error);\n    return new Response(JSON.stringify({ error: 'Internal Server Error' }), {\n      status: 500,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n}",
  "src\\app\\api\\chat\\route.js": "import { OpenAI } from 'openai';\nimport { OpenAIEmbeddings } from \"langchain/embeddings/openai\";\nimport { PineconeClient } from \"@pinecone-database/pinecone\";\nimport { Pinecone } from '@pinecone-database/pinecone';\n\nconst USE_OPENROUTER = process.env.USE_OPENROUTER === 'true';\n\nconst openai = new OpenAI({\n  apiKey: USE_OPENROUTER ? process.env.OPENROUTER_API_KEY : process.env.OPENAI_API_KEY,\n  baseURL: USE_OPENROUTER ? 'https://openrouter.ai/api/v1' : undefined,\n});\n\nconst PINECONE_API_KEY = process.env.PINECONE_API_KEY;\nconst PINECONE_ENVIRONMENT = process.env.PINECONE_ENVIRONMENT;\nconst PINECONE_INDEX_NAME = process.env.PINECONE_INDEX_NAME;\nconst PINECONE_IDX_URL = process.env.PINECONE_IDX_URL;\nconst PINECONE_INDEX_SECONDARY = process.env.PINECONE_INDEX_SECONDARY;\n\n\n\nlet pinecone = null;\n\nasync function initPinecone(index_name) {\n\n  const pc = new Pinecone({ apiKey: PINECONE_API_KEY });\n  const index = pc.index(index_name);\n  \n  console.log(\"index?\")\n  return index;\n}\n\nasync function initPineconeSecondary() {\n\n  const pc = new Pinecone({ apiKey: PINECONE_API_KEY });\n  const index = pc.index(PINECONE_INDEX_SECONDARY);\n  \n  console.log(\"index?\")\n  return index;\n}\n\nasync function queryPinecone(query, index_name) {  \n  try {\n    const index = await initPinecone(index_name);\n    \n    console.log(\"Creating embeddings...\");\n    const embeddings = new OpenAIEmbeddings({\n      openAIApiKey: USE_OPENROUTER ? process.env.OPENROUTER_API_KEY : process.env.OPENAI_API_KEY,\n    });\n    const queryEmbedding = await embeddings.embedQuery(query);\n\n    console.log(\"Querying Pinecone index...\");\n    const queryResponse = await index.query({\n      vector: queryEmbedding,\n      topK: 3,\n      includeMetadata: true,\n    });\n\n    console.log(\"Pinecone query response:\", JSON.stringify(queryResponse, null, 2));\n\n    if (!queryResponse.matches || queryResponse.matches.length === 0) {\n      console.warn(\"No matches found in Pinecone response\");\n      return [\"I don't have any specific information about that in my knowledge base. I'll try to answer based on my general knowledge.\"];\n    }\n\n    return queryResponse.matches.map((match) => match.metadata.text);\n  } catch (error) {\n    console.error(\"Error querying Pinecone:\", error);\n    return [\"I'm sorry, but I'm having trouble accessing my knowledge base at the moment. I'll do my best to answer based on my general knowledge.\"];\n  }\n}\n\nexport async function POST(req) {\n  const requestBody = await req.json();\n  const messages = requestBody.messages;\n\n  if (!messages || messages.length === 0) {\n    return new Response(JSON.stringify({ error: 'Missing required parameter: messages' }), {\n      status: 400,\n      headers: { 'Content-Type': 'application/json' },\n    });\n  }\n\n  try {\n    \n    const userMessage = messages[messages.length - 1].content;\n    const relevantDocs = await queryPinecone(userMessage, PINECONE_INDEX_NAME);\n    const relevantDocsSecondary = await queryPinecone(userMessage, PINECONE_INDEX_SECONDARY);\n\n    \n    console.log(\"Relevant documents:\", relevantDocs);\n    \n    const systemMessage = {\n      role: \"system\",\n      content: \n      `You are an advanced health assistant with extensive medical knowledge. Your primary goal is to provide accurate, evidence-based information to support users' health queries. Utilize the following curated medical information to inform your responses:\n    \n      ${relevantDocs.join(\"\\n\\n\")}\n      ${relevantDocsSecondary.join(\"\\n\\n\")}\n    \n      Analyze this information critically and combine it with your broad understanding of health and medicine. When responding:\n      \n      1. Prioritize user safety and well-being above all else.\n      2. Provide comprehensive, nuanced answers that consider multiple aspects of the user's query.\n      3. Explain complex medical concepts in clear, accessible language.\n      4. When appropriate, discuss potential risks, benefits, and alternatives related to treatments or health decisions.\n      5. Encourage users to consult with qualified healthcare professionals for personalized medical advice, diagnosis, or treatment.\n      6. Stay up-to-date with current medical guidelines and best practices.\n      7. Respect user privacy and maintain strict confidentiality.\n      8. If the provided information is insufficient to answer a query, draw upon your general medical knowledge, clearly stating when you are doing so.\n      9. Be prepared to engage in follow-up questions to gain a deeper understanding of the user's health concerns.\n      10. When discussing sensitive health topics, maintain a professional and empathetic tone.\n    \n      Your responses should be tailored to each user's unique situation, demonstrating both expertise and compassion. Aim to empower users with knowledge while emphasizing the importance of professional medical care.`\n    };\n\n    const augmentedMessages = [systemMessage, ...messages];\n\n    const response = await openai.chat.completions.create({\n      model: USE_OPENROUTER ? 'openai/gpt-4-0613' : 'gpt-4-0613',\n      messages: augmentedMessages,\n      ...(USE_OPENROUTER && {\n        headers: {\n          'HTTP-Referer': 'https://your-website.com', // Replace with your actual website\n          'X-Title': 'Your App Name', // Replace with your app name\n        },\n      }),\n    });\n\n    return new Response(JSON.stringify(response), {\n      status: 200,\n      headers: { 'Content-Type': 'application/json' },\n    });\n  } catch (error) {\n    console.error('Error:', error);\n    return new Response(JSON.stringify({ error: 'Internal Server Error', details: error.message }), {\n      status: 500,\n      headers: { 'Content-Type': 'application/json' },\n    });\n  }\n}\n",
  "src\\app\\chat\\page.js": "'use client'\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { \n  Box, List, ListItem, ListItemText, Typography, Button, AppBar, Toolbar, \n  IconButton, Avatar, Tooltip, useMediaQuery, Divider, TextField,\n  Chip, Menu, MenuItem, ListItemIcon, CircularProgress\n} from '@mui/material';\nimport { ThemeProvider, createTheme, styled } from '@mui/material/styles';\nimport { auth, db } from '../utils/firebase';\nimport { collection, query, where, orderBy, onSnapshot, addDoc, serverTimestamp, updateDoc, doc, deleteDoc } from 'firebase/firestore';\nimport ChatComponent from '../components/Chat';\nimport AddIcon from '@mui/icons-material/Add';\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport LocalHospitalIcon from '@mui/icons-material/LocalHospital';\nimport InfoIcon from '@mui/icons-material/Info';\nimport SearchIcon from '@mui/icons-material/Search';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport ArchiveIcon from '@mui/icons-material/Archive';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport HelpIcon from '@mui/icons-material/Help';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\n\nconst theme = createTheme({\n  typography: {\n    fontFamily: 'var(--font-nunito), Arial, sans-serif',\n  },\n  palette: {\n    primary: {\n      main: '#1976d2', // Medical blue\n      light: '#63a4ff',\n      dark: '#004ba0',\n    },\n    secondary: {\n      main: '#388e3c', // Healing green\n      light: '#6abf69',\n      dark: '#00600f',\n    },\n    background: {\n      default: '#f5f5f5',\n      paper: '#ffffff',\n    },\n  },\n  components: {\n    MuiTypography: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n        },\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n          borderRadius: '25px',\n          textTransform: 'none',\n        },\n      },\n    },\n    MuiAppBar: {\n      styleOverrides: {\n        root: {\n          backgroundColor: '#1976d2',\n        },\n      },\n    },\n  },\n});\n\nconst StyledAppBar = styled(AppBar)(({ theme }) => ({\n  backgroundColor: theme.palette.primary.main,\n  color: theme.palette.primary.contrastText,\n}));\n\nconst ChatListContainer = styled(Box)(({ theme }) => ({\n  width: '300px',\n  borderRight: `1px solid ${theme.palette.divider}`,\n  backgroundColor: theme.palette.background.paper,\n  overflowY: 'auto',\n  height: '100%',\n  [theme.breakpoints.down('md')]: {\n    width: '100%',\n    height: 'auto',\n    maxHeight: '300px',\n    borderRight: 'none',\n    borderTop: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\nconst MainContent = styled(Box)(({ theme }) => ({\n  flexGrow: 1,\n  display: 'flex',\n  flexDirection: 'column',\n  height: '100%',\n  backgroundColor: '#f5f5f5',\n  [theme.breakpoints.down('md')]: {\n    height: 'calc(100% - 300px)', // Adjust this value based on your ChatListContainer height\n  },\n}));\n\nconst DisclaimerBox = styled(Box)(({ theme }) => ({\n  backgroundColor: theme.palette.warning.light,\n  padding: theme.spacing(2),\n  marginBottom: theme.spacing(2),\n  borderRadius: theme.shape.borderRadius,\n  border: `1px solid ${theme.palette.warning.main}`,\n}));\n\nexport default function ChatPage() {\n  const [user, setUser] = useState(null);\n  const [chats, setChats] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [selectedChatForMenu, setSelectedChatForMenu] = useState(null);\n  const router = useRouter();\n  const isLargeScreen = useMediaQuery(theme.breakpoints.up('md'));\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUser(user);\n        const chatsQuery = query(\n          collection(db, 'chats'),\n          where('userId', '==', user.uid),\n          orderBy('createdAt', 'desc')\n        );\n\n        const chatsUnsubscribe = onSnapshot(chatsQuery, (snapshot) => {\n          const chatList = snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()\n          }));\n          setChats(chatList);\n          if (chatList.length > 0 && !selectedChat) {\n            setSelectedChat(chatList[0].id);\n          }\n        });\n\n        return () => chatsUnsubscribe();\n      } else {\n        router.push('/');\n      }\n    });\n\n    return () => unsubscribe();\n  }, [router, selectedChat]);\n\n  const handleLogout = async () => {\n    try {\n      await auth.signOut();\n      router.push('/');\n    } catch (error) {\n      console.error('Failed to log out', error);\n    }\n  };\n\n  const startNewChat = async () => {\n    try {\n      const newChatRef = await addDoc(collection(db, 'chats'), {\n        userId: user.uid,\n        createdAt: serverTimestamp(),\n        title: 'New Consultation'\n      });\n      setSelectedChat(newChatRef.id);\n    } catch (error) {\n      console.error('Failed to start new chat', error);\n    }\n  };\n\n  const handleChatMenuOpen = (event, chatId) => {\n    setAnchorEl(event.currentTarget);\n    setSelectedChatForMenu(chatId);\n  };\n\n  const handleChatMenuClose = () => {\n    setAnchorEl(null);\n    setSelectedChatForMenu(null);\n  };\n\n  const handleDeleteChat = async () => {\n    if (selectedChatForMenu) {\n      try {\n        await deleteDoc(doc(db, 'chats', selectedChatForMenu));\n        if (selectedChat === selectedChatForMenu) {\n          setSelectedChat(chats.length > 1 ? chats[0].id : null);\n        }\n      } catch (error) {\n        console.error('Failed to delete chat', error);\n      }\n    }\n    handleChatMenuClose();\n  };\n\n  const handleRenameChat = () => {\n    // Implement rename functionality\n    handleChatMenuClose();\n  };\n\n  const handleArchiveChat = () => {\n    // Implement archive functionality\n    handleChatMenuClose();\n  };\n\n  const filteredChats = chats.filter(chat => \n    chat.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const chatList = (\n    <ChatListContainer>\n      <Box p={2}>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Search consultations...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          InputProps={{\n            startAdornment: <SearchIcon color=\"action\" />,\n          }}\n        />\n        <Button\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          onClick={startNewChat}\n          sx={{ mt: 2 }}\n        >\n          New Consultation\n        </Button>\n      </Box>\n      <Divider />\n      <List>\n        {filteredChats.map((chat) => (\n          <ListItem\n            key={chat.id}\n            button\n            onClick={() => setSelectedChat(chat.id)}\n            selected={selectedChat === chat.id}\n          >\n            <Avatar sx={{ mr: 2, bgcolor: 'secondary.main' }}>\n              <LocalHospitalIcon />\n            </Avatar>\n            <ListItemText\n              primary={chat.title}\n              secondary={chat.createdAt ? new Date(chat.createdAt.toDate()).toLocaleString() : 'Just now'}\n            />\n            <IconButton edge=\"end\" onClick={(event) => handleChatMenuOpen(event, chat.id)}>\n              <MoreVertIcon />\n            </IconButton>\n          </ListItem>\n        ))}\n      </List>\n    </ChatListContainer>\n  );\n\n  if (!user) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"100vh\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Box display=\"flex\" flexDirection=\"column\" height=\"100vh\" sx={{ fontFamily: 'var(--font-nunito), Arial, sans-serif' }}>\n        <StyledAppBar position=\"static\">\n          <Toolbar>\n            <LocalHospitalIcon sx={{ mr: 2 }} />\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1, fontWeight: 'bold' }}>\n              HealthChat AI\n            </Typography>\n            {!isLargeScreen && (\n              <Tooltip title=\"Start a new consultation\">\n                <IconButton color=\"inherit\" onClick={startNewChat}>\n                  <AddIcon />\n                </IconButton>\n              </Tooltip>\n            )}\n            <Tooltip title=\"Settings\">\n              <IconButton color=\"inherit\">\n                <SettingsIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Help\">\n              <IconButton color=\"inherit\">\n                <HelpIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Log out\">\n              <IconButton color=\"inherit\" onClick={handleLogout}>\n                <ExitToAppIcon />\n              </IconButton>\n            </Tooltip>\n          </Toolbar>\n        </StyledAppBar>\n        <Box display=\"flex\" flexDirection={isLargeScreen ? 'row' : 'column'} flexGrow={1}>\n          {isLargeScreen && chatList}\n          <MainContent>\n            <DisclaimerBox>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                <InfoIcon sx={{ verticalAlign: 'middle', mr: 1, color: theme.palette.warning.dark }} />\n                Medical Disclaimer: The information provided by HealthChat AI is for general informational purposes only and is not a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.\n              </Typography>\n            </DisclaimerBox>\n            <ChatComponent chatId={selectedChat} user={user} />\n          </MainContent>\n          {!isLargeScreen && chatList}\n        </Box>\n      </Box>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleChatMenuClose}\n      >\n        <MenuItem onClick={handleRenameChat}>\n          <ListItemIcon>\n            <EditIcon fontSize=\"small\" />\n          </ListItemIcon>\n          Rename\n        </MenuItem>\n        <MenuItem onClick={handleArchiveChat}>\n          <ListItemIcon>\n            <ArchiveIcon fontSize=\"small\" />\n          </ListItemIcon>\n          Archive\n        </MenuItem>\n        <MenuItem onClick={handleDeleteChat}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" />\n          </ListItemIcon>\n          Delete\n        </MenuItem>\n      </Menu>\n    </ThemeProvider>\n  );\n}",
  "src\\app\\components\\Auth.js": "\"use client\";\n\nimport React, { useState } from 'react';\nimport { Button, TextField, Typography, Box, Tabs, Tab } from '@mui/material';\nimport { auth, googleProvider } from '../utils/firebase';\nimport { signInWithPopup, createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth';\nimport { useRouter } from 'next/navigation';\n\nexport default function Auth({ isLogin: initialIsLogin, onClose }) {\n  const [isLogin, setIsLogin] = useState(initialIsLogin);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const router = useRouter();\n\n  const handleAuth = async (e) => {\n    e.preventDefault();\n    try {\n      if (isLogin) {\n        await signInWithEmailAndPassword(auth, email, password);\n      } else {\n        await createUserWithEmailAndPassword(auth, email, password);\n      }\n      onClose();\n      router.push('/chat');\n    } catch (error) {\n      console.error(error);\n      alert(error.message);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    try {\n      await signInWithPopup(auth, googleProvider);\n      onClose();\n      router.push('/chat');\n    } catch (error) {\n      console.error(error);\n      alert(error.message);\n    }\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n        {isLogin ? 'Login' : 'Sign Up'}\n      </Typography>\n      <Tabs value={isLogin ? 0 : 1} onChange={(_, newValue) => setIsLogin(newValue === 0)} sx={{ mb: 2 }}>\n        <Tab label=\"Login\" />\n        <Tab label=\"Sign Up\" />\n      </Tabs>\n      <form onSubmit={handleAuth}>\n        <TextField\n          fullWidth\n          label=\"Email\"\n          variant=\"outlined\"\n          margin=\"normal\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <TextField\n          fullWidth\n          label=\"Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <Button fullWidth variant=\"contained\" color=\"primary\" type=\"submit\" sx={{ mt: 2 }}>\n          {isLogin ? 'Login' : 'Sign Up'}\n        </Button>\n      </form>\n      <Button fullWidth variant=\"outlined\" onClick={handleGoogleSignIn} sx={{ mt: 2 }}>\n        {isLogin ? 'Sign in with Google' : 'Sign Up with Google'}\n      </Button>\n    </Box>\n  );\n}",
  "src\\app\\components\\Chat.js": "import React, { useState, useRef, useEffect } from 'react';\nimport { \n  Box, TextField, Button, Typography, CircularProgress, Paper, Avatar,\n  IconButton, Tooltip, Divider, useTheme, Chip\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport SendIcon from '@mui/icons-material/Send';\nimport LocalHospitalIcon from '@mui/icons-material/LocalHospital';\nimport PersonIcon from '@mui/icons-material/Person';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport MicIcon from '@mui/icons-material/Mic';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\n\nconst MessageBubble = styled(Paper)(({ theme, isUser }) => ({\n  padding: theme.spacing(2),\n  maxWidth: '70%',\n  backgroundColor: isUser ? theme.palette.primary.light : theme.palette.background.paper,\n  borderRadius: isUser ? '20px 20px 0 20px' : '20px 20px 20px 0',\n  boxShadow: theme.shadows[1],\n  border: isUser ? 'none' : `1px solid ${theme.palette.divider}`,\n}));\n\nconst MessageAvatar = styled(Avatar)(({ theme, isUser }) => ({\n  backgroundColor: isUser ? theme.palette.primary.main : theme.palette.secondary.main,\n  width: 32,\n  height: 32,\n  marginRight: theme.spacing(1),\n}));\n\nconst InputArea = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  padding: theme.spacing(2),\n  borderTop: `1px solid ${theme.palette.divider}`,\n  backgroundColor: theme.palette.background.paper,\n}));\n\nexport default function ChatComponent({ chatId, user }) {\n  const [messages, setMessages] = useState([\n    { role: 'assistant', content: \"Hello! I'm your HealthChat AI assistant. How can I help you with your health questions today?\" }\n  ]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const theme = useTheme();\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const userMessage = { role: 'user', content: input };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ messages: [...messages, userMessage], chatId }),\n      });\n\n      if (!response.ok) throw new Error('Failed to get response');\n\n      const data = await response.json();\n      setMessages(prev => [...prev, data.choices[0].message]);\n    } catch (error) {\n      console.error('Error:', error);\n      setMessages(prev => [...prev, { \n        role: 'assistant', \n        content: \"I apologize, but I'm experiencing technical difficulties at the moment. Please try again later or contact our support team if the issue persists. Remember, for any urgent medical concerns, please consult with a healthcare professional directly.\" \n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" height=\"100%\" sx={{ fontFamily: 'var(--font-nunito), Arial, sans-serif' }}>\n      <Box flexGrow={1} overflowY=\"auto\" p={2}>\n        {messages.map((msg, index) => (\n          <Box key={index} sx={{ display: 'flex', justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start', mb: 2 }}>\n            <MessageBubble isUser={msg.role === 'user'}>\n              <Box display=\"flex\" alignItems=\"center\" mb={1}>\n                <MessageAvatar isUser={msg.role === 'user'}>\n                  {msg.role === 'user' ? <PersonIcon /> : <LocalHospitalIcon />}\n                </MessageAvatar>\n                <Typography variant=\"subtitle2\" fontWeight=\"bold\" color={msg.role === 'user' ? 'primary' : 'secondary'}>\n                  {msg.role === 'user' ? 'You' : 'HealthChat AI'}\n                </Typography>\n                {msg.role === 'assistant' && (\n                  <Chip\n                    label=\"AI\"\n                    size=\"small\"\n                    color=\"secondary\"\n                    sx={{ ml: 1, height: 20, fontSize: '0.7rem' }}\n                  />\n                )}\n              </Box>\n              <Typography variant=\"body1\">{msg.content}</Typography>\n            </MessageBubble>\n          </Box>\n        ))}\n        {isLoading && (\n          <Box sx={{ display: 'flex', justifyContent: 'flex-start', mb: 2 }}>\n            <MessageBubble>\n              <Box display=\"flex\" alignItems=\"center\">\n                <MessageAvatar>\n                  <LocalHospitalIcon />\n                </MessageAvatar>\n                <Typography variant=\"subtitle2\" fontWeight=\"bold\" color=\"secondary\">\n                  HealthChat AI\n                </Typography>\n                <Chip\n                  label=\"AI\"\n                  size=\"small\"\n                  color=\"secondary\"\n                  sx={{ ml: 1, height: 20, fontSize: '0.7rem' }}\n                />\n              </Box>\n              <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n                <CircularProgress size={20} sx={{ mr: 1 }} color=\"secondary\" />\n                <Typography variant=\"body2\">Analyzing your query...</Typography>\n              </Box>\n            </MessageBubble>\n          </Box>\n        )}\n        <div ref={messagesEndRef} />\n      </Box>\n      <Divider />\n      <InputArea>\n        <Tooltip title=\"Attach medical records\">\n          <IconButton color=\"primary\" sx={{ mr: 1 }}>\n            <AttachFileIcon />\n          </IconButton>\n        </Tooltip>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Describe your symptoms or ask a health question...\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyPress={(e) => e.key === 'Enter' && !e.shiftKey && handleSend()}\n          multiline\n          maxRows={4}\n          disabled={isLoading}\n          sx={{ mr: 1 }}\n        />\n        <Tooltip title=\"Voice input\">\n          <IconButton color=\"primary\" sx={{ mr: 1 }}>\n            <MicIcon />\n          </IconButton>\n        </Tooltip>\n        <Button\n          onClick={handleSend}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={isLoading}\n          sx={{ minWidth: 'auto', p: '10px', borderRadius: '50%' }}\n        >\n          {isLoading ? <CircularProgress size={24} /> : <SendIcon />}\n        </Button>\n        <Tooltip title=\"More options\">\n          <IconButton color=\"primary\" sx={{ ml: 1 }}>\n            <MoreVertIcon />\n          </IconButton>\n        </Tooltip>\n      </InputArea>\n    </Box>\n  );\n}",
  "src\\app\\components\\FileUpload.js": "",
  "src\\app\\components\\PopupChat.js": "import React, { useState, useRef, useEffect } from 'react';\nimport { Box, TextField, Button, Typography, IconButton, Avatar, Fade, Paper, CircularProgress } from '@mui/material';\nimport ChatIcon from '@mui/icons-material/Chat';\nimport CloseIcon from '@mui/icons-material/Close';\nimport SendIcon from '@mui/icons-material/Send';\nimport HealthAndSafetyIcon from '@mui/icons-material/HealthAndSafety';\nimport { styled } from '@mui/material/styles';\nimport { keyframes } from '@emotion/react';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\n\nconst theme = createTheme({\n  typography: {\n    fontFamily: 'var(--font-nunito), Arial, sans-serif',\n  },\n  palette: {\n    primary: {\n      main: '#4caf50',\n      light: '#81c784',\n      dark: '#388e3c',\n    },\n    secondary: {\n      main: '#ff7043',\n    },\n  },\n  components: {\n    MuiTypography: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n        },\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n          borderRadius: '25px',\n        },\n      },\n    },\n  },\n});\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  position: 'fixed',\n  bottom: 20,\n  right: 20,\n  width: 350,\n  height: '80vh',\n  display: 'flex',\n  flexDirection: 'column',\n  borderRadius: '20px',\n  overflow: 'hidden',\n  boxShadow: '0 10px 30px rgba(0, 0, 0, 0.1)',\n  zIndex: 1000,\n  fontFamily: 'var(--font-nunito), Arial, sans-serif',\n}));\n\nconst ChatHeader = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(2),\n  background: 'linear-gradient(135deg, #81c784 0%, #4caf50 100%)',\n  color: 'white',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n}));\n\nconst MessageBubble = styled(Box)(({ theme, isUser }) => ({\n  maxWidth: '70%',\n  padding: theme.spacing(1, 2),\n  borderRadius: isUser ? '20px 20px 0 20px' : '20px 20px 20px 0',\n  backgroundColor: isUser ? theme.palette.primary.main : theme.palette.grey[200],\n  color: isUser ? theme.palette.primary.contrastText : theme.palette.text.primary,\n  marginBottom: theme.spacing(1),\n  wordWrap: 'break-word',\n}));\n\nconst typingAnimation = keyframes`\n  0% { opacity: .2; }\n  20% { opacity: 1; }\n  100% { opacity: .2; }\n`;\n\nconst TypingIndicator = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  '& span': {\n    width: 6,\n    height: 6,\n    backgroundColor: theme.palette.primary.main,\n    borderRadius: '50%',\n    display: 'inline-block',\n    margin: '0 2px',\n    animation: `${typingAnimation} 1.4s infinite both`,\n    '&:nth-of-type(2)': {\n      animationDelay: '.2s',\n    },\n    '&:nth-of-type(3)': {\n      animationDelay: '.4s',\n    },\n  },\n}));\n\nconst StyledSendButton = styled(Button)(({ theme }) => ({\n  minWidth: '56px',\n  width: '56px',\n  height: '56px',\n  borderRadius: '50%',\n  padding: 0,\n  backgroundColor: theme.palette.secondary.main,\n  color: theme.palette.common.white,\n  transition: 'all 0.3s ease-in-out',\n  boxShadow: '0 4px 10px rgba(255, 112, 67, 0.3)',\n  '&:hover': {\n    backgroundColor: theme.palette.secondary.dark,\n    transform: 'translateY(-2px)',\n    boxShadow: '0 6px 14px rgba(255, 112, 67, 0.4)',\n  },\n  '&:active': {\n    transform: 'translateY(1px)',\n    boxShadow: '0 2px 6px rgba(255, 112, 67, 0.4)',\n  },\n  '&.Mui-disabled': {\n    backgroundColor: theme.palette.grey[300],\n    color: theme.palette.grey[500],\n  },\n}));\n\nconst SendIconWrapper = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  width: '100%',\n  height: '100%',\n  transition: 'transform 0.2s ease-in-out',\n  '&:hover': {\n    transform: 'rotate(15deg)',\n  },\n}));\n\n\nexport default function PopupChat({ user, onClose }) {\n  const [isOpen, setIsOpen] = useState(!!onClose);\n  const [messages, setMessages] = useState([\n    { role: 'assistant', content: \"Please be careful not to share any sensitive information. We are happy to provide you to instant access to the best health information and advise to consult a doctor for serious issues.\" },\n    { role: 'assistant', content: \"Hello, how may we assist you today?\" }\n  ]);\n  const [input, setInput] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n\n  useEffect(() => {\n    if (isOpen) {\n      inputRef.current?.focus();\n    }\n  }, [isOpen]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const userMessage = { role: 'user', content: input };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsTyping(true);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ messages: [...messages, userMessage] }),\n      });\n\n      if (!response.ok) throw new Error('Failed to get response');\n\n      const data = await response.json();\n      setMessages(prev => [...prev, data.choices[0].message]);\n    } catch (error) {\n      console.error('Error:', error);\n      setMessages(prev => [...prev, { role: 'assistant', content: \"I'm sorry, I'm having trouble responding right now. Please try again later.\" }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleClose = () => {\n    if (onClose) {\n      onClose();\n    } else {\n      setIsOpen(false);\n    }\n  };\n\n  if (!isOpen && !onClose) {\n    return (\n      <ThemeProvider theme={theme}>\n        <Fade in={true}>\n          <IconButton\n            onClick={() => setIsOpen(true)}\n            sx={{\n              position: 'fixed',\n              bottom: 20,\n              right: 20,\n              bgcolor: 'primary.main',\n              color: 'white',\n              '&:hover': { bgcolor: 'primary.dark' },\n              zIndex: 1000,\n              width: 60,\n              height: 60,\n              borderRadius: '50%',\n            }}\n          >\n            <ChatIcon fontSize=\"large\" />\n          </IconButton>\n        </Fade>\n      </ThemeProvider>\n    );\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Fade in={isOpen}>\n        <StyledPaper elevation={6}>\n          <ChatHeader>\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <Avatar sx={{ bgcolor: 'primary.light', mr: 1 }}>\n                <HealthAndSafetyIcon />\n              </Avatar>\n              <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>HealthBot</Typography>\n            </Box>\n            <IconButton onClick={handleClose} sx={{ color: 'white' }}>\n              <CloseIcon />\n            </IconButton>\n          </ChatHeader>\n          <Box sx={{ flexGrow: 1, overflowY: 'auto', p: 2, bgcolor: '#f5f5f5' }}>\n            {messages.map((msg, index) => (\n              <Box key={index} sx={{ display: 'flex', justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start', mb: 2 }}>\n                {msg.role === 'assistant' && (\n                  <Avatar sx={{ bgcolor: 'primary.main', mr: 1, width: 32, height: 32 }}>\n                    <HealthAndSafetyIcon fontSize=\"small\" />\n                  </Avatar>\n                )}\n                <MessageBubble isUser={msg.role === 'user'}>\n                  <Typography variant=\"body2\">{msg.content}</Typography>\n                </MessageBubble>\n              </Box>\n            ))}\n            {isTyping && (\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                <Avatar sx={{ bgcolor: 'primary.main', mr: 1, width: 32, height: 32 }}>\n                  <HealthAndSafetyIcon fontSize=\"small\" />\n                </Avatar>\n                <MessageBubble>\n                  <TypingIndicator>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                  </TypingIndicator>\n                </MessageBubble>\n              </Box>\n            )}\n            <div ref={messagesEndRef} />\n          </Box>\n          <Box sx={{ p: 2, bgcolor: 'background.paper' }}>\n            <form onSubmit={(e) => { e.preventDefault(); handleSend(); }} style={{ display: 'flex', alignItems: 'center' }}>\n              <TextField\n                fullWidth\n                variant=\"outlined\"\n                placeholder=\"Type your health question...\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                inputRef={inputRef}\n                sx={{ \n                  mr: 1,\n                  '& .MuiOutlinedInput-root': {\n                    borderRadius: '28px',\n                    '&.Mui-focused fieldset': {\n                      borderColor: theme.palette.secondary.main,\n                    },\n                  },\n                }}\n                disabled={isTyping}\n              />\n              <StyledSendButton\n                type=\"submit\"\n                disabled={isTyping || !input.trim()}\n                aria-label=\"Send message\"\n              >\n                <SendIconWrapper>\n                  {isTyping ? (\n                    <CircularProgress size={24} color=\"inherit\" />\n                  ) : (\n                    <SendIcon fontSize=\"medium\" />\n                  )}\n                </SendIconWrapper>\n              </StyledSendButton>\n            </form>\n          </Box>\n        </StyledPaper>\n      </Fade>\n    </ThemeProvider>\n  );\n}",
  "src\\app\\utils\\firebase.js": "import { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider } from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Auth with custom domain\nconst auth = getAuth(app);\nauth.useDeviceLanguage();\n\n// Set custom auth domain if provided\nif (process.env.NEXT_PUBLIC_AUTH_DOMAIN) {\n  auth.config.authDomain = process.env.NEXT_PUBLIC_AUTH_DOMAIN;\n}\n\nexport { auth };\nexport const googleProvider = new GoogleAuthProvider();\nexport const db = getFirestore(app);"
}


As an AI language model, you are tasked with analyzing and understanding the structure and functionality of a web application. The following JSON contains the contents of various files that make up this application. Your goal is to provide a comprehensive analysis of the application's architecture, main components, and key functionalities.

Please consider the following aspects in your analysis:

1. Identify the main technologies and frameworks used in the application (e.g., React, Next.js, Node.js, etc.).
2. Describe the overall structure of the application, including the purpose of different directories and key files.
3. Analyze the main components of the application and their interactions.
4. Identify any API routes or endpoints and explain their purpose.
5. Describe any state management techniques used (e.g., React hooks, Redux, Context API).
6. Highlight any notable libraries or dependencies used and their purposes.
7. Identify any database interactions or data storage methods.
8. Analyze the styling approach used in the application (e.g., CSS modules, Tailwind, styled-components).
9. Describe any authentication or authorization mechanisms implemented.
10. Identify any performance optimization techniques used.
11. Highlight any interesting or unique features of the application.
12. Suggest potential improvements or areas for further development.

Please provide a detailed analysis based on the code provided. If you need any clarification or additional information about specific parts of the code, feel free to ask.

Here's the JSON containing the application code:

{
  ".env.local": "NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyCjN7ymUuxqNryIcI1IS7FUVsEz8EQLMZw\nNEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=ai-chat-bot-c6c51.firebaseapp.com\nNEXT_PUBLIC_FIREBASE_PROJECT_ID=ai-chat-bot-c6c51\nNEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=ai-chat-bot-c6c51.appspot.com\nNEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=956334442967\nNEXT_PUBLIC_FIREBASE_APP_ID=1:956334442967:web:44520d69b8bfb5fea42392\nNEXT_PUBLIC_AUTH_DOMAIN=http://ec2-3-86-148-153.compute-1.amazonaws.com/\n\nOPENAI_API_KEY=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\nNEXT_PUBLIC_OPENAI_API_KEY=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\nOPEN_ROUTER_API_KEY=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\n\nDATABASE_URL=\"postgresql://johndoe:randompassword@localhost:5432/mydb?schema=public\"\nGOOGLE_CLIENT_ID=your_google_client_id\nGOOGLE_CLIENT_SECRET=your_google_client_secret\nNEXTAUTH_SECRET=your_nextauth_secret\n\nPINECONE_API_KEY=7ae702b7-9986-4bca-a6f2-ba006d353bb8\nPINECONE_ENVIRONMENT=us-east-1\nPINECONE_INDEX_NAME=healthsupport\nPINECONE_INDEX_SECONDARY=health-chatbot-ds\nPINECONE_IDX_URL=https://healthsupport-vqchnux.svc.aped-4627-b74a.pinecone.io\n",
  ".gitignore": "# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.\n\n# dependencies\n/node_modules\n/.pnp\n.pnp.js\n.yarn/install-state.gz\n\n# testing\n/coverage\n\n# next.js\n/.next/\n/out/\n\n# production\n/build\n\n# misc\n.DS_Store\n*.pem\n\n# debug\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n\n# local env files\n.env*.local\n.env.local\n\n/data\n\nutils\n# vercel\n.vercel\n\n# typescript\n*.tsbuildinfo\nnext-env.d.ts\n",
  "data_download.ipynb": "{\n \"cells\": [\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 25,\n   \"metadata\": {},\n   \"outputs\": [\n    {\n     \"name\": \"stderr\",\n     \"output_type\": \"stream\",\n     \"text\": [\n      \"2024-08-15 16:33:58,436 - INFO - Discovering subpackages in _NamespacePath(['c:\\\\\\\\Python310\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\pinecone_plugins'])\\n\",\n      \"2024-08-15 16:33:58,438 - INFO - Looking for plugins in pinecone_plugins.inference\\n\",\n      \"2024-08-15 16:33:58,439 - INFO - Installing plugin inference into Pinecone\\n\"\n     ]\n    },\n    {\n     \"data\": {\n      \"application/vnd.jupyter.widget-view+json\": {\n       \"model_id\": \"6883b0e0cd304baabfb6f7e6523c6e00\",\n       \"version_major\": 2,\n       \"version_minor\": 0\n      },\n      \"text/plain\": [\n       \"  0%|          | 0/60 [00:00<?, ?it/s]\"\n      ]\n     },\n     \"metadata\": {},\n     \"output_type\": \"display_data\"\n    },\n    {\n     \"name\": \"stderr\",\n     \"output_type\": \"stream\",\n     \"text\": [\n      \"2024-08-15 16:33:58,917 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,061 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,210 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,350 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,497 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,618 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,816 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:33:59,984 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,129 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,236 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,394 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,595 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,716 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:00,867 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,059 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,201 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,314 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,433 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,544 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,661 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,780 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:01,926 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,074 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,226 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,369 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,537 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,724 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:02,920 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,077 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,184 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,334 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,476 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,628 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,812 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:03,927 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,044 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,202 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,392 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,550 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,662 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:04,803 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,012 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,129 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,239 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,386 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,540 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,699 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:05,834 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,017 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,166 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,329 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,463 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,600 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,714 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:06,873 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,065 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,247 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,396 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,522 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:07,659 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:34:08,581 - INFO - Data upload complete!\\n\"\n     ]\n    }\n   ],\n   \"source\": [\n    \"import json\\n\",\n    \"import os\\n\",\n    \"import sys\\n\",\n    \"from dotenv import load_dotenv\\n\",\n    \"from pinecone import Pinecone\\n\",\n    \"from tqdm.auto import tqdm\\n\",\n    \"from openai import OpenAI\\n\",\n    \"import logging\\n\",\n    \"import time\\n\",\n    \"\\n\",\n    \"# Set up logging\\n\",\n    \"logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')\\n\",\n    \"\\n\",\n    \"# Load environment variables\\n\",\n    \"load_dotenv('.env.local')\\n\",\n    \"\\n\",\n    \"# Initialize Pinecone\\n\",\n    \"pc = Pinecone(api_key=os.getenv('PINECONE_API_KEY'))\\n\",\n    \"\\n\",\n    \"# Connect to the index\\n\",\n    \"index_name = os.getenv('PINECONE_INDEX_NAME')\\n\",\n    \"\\n\",\n    \"# Check if the index exists, if not create it\\n\",\n    \"if index_name not in pc.list_indexes().names():\\n\",\n    \"    pc.create_index(\\n\",\n    \"        name=index_name,\\n\",\n    \"        dimension=1536,  # OpenAI's text-embedding-ada-002 uses 1536 dimensions\\n\",\n    \"        metric='cosine'\\n\",\n    \"    )\\n\",\n    \"    logging.info(f\\\"Created new index: {index_name}\\\")\\n\",\n    \"\\n\",\n    \"index = pc.Index(index_name)\\n\",\n    \"\\n\",\n    \"# OpenAI client initialization\\n\",\n    \"client = OpenAI(api_key=os.getenv('OPENAI_API_KEY'))\\n\",\n    \"\\n\",\n    \"def get_embedding(text, model=\\\"text-embedding-ada-002\\\"):\\n\",\n    \"    try:\\n\",\n    \"        text = text.replace(\\\"\\\\n\\\", \\\" \\\")\\n\",\n    \"        response = client.embeddings.create(input=[text], model=model)\\n\",\n    \"        return response.data[0].embedding\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"An error occurred while getting embedding: {e}\\\")\\n\",\n    \"        if \\\"Rate limit\\\" in str(e):\\n\",\n    \"            logging.warning(\\\"Rate limit exceeded. Waiting for 60 seconds before retrying.\\\")\\n\",\n    \"            time.sleep(60)\\n\",\n    \"            return get_embedding(text, model)\\n\",\n    \"        raise\\n\",\n    \"\\n\",\n    \"# Load and process the JSON data\\n\",\n    \"try:\\n\",\n    \"    with open('data/english-dev.json', 'r') as f:\\n\",\n    \"        data = json.load(f)\\n\",\n    \"except FileNotFoundError:\\n\",\n    \"    logging.error(\\\"The data file 'data/english-dev.json' was not found.\\\")\\n\",\n    \"    sys.exit(1)\\n\",\n    \"except json.JSONDecodeError:\\n\",\n    \"    logging.error(\\\"Error decoding the JSON file. Please check if it's valid JSON.\\\")\\n\",\n    \"    sys.exit(1)\\n\",\n    \"\\n\",\n    \"# Prepare the data for upsert\\n\",\n    \"vectors_to_upsert = []\\n\",\n    \"for i, item in enumerate(tqdm(data)):\\n\",\n    \"    # Combine all text fields into a single string\\n\",\n    \"    text = item['description'] + ' ' + ' '.join(item['utterances'])\\n\",\n    \"    \\n\",\n    \"    try:\\n\",\n    \"        # Get the embedding using OpenAI API\\n\",\n    \"        vector = get_embedding(text)\\n\",\n    \"        \\n\",\n    \"        # Prepare the vector for upsert\\n\",\n    \"        vectors_to_upsert.append((str(i), vector, {\\\"text\\\": text}))\\n\",\n    \"\\n\",\n    \"        # Upsert in batches of 100\\n\",\n    \"        if len(vectors_to_upsert) == 100:\\n\",\n    \"            index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"            vectors_to_upsert = []\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"Error processing item {i}: {e}\\\")\\n\",\n    \"        continue\\n\",\n    \"\\n\",\n    \"# Upsert any remaining vectors\\n\",\n    \"if vectors_to_upsert:\\n\",\n    \"    try:\\n\",\n    \"        index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"Error upserting final batch: {e}\\\")\\n\",\n    \"\\n\",\n    \"logging.info(\\\"Data upload complete!\\\")\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"#####################################\\n\",\n    \"# Upload https://huggingface.co/datasets/ruslanmv/ai-medical-chatbot to pineceone \\n\",\n    \"#####################################\\n\",\n    \"\\n\",\n    \"import os\\n\",\n    \"import time\\n\",\n    \"from dotenv import load_dotenv\\n\",\n    \"from pinecone import Pinecone\\n\",\n    \"from tqdm.auto import tqdm\\n\",\n    \"from datasets import load_dataset\\n\",\n    \"from sentence_transformers import SentenceTransformer\\n\",\n    \"\\n\",\n    \"# Load environment variables\\n\",\n    \"load_dotenv('.env.local')\\n\",\n    \"\\n\",\n    \"# Initialize Pinecone\\n\",\n    \"api_key = os.getenv('PINECONE_API_KEY')\\n\",\n    \"if not api_key:\\n\",\n    \"    raise ValueError(\\\"PINECONE_API_KEY not found in environment variables\\\")\\n\",\n    \"\\n\",\n    \"pc = Pinecone(api_key=api_key)\\n\",\n    \"\\n\",\n    \"# Connect to the index\\n\",\n    \"index_name = os.getenv('PINECONE_INDEX_NAME')\\n\",\n    \"if not index_name:\\n\",\n    \"    raise ValueError(\\\"PINECONE_INDEX_NAME not found in environment variables\\\")\\n\",\n    \"\\n\",\n    \"index = pc.Index(index_name)\\n\",\n    \"\\n\",\n    \"# Function to safely load dataset\\n\",\n    \"def safe_load_dataset(dataset_name, split=\\\"train\\\"):\\n\",\n    \"    try:\\n\",\n    \"        return load_dataset(dataset_name, split=split)\\n\",\n    \"    except Exception as e:\\n\",\n    \"        print(f\\\"Error loading dataset: {e}\\\")\\n\",\n    \"        print(\\\"Attempting to load dataset in streaming mode...\\\")\\n\",\n    \"        return load_dataset(dataset_name, split=split, streaming=True)\\n\",\n    \"\\n\",\n    \"# Load the dataset from Hugging Face\\n\",\n    \"print(\\\"Loading dataset from Hugging Face...\\\")\\n\",\n    \"dataset = safe_load_dataset(\\\"ruslanmv/ai-medical-chatbot\\\")\\n\",\n    \"print(\\\"Dataset loaded successfully.\\\")\\n\",\n    \"\\n\",\n    \"# Initialize the SentenceTransformer model for embeddings\\n\",\n    \"print(\\\"Initializing SentenceTransformer model...\\\")\\n\",\n    \"model = SentenceTransformer('all-MiniLM-L6-v2')\\n\",\n    \"\\n\",\n    \"# Function to create embeddings\\n\",\n    \"def create_embedding(text):\\n\",\n    \"    return model.encode(text).tolist()\\n\",\n    \"\\n\",\n    \"# Prepare and upsert data\\n\",\n    \"batch_size = 100\\n\",\n    \"vectors_to_upsert = []\\n\",\n    \"total_vectors = 0\\n\",\n    \"start_time = time.time()\\n\",\n    \"\\n\",\n    \"print(f\\\"Starting data upload in batches of {batch_size}...\\\")\\n\",\n    \"for i, item in enumerate(tqdm(dataset, desc=\\\"Processing items\\\")):\\n\",\n    \"    try:\\n\",\n    \"        # Combine all text fields into a single string\\n\",\n    \"        text = f\\\"{item['Description']} {item['Patient']} {item['Doctor']}\\\"\\n\",\n    \"        \\n\",\n    \"        # Create embedding\\n\",\n    \"        vector = create_embedding(text)\\n\",\n    \"        \\n\",\n    \"        # Prepare the vector for upsert\\n\",\n    \"        vectors_to_upsert.append((str(i), vector, {\\\"text\\\": text}))\\n\",\n    \"        \\n\",\n    \"        # Upsert in batches\\n\",\n    \"        if len(vectors_to_upsert) == batch_size:\\n\",\n    \"            index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"            total_vectors += len(vectors_to_upsert)\\n\",\n    \"            vectors_to_upsert = []\\n\",\n    \"    \\n\",\n    \"    except Exception as e:\\n\",\n    \"        print(f\\\"Error processing item {i}: {e}\\\")\\n\",\n    \"        continue\\n\",\n    \"\\n\",\n    \"# Upsert any remaining vectors\\n\",\n    \"if vectors_to_upsert:\\n\",\n    \"    index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"    total_vectors += len(vectors_to_upsert)\\n\",\n    \"\\n\",\n    \"end_time = time.time()\\n\",\n    \"total_time = end_time - start_time\\n\",\n    \"\\n\",\n    \"print(f\\\"Data upload complete!\\\")\\n\",\n    \"print(f\\\"Total vectors uploaded: {total_vectors}\\\")\\n\",\n    \"print(f\\\"Total time taken: {total_time:.2f} seconds\\\")\\n\",\n    \"print(f\\\"Average upload rate: {total_vectors / total_time:.2f} vectors/second\\\")\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 32,\n   \"metadata\": {},\n   \"outputs\": [\n    {\n     \"name\": \"stderr\",\n     \"output_type\": \"stream\",\n     \"text\": [\n      \"2024-08-15 16:38:35,855 - INFO - Discovering subpackages in _NamespacePath(['c:\\\\\\\\Python310\\\\\\\\lib\\\\\\\\site-packages\\\\\\\\pinecone_plugins'])\\n\",\n      \"2024-08-15 16:38:35,856 - INFO - Looking for plugins in pinecone_plugins.inference\\n\",\n      \"2024-08-15 16:38:35,857 - INFO - Installing plugin inference into Pinecone\\n\",\n      \"2024-08-15 16:38:37,078 - INFO - Dataset loaded successfully.\\n\"\n     ]\n    },\n    {\n     \"data\": {\n      \"application/vnd.jupyter.widget-view+json\": {\n       \"model_id\": \"4b29bf49a8bc476cb16308c741c93e58\",\n       \"version_major\": 2,\n       \"version_minor\": 0\n      },\n      \"text/plain\": [\n       \"0it [00:00, ?it/s]\"\n      ]\n     },\n     \"metadata\": {},\n     \"output_type\": \"display_data\"\n    },\n    {\n     \"name\": \"stderr\",\n     \"output_type\": \"stream\",\n     \"text\": [\n      \"2024-08-15 16:38:43,409 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:43,649 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:43,874 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,099 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,272 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,465 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,630 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,800 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:44,990 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:45,148 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:45,329 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings \\\"HTTP/1.1 200 OK\\\"\\n\",\n      \"2024-08-15 16:38:45,811 - INFO - Data upload complete!\\n\"\n     ]\n    }\n   ],\n   \"source\": [\n    \"import os\\n\",\n    \"from dotenv import load_dotenv\\n\",\n    \"from pinecone import Pinecone\\n\",\n    \"from tqdm.auto import tqdm\\n\",\n    \"from openai import OpenAI\\n\",\n    \"import logging\\n\",\n    \"import time\\n\",\n    \"from datasets import load_dataset\\n\",\n    \"\\n\",\n    \"# Set up logging\\n\",\n    \"logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')\\n\",\n    \"\\n\",\n    \"# Load environment variables\\n\",\n    \"load_dotenv('.env.local')\\n\",\n    \"\\n\",\n    \"# Initialize Pinecone\\n\",\n    \"pc = Pinecone(api_key=os.getenv('PINECONE_API_KEY'))\\n\",\n    \"\\n\",\n    \"# Connect to the secondary index\\n\",\n    \"index_name = os.getenv('PINECONE_INDEX_SECONDARY')\\n\",\n    \"\\n\",\n    \"# Check if the index exists, if not create it\\n\",\n    \"if index_name not in pc.list_indexes().names():\\n\",\n    \"    pc.create_index(\\n\",\n    \"        name=index_name,\\n\",\n    \"        dimension=1536,  # OpenAI's text-embedding-ada-002 uses 1536 dimensions\\n\",\n    \"        metric='cosine'\\n\",\n    \"    )\\n\",\n    \"    logging.info(f\\\"Created new index: {index_name}\\\")\\n\",\n    \"\\n\",\n    \"index = pc.Index(index_name)\\n\",\n    \"\\n\",\n    \"# OpenAI client initialization\\n\",\n    \"client = OpenAI(api_key=os.getenv('OPENAI_API_KEY'))\\n\",\n    \"\\n\",\n    \"def get_embedding(text, model=\\\"text-embedding-ada-002\\\"):\\n\",\n    \"    try:\\n\",\n    \"        text = text.replace(\\\"\\\\n\\\", \\\" \\\")\\n\",\n    \"        response = client.embeddings.create(input=[text], model=model)\\n\",\n    \"        return response.data[0].embedding\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"An error occurred while getting embedding: {e}\\\")\\n\",\n    \"        if \\\"Rate limit\\\" in str(e):\\n\",\n    \"            logging.warning(\\\"Rate limit exceeded. Waiting for 60 seconds before retrying.\\\")\\n\",\n    \"            time.sleep(60)\\n\",\n    \"            return get_embedding(text, model)\\n\",\n    \"        raise\\n\",\n    \"\\n\",\n    \"# Load the dataset\\n\",\n    \"try:\\n\",\n    \"    dataset = load_dataset(\\\"ruslanmv/ai-medical-chatbot\\\", split=\\\"train\\\", streaming=True)\\n\",\n    \"    logging.info(\\\"Dataset loaded successfully.\\\")\\n\",\n    \"except Exception as e:\\n\",\n    \"    logging.error(f\\\"Error loading dataset: {e}\\\")\\n\",\n    \"    raise\\n\",\n    \"\\n\",\n    \"# Prepare the data for upsert\\n\",\n    \"vectors_to_upsert = []\\n\",\n    \"for i, item in enumerate(tqdm(dataset)):\\n\",\n    \"    # Combine all text fields into a single string\\n\",\n    \"    text = f\\\"Description: {item['Description']} Patient: {item['Patient']} Doctor: {item['Doctor']}\\\"\\n\",\n    \"    \\n\",\n    \"    try:\\n\",\n    \"        # Get the embedding using OpenAI API\\n\",\n    \"        vector = get_embedding(text)\\n\",\n    \"        \\n\",\n    \"        # Prepare the vector for upsert\\n\",\n    \"        vectors_to_upsert.append((str(i), vector, {\\n\",\n    \"            \\\"description\\\": item['Description'],\\n\",\n    \"            \\\"patient\\\": item['Patient'],\\n\",\n    \"            \\\"doctor\\\": item['Doctor']\\n\",\n    \"        }))\\n\",\n    \"\\n\",\n    \"        # Upsert in batches of 100\\n\",\n    \"        if len(vectors_to_upsert) == 100:\\n\",\n    \"            index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"            vectors_to_upsert = []\\n\",\n    \"\\n\",\n    \"        # Optional: Break after processing a certain number of items (e.g., 1000) for testing\\n\",\n    \"        if i >= 10:\\n\",\n    \"            break\\n\",\n    \"\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"Error processing item {i}: {e}\\\")\\n\",\n    \"        continue\\n\",\n    \"\\n\",\n    \"# Upsert any remaining vectors\\n\",\n    \"if vectors_to_upsert:\\n\",\n    \"    try:\\n\",\n    \"        index.upsert(vectors=vectors_to_upsert)\\n\",\n    \"    except Exception as e:\\n\",\n    \"        logging.error(f\\\"Error upserting final batch: {e}\\\")\\n\",\n    \"\\n\",\n    \"logging.info(\\\"Data upload complete!\\\")\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": []\n  }\n ],\n \"metadata\": {\n  \"kernelspec\": {\n   \"display_name\": \"Python 3\",\n   \"language\": \"python\",\n   \"name\": \"python3\"\n  },\n  \"language_info\": {\n   \"codemirror_mode\": {\n    \"name\": \"ipython\",\n    \"version\": 3\n   },\n   \"file_extension\": \".py\",\n   \"mimetype\": \"text/x-python\",\n   \"name\": \"python\",\n   \"nbconvert_exporter\": \"python\",\n   \"pygments_lexer\": \"ipython3\",\n   \"version\": \"3.10.8\"\n  }\n },\n \"nbformat\": 4,\n \"nbformat_minor\": 2\n}\n",
  "jsconfig.json": "{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"@/*\": [\"./*\"]\n    }\n  }\n}\n",
  "next.config.mjs": "/** @type {import('next').NextConfig} */\nconst nextConfig = {};\n\nexport default nextConfig;\n",
  "package.json": "{\n  \"name\": \"customer-support-ai\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\",\n    \"upload-to-pinecone\": \"node -r dotenv/config scripts/uploadToPinecone.js\"\n  },\n  \"dependencies\": {\n    \"@emotion/react\": \"^11.13.0\",\n    \"@emotion/styled\": \"^11.11.0\",\n    \"@fontsource/nunito\": \"^5.0.18\",\n    \"@mui/icons-material\": \"^5.16.7\",\n    \"@mui/material\": \"^5.14.5\",\n    \"@pinecone-database/pinecone\": \"^3.0.0\",\n    \"dotenv\": \"^16.4.5\",\n    \"encoding\": \"^0.1.13\",\n    \"firebase\": \"^9.0.0\",\n    \"framer-motion\": \"^11.3.28\",\n    \"langchain\": \"^0.0.96\",\n    \"lucide-react\": \"^0.427.0\",\n    \"next\": \"13.4.19\",\n    \"node-fetch\": \"^3.3.2\",\n    \"openai\": \"^4.55.4\",\n    \"react\": \"18.2.0\",\n    \"react-dom\": \"18.2.0\",\n    \"react-firebase-hooks\": \"^5.1.1\"\n  },\n  \"devDependencies\": {\n    \"eslint\": \"8.47.0\",\n    \"eslint-config-next\": \"13.4.19\"\n  }\n}\n",
  "README.md": "## Getting Started on Local Development \n\nFirst, run the development server:\n\n<pre style=\"background-color: black; color: white;\">\n\nnpm install\nnpm run dev\n# or\nyarn dev /pnpm dev /bun dev\n</pre>\nOpen [http://localhost:3000](http://localhost:3000) with your browser to see the result.\n\n# Med-friend: System Documentation\n\n## Table of Contents\n1. [Introduction](#1-introduction)\n2. [System Architecture](#2-system-architecture)\n3. [Key Components](#3-key-components)\n4. [User Interface](#4-user-interface)\n5. [Backend Services](#5-backend-services)\n6. [AI Integration](#6-ai-integration)\n7. [Database Design](#7-database-design)\n8. [Authentication and Security](#8-authentication-and-security)\n9. [API Documentation](#9-api-documentation)\n10. [Deployment](#10-deployment)\n11. [Development Workflow](#11-development-workflow)\n12. [Troubleshooting](#12-troubleshooting)\n13. [Future Enhancements](#13-future-enhancements)\n\n## 1. Introduction\n\nMed-friend is an advanced health assistant application designed to provide users with instant access to accurate, AI-powered health information. We combine the best publicly available health knowledge, with the best AI tools able to efficiently provide that knowledge as needed. The system combines modern web technologies with artificial intelligence to create an interactive and informative experience for users seeking health-related advice.\n\n### Key Features:\n- AI-powered chat interface for health-related queries\n- Integration with medical knowledge bases\n- Responsive design for desktop and mobile use\n\n### Tech Stack:\n- Frontend: Next.js (React), Material-UI\n- Backend: Node.js, Firebase\n- AI: OpenAI GPT models, Pinecone vector database\n- Authentication: Firebase Authentication\n- Database: Firebase Firestore, Pinecone\n\n## 2. System Architecture\n\nMed-friend AI follows a modern, serverless architecture leveraging cloud services for scalability and maintainability.\n\n## High-Level Architecture Diagram\n\n```mermaid\ngraph TD\n    User[User] -->|HTTPS| Frontend[Next.js Frontend]\n    subgraph Frontend\n        Landing[Landing Page]\n        Chat[Chat Interface]\n    end\n    Frontend -->|API Calls| Routes[API Routes]\n    subgraph Routes\n        ChatProcess[Chat Processing]\n        UserAuth[User Auth]\n        VectorSearch[Vector Search]\n    end\n    ChatProcess -->|NLP Requests| LLMAPI[LLM API]\n    UserAuth -->|Authenticate| FireAuth[Firebase Auth]\n    VectorSearch -->|Query| PineconeAPI[Pinecone API]\n    FireAuth --> Firestore[Firebase Firestore]\n    PineconeAPI --> Firestore\n    \n    classDef frontend fill:#d0e0ff,stroke:#333,stroke-width:2px;\n    classDef backend fill:#ffe0d0,stroke:#333,stroke-width:2px;\n    classDef external fill:#d0ffe0,stroke:#333,stroke-width:2px;\n    \n    class Frontend frontend;\n    class Routes backend;\n    class LLMAPI,FireAuth,PineconeAPI,Firestore external;\n```\n\n### Components:\n1. **Next.js Frontend**: Serves the user interface and handles client-side logic.\n2. **API Routes**: Serverless functions handling backend logic and external service integration.\n3. **Multiple LLM Provider API's**: Provide natural language processing capabilities.\n4. **Firebase Auth**: Manages user authentication.\n5. **Firebase Firestore**: Stores user data and chat history.\n6. **Pinecone Vector DB**: Stores and retrieves medical information for context-aware AI responses.\n\n## 3. Key Components\n\n### 3.1 Frontend Components\n\n#### LandingPage (`src/app/page.js`)\nThe main entry point of the application, introducing users to Med-friend AI.\n\nKey features:\n- Responsive design with Material-UI\n- Introduction to Med-friend AI capabilities\n- Options to try the HealthBot or enter the full chat interface\n\n#### ChatPage (`src/app/chat/page.js`)\nThe main chat interface for logged-in users.\n\nKey features:\n- Chat history sidebar\n- Real-time chat interface\n- New chat creation\n- User authentication status management\n\n#### Auth Component (`src/app/components/Auth.js`)\nHandles user authentication processes.\n\nKey features:\n- Login and signup functionality\n- Email/password and Google authentication options\n- Integration with Firebase Authentication\n\n#### PopupChat Component (`src/app/components/PopupChat.js`)\nA floating chat widget for quick interactions with the AI assistant.\n\nKey features:\n- Minimizable chat interface\n- Real-time AI responses\n- Typing indicators for better user experience\n\n### 3.2 Backend Components\n\n#### Chat API Route (`src/app/api/chat/route.js`)\nHandles chat requests and integrates with OpenAI and Pinecone.\n\nKey features:\n- OpenAI GPT model integration\n- Pinecone vector search for relevant medical information\n- Context-aware response generation\n\n#### Firebase Utilities (`src/app/utils/firebase.js`)\nSets up Firebase services for the application.\n\nKey features:\n- Firebase app initialization\n- Authentication service setup\n- Firestore database initialization\n\n## 4. User Interface\n\nThe user interface is built using React components and styled with Material-UI, ensuring a responsive and accessible design across devices.\n\n### 4.1 Landing Page\n\nThe landing page (`src/app/page.js`) serves as the main entry point for users. It features:\n\n- A hero section with a call-to-action\n- Feature highlights of Med-friend AI\n- Options to try the HealthBot or access the full chat interface\n- Login/Signup buttons\n\n#### Key UI Components:\n- `FeatureCard`: Displays individual features of the application\n- `AppBar`: Navigation bar with authentication options\n- `Modal`: For displaying the authentication form\n\n### 4.2 Chat Interface\n\nThe chat interface (`src/app/chat/page.js`) is the core of the application, where users interact with the AI assistant. It includes:\n\n- A sidebar with chat history\n- The main chat area with message bubbles\n- An input area for user messages\n- A disclaimer about the nature of AI-provided information\n\n#### Key UI Components:\n- `ChatListContainer`: Displays the list of previous chats\n- `ChatListItem`: Individual chat session in the sidebar\n- `MainContent`: Contains the chat messages and input area\n- `DisclaimerBox`: Informs users about the limitations of AI advice\n\n### 4.3 Popup Chat\n\nThe popup chat (`src/app/components/PopupChat.js`) provides a floating chat interface for quick interactions. Features include:\n\n- Minimizable chat window\n- Real-time message display\n- Typing indicators\n\n#### Key UI Components:\n- `StyledPaper`: The main container for the popup chat\n- `ChatHeader`: Contains the title and close button\n- `MessageBubble`: Displays individual messages\n- `TypingIndicator`: Shows when the AI is generating a response\n\n### 4.4 Styling\n\nThe application uses a combination of Material-UI's built-in styling system and custom styles:\n\n- Theme customization in `src/app/page.js`\n- Global styles in `src/app/globals.css`\n- Component-specific styles using the `styled` function from Material-UI\n\n## 5. Backend Services\n\nThe backend of Med-friend AI is primarily serverless, utilizing Next.js API routes and cloud services.\n\n### 5.1 API Routes\n\nLocated in `src/app/api/chat/route.js`, the main API route handles chat functionality:\n\n1. Receives user messages\n2. Queries Pinecone for relevant medical information\n3. Sends context and user message to OpenAI\n4. Returns AI-generated response to the frontend\n\n### 5.2 Firebase Services\n\nFirebase provides authentication and database services:\n\n- **Authentication**: Handles user signup, login, and session management\n- **Firestore**: Stores user data and chat history\n\nConfiguration and initialization of Firebase services are done in `src/app/utils/firebase.js`.\n\n### 5.3 Pinecone Vector Database\n\nPinecone is used to store and retrieve medical information efficiently:\n\n- Stores embeddings of medical information\n- Provides fast similarity search for relevant context\n\nThe Pinecone service is initialized and queried in the chat API route.\n\n## 6. AI Integration\n\nMed-friend AI leverages OpenAI's GPT models for generating intelligent responses to user queries.\n\n### 6.1 OpenAI Integration\n\nThe application uses the OpenAI API to generate responses:\n\n- Model: GPT-4 (or GPT-3.5-turbo, depending on configuration)\n- Input: User message and relevant medical context\n- Output: AI-generated response\n\nThe integration is handled in the chat API route (`src/app/api/chat/route.js`).\n\n### 6.2 Context Enhancement\n\nTo provide more accurate and relevant responses, the system:\n\n1. Queries Pinecone with the user's message\n2. Retrieves relevant medical information\n3. Includes this information as context when querying OpenAI\n\nThis process enhances the AI's ability to provide informed and contextually appropriate responses.\n\n## 7. Database Design\n\nMed-friend AI uses two database systems: Firebase Firestore and Pinecone Vector Database.\n\n### 7.1 Firebase Firestore\n\nFirestore is used to store user data and chat history. The data model is as follows:\nusers/\n{userId}/\nconversations/\n{conversationId}/\nmessages/\n{messageId}/\ncontent: string\ncreatedAt: timestamp\nuserId: string\nThis structure allows for efficient retrieval of user-specific chat histories.\n\n### 7.2 Pinecone Vector Database\n\nPinecone stores medical information as vector embeddings, allowing for fast similarity search:\n\n- Each entry contains:\n  - Vector embedding of medical text\n  - Metadata including the original text and any relevant tags\n\nThe Pinecone database is queried in the chat API route to retrieve context for AI responses.\n\n## 8. Authentication and Security\n\nMed-friend AI implements robust authentication and security measures to protect user data and ensure secure interactions.\n\n### 8.1 User Authentication\n\nFirebase Authentication is used to handle user signup and login processes:\n\n- Email/password authentication\n- Google Sign-In integration\n\nThe Auth component (`src/app/components/Auth.js`) manages the UI for these processes.\n\n### 8.2 Security Measures\n\n1. **Environment Variables**: Sensitive information like API keys are stored in environment variables (`.env.local`)\n2. **Server-side API Calls**: OpenAI API calls are made server-side to protect API keys\n3. **HTTPS**: All communications are encrypted using HTTPS\n4. **Firebase Security Rules**: Firestore database access is controlled by Firebase security rules\n\n### 8.3 Data Privacy\n\n- User chat histories are stored securely in Firebase Firestore\n- No personal health information is permanently stored\n- Users are advised not to share sensitive personal information in chats\n\n## 9. API Documentation\n\n### 9.1 Chat API\n\n**Endpoint**: `/api/chat`\n\n**Method**: POST\n\n**Request Body**:\njson\n{\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"User's message here\"\n    }\n  ],\n  \"chatId\": \"optional-chat-id\"\n}\n### Error Responses:\n- 400 Bad Request: Missing required parameters\n- 500 Internal Server Error: Server-side processing error\n\n### 9.2 Authentication API\nFirebase Authentication is used, which provides RESTful endpoints for authentication operations. Refer to the [Firebase Authentication REST API documentation](https://firebase.google.com/docs/reference/rest/auth) for detailed information on these endpoints.\n\n## 10. Deployment\nMed-friend AI is designed to be deployed on cloud platforms that support Next.js applications.\n\n### 10.1 Deployment Steps\n1. Set up environment variables on the deployment platform\n2. Build the Next.js application: `npm run build`\n3. Deploy the built application to the chosen platform (e.g., Vercel, Netlify)\n4. Configure custom domain and SSL certificate if required\n\n### 10.2 Environment Variables\nEnsure the following environment variables are set:\n- `NEXT_PUBLIC_FIREBASE_*`: Firebase configuration variables\n- `OPENAI_API_KEY`: OpenAI API key\n- `PINECONE_API_KEY`: Pinecone API key\n- `PINECONE_ENVIRONMENT`: Pinecone environment\n- `PINECONE_INDEX_NAME`: Pinecone index name\n\n### 10.3 Continuous Integration/Continuous Deployment (CI/CD)\nSet up a CI/CD pipeline to automate the deployment process:\n1. Configure GitHub Actions or similar CI/CD tool\n2. Set up automated testing before deployment\n3. Configure automatic deployment to staging environment on pull requests\n4. Set up manual approval for production deployments\n\n## 11. Development Workflow\n\n### 11.1 Setting Up the Development Environment\n1. Clone the repository\n2. Install dependencies: `npm install`\n3. Set up local environment variables in `.env.local`\n4. Run the development server: `npm run dev`\n\n### 11.2 Code Style and Linting\n- ESLint is used for code linting\n- Prettier is used for code formatting\n- Run linter: `npm run lint`\n\n### 11.3 Testing\n- Jest is used for unit and integration testing\n- React Testing Library for component testing\n- Run tests: `npm test`\n\n### 11.4 Version Control\n- Git is used for version control\n- Follow conventional commit messages\n- Create feature branches for new features or bug fixes\n- Use pull requests for code reviews\n\n### 11.5 Documentation\n- Keep README and this documentation up to date\n- Use JSDoc comments for function and component documentation\n- Generate API documentation using tools like Swagger or Postman\n\n## 12. Troubleshooting\n\n### 12.1 Common Issues\n1. **API Key Issues**: Ensure all API keys are correctly set in environment variables\n2. **Firebase Configuration**: Verify Firebase configuration in `firebase.js`\n3. **Pinecone Connection**: Check Pinecone API key and environment settings\n4. **OpenAI API Errors**: Verify OpenAI API key and usage limits\n\n### 12.2 Debugging Tools\n- Use browser developer tools for frontend debugging\n- Check server logs for backend issues\n- Enable verbose logging in development environment\n- Use logging service like Sentry for production error tracking\n\n### 12.3 Performance Monitoring\n- Implement application performance monitoring (APM) tools\n- Monitor server response times and error rates\n- Track AI response generation times\n\n## 13. Future Enhancements\nPotential areas for future development include:\n\n1. Implement more sophisticated conversation management\n   - Context retention across multiple messages\n   - User preference learning\n\n2. Add support for file uploads (e.g., medical reports)\n   - Image analysis for visual symptoms\n   - PDF parsing for medical documents\n\n3. Enhance error handling and user feedback mechanisms\n   - Implement error boundaries in React components\n   - Provide more detailed error messages to users\n\n4. Implement a user feedback and response rating system\n   - Allow users to rate AI responses\n   - Use feedback to improve AI training\n\n5. Develop an admin panel for monitoring conversations and fine-tuning the AI\n   - Dashboard for usage statistics\n   - Tools for analyzing common queries and improving responses\n\n6. Integrate with additional medical databases for more comprehensive information\n   - Connect with public health databases\n   - Integrate with electronic health record (EHR) systems\n\n7. Implement multi-language support\n   - Localization of UI elements\n   - Multi-language AI response generation\n\n8. Add voice input/output capabilities\n   - Speech-to-text for user input\n   - Text-to-speech for AI responses\n\n9. Implement advanced analytics\n   - User behavior analysis\n   - Health trend identification\n\n10. Enhance mobile experience\n    - Develop native mobile apps\n    - Optimize performance for low-bandwidth connections\n\nBy continuously improving and expanding the capabilities of Med-friend AI, we aim to provide an increasingly valuable tool for users seeking health information and advice.\n\nThis is a [Next.js](https://nextjs.org/) project bootstrapped with [`create-next-app`](https://github.com/vercel/next.js/tree/canary/packages/create-next-app).\n\n## Learn More\n\nTo learn more about Next.js, take a look at the following resources:\n\n- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.\n- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.\n\nYou can check out [the Next.js GitHub repository](https://github.com/vercel/next.js/) - your feedback and contributions are welcome!\n\n## Deploy on Vercel\n\nThe easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.\n\nCheck out our [Next.js deployment documentation](https://nextjs.org/docs/deployment) for more details.\n\n",
  "testEnv.js": "console.log('Starting testEnv.js');\n\nconst loadEnv = require('./scripts/loadEnv');\nconsole.log('loadEnv function imported');\n\nloadEnv();\nconsole.log('loadEnv function called');\n\nconsole.log('Checking environment variables:');\nconsole.log('PINECONE_API_KEY:', process.env.PINECONE_API_KEY ? 'Set' : 'Not set');\nconsole.log('PINECONE_ENVIRONMENT:', process.env.PINECONE_ENVIRONMENT);\nconsole.log('PINECONE_INDEX_NAME:', process.env.PINECONE_INDEX_NAME);\n\nconsole.log('testEnv.js completed');",
  "data\\english-dev.json": "[\n    {\n        \"description\": \"good day. this morning i coughed for the very first time in a long time. with the corona virus around i feel the need to report this. i coughed for about 5 min. i have no fever, not tired and chest feels weird. what should i do?\",\n        \"utterances\": [\n            \"patient: good day. this morning i coughed for the very first time in a long time. with the corona virus around i feel the need to report this. i coughed for about 5 min. i have no fever, not tired and chest feels weird. what should i do?\",\n            \"doctor: in brief: best to stay home right now stay home, consult here. disinfect everything and stay safe. we are here to answer your questions. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"can the meat i eat give me coronavirus? will cooking kill the coronavirus?\",\n        \"utterances\": [\n            \"patient: can the meat i eat give me coronavirus? will cooking kill the coronavirus?\",\n            \"doctor: cooking will kill. cooking adequately will kill the virus-30 sec of ,microwave.\"\n        ]\n    },\n    {\n        \"description\": \"how to treat walking pneumonia?\",\n        \"utterances\": [\n            \"patient: my fianc\\u00e9 has been coughing uncontrollably every night for the past 4 months. he is 23 years old, 5'9\\\", about 140 lbs., and has been told by his dr that he has walking pneumonia. he has been prescribed antibiotics, cough syrup, allergy medicine, mucinex, nasal sprays, and inhalers and although they suppress the coughing at times he still does not seem to have gotten rid of the coughing. his coughing is accompanied with phlegm and has also caused him to throw up due to the extremity. he does smoke cigars as well. what is this!?\",\n            \"doctor: walking pneumonia is a non-medical term to describe a mild case of pneumonia. it is usually called atypical pneumonia because the disease is different from more serious cases of pneumonia caused by typical bacteria. it is often the result of a lung infection from a bacterial microorganism called mycoplasma pneumoniae and generally treated with antibiotics. mild infections are often not treated because they tend to clear on their own. with treatment, most people begin to feel better within a few days.\"\n        ]\n    },\n    {\n        \"description\": \"2 days ago i started experiencing fatigue and random body pains, mostly below the ribs and body temp was high as i was sweating and feeling cold. gp give me flue medication and advice against testing for corona. should i insist on testing for corona?\",\n        \"utterances\": [\n            \"patient: 2 days ago i started experiencing fatigue and random body pains, mostly below the ribs and body temp was high as i was sweating and feeling cold. gp give me flue medication and advice against testing for corona. should i insist on testing for corona?\",\n            \"doctor: in brief: no,you shouldnt. unless you have a history of international travel recently or were in contact with someone who has tested positive for corona virsu. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"my 2year old son has had a dry cough and a runny nose since thursday . he's not talking yet so it is difficult to tell if he has any trouble breathing so i'm concerned. he does not have temperature ?\",\n        \"utterances\": [\n            \"patient: my 2year old son has had a dry cough and a runny nose since thursday . he's not talking yet so it is difficult to tell if he has any trouble breathing so i'm concerned. he does not have temperature ?\",\n            \"doctor: in brief: observatn is enough. by looking at your child you'll know if he is having breathing difficulties. cough with a runny nose is common in children. you should be concerned only if he is refusing to play and eat, or if he develops breathing difficulties. having a fever doesn't mean he has the coronavirus. he is more likely to be infected with any of the common infections in your area of gauteng. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"should patients with covid-19 avoid ibuprofen or raas antagonists?\",\n        \"utterances\": [\n            \"patient: should patients with covid-19 avoid ibuprofen or raas antagonists?\",\n            \"doctor: in brief: covid-19 and raas no, according to recent statement from american heart association, the patients with cardiovascular disease should continue acei or abr as prescribed. who also doesn't recommend avoiding ibuprofen for patients with covid-19 symptoms, although the use of acetaminophen could be an alternative option. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i am a quadriplegic and have a tight chest and slight difficulty breathing. overnight i started feeling like i need to clear my throat. i flew home to joburg from cpt 8 days ago & have been self isolating as a precaution. ?\",\n        \"utterances\": [\n            \"patient: i am a quadriplegic and have a tight chest and slight difficulty breathing. overnight i started feeling like i need to clear my throat. i flew home to joburg from cpt 8 days ago & have been self isolating as a precaution. ?\",\n            \"doctor: in brief: monitor. stay at home, monitor your temperature, drink fluids and rest. nasal congestion and post nasal drip is not typically associated with covid-19. watch for dry cough, fever and if your shortness of breath does not resolve, discuss whether you need an inhaler, chest physiotherapy and/or testing. if you have a trach, watch for signs of infection such as more secretions or a change in color . would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"itchy ears, painful ears pain in roof of mouth only at night. post nasal drip. i\\u2019ve sneezed a few times and sometimes my nose runs in the morning what could this be? also sometimes i cough but not a lot. any idea? covid 19?\",\n        \"utterances\": [\n            \"patient: itchy ears, painful ears pain in roof of mouth only at night. post nasal drip. i\\u2019ve sneezed a few times and sometimes my nose runs in the morning what could this be? also sometimes i cough but not a lot. any idea? covid 19?\",\n            \"doctor: in brief: probably not covid. may be allergic, bacterial sinus infection, a different virus, a narrow upper jaw with partial airway obstruction, or other causes. call your general physician and check if they want to see you. see your dentist to evaluate if your upper jaw is too narrow and if you need to see an orthodontist. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i am the main member of discovery, i want to complete a health covid assessment for my husband? please let me know how to do so?\",\n        \"utterances\": [\n            \"patient: i am the main member of discovery, i want to complete a health covid assessment for my husband? please let me know how to do so?\",\n            \"doctor: in brief: call discovery you'll need to call discovery. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"dry scratchy throat, very mild cough since 23 march but not improving. traveled to cape town via lanseria and ct airports 15-20 march. wife has sore throat, nasal congestion, lethargy & headaches since 21 march. should we see a doctor to be assessed?\",\n        \"utterances\": [\n            \"patient: dry scratchy throat, very mild cough since 23 march but not improving. traveled to cape town via lanseria and ct airports 15-20 march. wife has sore throat, nasal congestion, lethargy & headaches since 21 march. should we see a doctor to be assessed?\",\n            \"doctor: in brief: stay home. stay home for at least 7 days, rest, drink fluids and monitor your temperature. there is an overlap between flu and covid-19 symptoms. nasal congestion and absence of fever are not typically associated with covid. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"should i really be worried about my elderly parents catching covid-19? what steps should they take to stay healthy?\",\n        \"utterances\": [\n            \"patient: should i really be worried about my elderly parents catching covid-19? what steps should they take to stay healthy?\",\n            \"doctor: yes. avoid contact but ensure that they have food, supplies and able to slay at home. they should drink fluids and if they develop a fever, please call your pcp right away and also consider a virtual appointment with ht. other symptoms to watch for include dry cough and shortness of breath. use good hand washing and disinfect surfaces.\"\n        ]\n    },\n    {\n        \"description\": \"21 month old has a fever 38.7 and dry cough?\",\n        \"utterances\": [\n            \"patient: 21 month old has a fever 38.7 and dry cough?\",\n            \"doctor: contact doctor. was he/she exposed to coronavirus or flu or other illness?he/she may need to be examined and/or tested. please call his/her doctor to discuss and possibly be examined for proper diagnosis and treatment.\"\n        ]\n    },\n    {\n        \"description\": \"can coronavirus cause itchiness in throat and shortness of breath?\",\n        \"utterances\": [\n            \"patient: hello doctor, i am a 23-year-old man. i have anxiety and depression but no immunodeficiency disorders or chronic diseases. first, i wanna know if my immune system is weakened and how likely am i to die of coronavirus. second, i have itchiness in my throat and shortness of breath. i always have it because of anxiety but now it is more persistent than before. i also feel a very subtle feeling of pain, burning sensation and itchiness in my chest. i did not go out during the past ten days and have not been in contact with someone with positive covid. and i quit smoking past week. down to one or zero cigarettes from 20 a day. why am i feeling itchiness and pain and burning sensation? how likely am i to have covid-19? and how likely am i to die from it?\",\n            \"doctor: hello. anxiety can manifest itself in physical or psychological symptoms or both. the irritation sensation you are experiencing is a part of your anxiety. also please do not believe the hype about covid. it has a low mortality rate, of 2-3 percent, that too mortality is very high in people above 60-70 years with other co-morbidities. you do not have any such disorders and you have not even been in contact with anyone, so do not worry. please continue to take your medicines for anxiety if you are taking them, if not, please consider visiting a psychiatrist and get started on some low dose ssri type of medicines. also, if needed a low dose benzodiazepines can be added temporarily. also, please do some deep breathing exercises, or progressive muscle relaxation. you can also take some honey with water to reduce the itching in the throat and also try doing some gargles with lukewarm salt water.\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for community acquired pneumonia\",\n        \"utterances\": [\n            \"patient: i am a family doctor in an outpatient family medicine setting, and the question was raised reguarding treatment for community acquired pneumonia. if reoccurance of infection occurs, after treatment with z pack within 90 days how should patient be treated. would it be safe to treat again with levaquin as an outpatient?\",\n            \"doctor: helloit depends on the age, commodities, immunity status and the cause why the pneumonia is come back again.regardsdr.jolanda\"\n        ]\n    },\n    {\n        \"description\": \"can cough lead to pneumonia or tuberculosis?\",\n        \"utterances\": [\n            \"patient: name: brent age: 22 sex: male symptoms : i have a cough that seems to be reccursive. it occurs usually at nightime, or if i gave a very intense sneeze or laugh. when this cough occurs, it is very dry, that it would sound like a yelping dog. also, besides cough, i do experience a reccursive runny nose, sometimes coupled with watery red eyes and itchy throat. the runny nose discharge is transparent, almost like saliva or tears. ironically, after a while, these symptoms would disappear, and when they do disappear, i feel completely normal. i have already consulted a doctor and was diagnosed of allergic rhinits. she adviced me to take anti histamines, either zirtec or iterax, which ever do i prefer. unfortunately, it works at often but not at all times. how many days?:reccursive cough has been going on since april of this year. as for the runny nose, since november of last year allergies: not that i know of, when i was five years old, i remember being diagnosed of primary complex, but was able to be treated before it goes into something else. also, tb runs in the family, as my uncle had it before, and so as my mom (although the doctor said it was already a scar). as for me, 2009 was a stressful year. there were months, when my hours of daily sleep was only around 3 to four hours due to school work. also, for a period of time i was involved in smoking, although it has been a month since i stopped. doctor, i would just like to know what are the chances of me, acquiring respiratory illness like pneumonia or tuberculosis, or development of asthma? also, if i get to consult a doctor personally with my parents, will the doctor be able to detect my past smoking habit, based on the procedures he will do, or with tests that he will recommend like xray? the truth is, i am hesitant to go to a medical clinic, because my parents have to accompany me, and i am afraid that the doctor might make \\\"bisto\\\" towards my parents, as they don't know that i do smoke. but i do really want to seek medical attention. besides the incovenicence of symtpoms, i am worried that it might be something serious. hoping for a share of your brilliant expertise. thank you doctor and good day.\",\n            \"doctor: thanks for your concern. the dry cough basically has a few causes....first is post nasal drip, second gastroesophageal reflux'heart burn', third cough variant aasthma, forth heart failure and finally interstitial lung disease. based on the information if you don't have a heart burn or reflux of food or sour brash into your mouth, you are having a cough variant asthma, make sure you do not have difficulty breathing. there is something called cardiac asthma, but it's not much of a likelihood given your young age.i advice you that you give up on smoking as it causes a multitude of problems and may well be related to the cough you've been having now called as 'smokers cough'.it's time that you stop smoking, avoid animal dancers, mites, pollens and any thing that would exacerbate the illness, make sure you don't have a heart burn, and if still the cough persists , meet a pulmo neologism and get a pulmonary function test with methacholine challenge\"\n        ]\n    },\n    {\n        \"description\": \"can we use disprin or compral pils when we have corona. they dont contain ibuprophen?\",\n        \"utterances\": [\n            \"patient: can we use disprin or compral pils when we have corona. they dont contain ibuprophen?\",\n            \"doctor: in brief: yes you can,depends. corona virus treatment so far is symptomatic and supportive. it really depends what you treat with disprin/compral.you are they do not have ibuprofen. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i have a little fever with no history of foreign travel or contact. what is the chance of covid-19?\",\n        \"utterances\": [\n            \"patient: hello doctor, i am suffering from coughing, throat infection from last week. at that time fever did not persist and also did not felt any chest pain. two days later, i consulted with a doctor. he prescribed cavidur 625, montek lc, ambrolite syrup and betaline gargle solution. since then throat infection improved and frequent cough also coming out. coughing also improved remarkably though not completely. from yesterday onwards fever is occuring (maximum 100-degree celcius). i have not come in touch with any foreign returned person nor went outside. in our state, there is no incidence of covid-19. please suggest what to do?\",\n            \"doctor: hello, i can understand your concern. in my opinion, you should get done a chest x-ray and cbc (complete blood count). if both these are normal then no need to worry much. i hope this helps.\",\n            \"patient: thank you doctor, after doing all these i can upload all for further query.\",\n            \"doctor: hi, yes, upload in this query only. i will see and revert to you.\",\n            \"patient: thank you doctor, as per your guidelines, i have made one test. due to city shutdown, i could not able to make an x-ray of chest. fever is coming every 12 hours. but cough does not persist currently. the only problem is a fever. i am uploading the blood examination report. please advice.\",\n            \"doctor: hi, i can understand your concern. i have gone through the report you have attached. (attachment removed to protect patient identity). your total count is on the higher side of normal along with low hemoglobin. so start azithromycin 500 mg 1-0-0, tablet dolo 650 1-0-1. once your fever and cough subside, start an iron tablet for low hemoglobin. i hope this helps.\",\n            \"patient: thank you doctor, how many tablets of azithromycin to be taken? is it in the morning? i want to make you know that i have already taken azithromycin five days before. should she start it? and also can i start an iron tablet today itself?\",\n            \"doctor: hi, yes, you can take iron tablet from today onwards. and no need for azithromycin now as you have already taken it. drink plenty of fluids orally and keep yourself hydrated. do warm water gargles and steam inhalation four to five times a day.\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for pneumonia\",\n        \"utterances\": [\n            \"patient: my cousin was admitted yesterday for pneumonia and a collasped lung which was diagnoised yesterday. they did surgery this morning by cleaning out and draining fluids. she is now heavily sadated with a tube in her right lung. what will it take for her to get well again?\",\n            \"doctor: it sound like your cousin has something called- empyema. it is basically an abscess in the chest cavity. and the correct treatment for it is drainage - which was done appropriatley. but he should receive antibiotic treatment with coverage of both aerobic and anaerobic organisms. usually specimens are send from the procedure to see which organisms grow and provide a more directed antibiotic coverage.\"\n        ]\n    },\n    {\n        \"description\": \"a 2 year complaining that his head is sore. we gave him panado in the morning and at midday. he can't sleep he keeps waking up crying its painful. should i take him to a dr or hospital?\",\n        \"utterances\": [\n            \"patient: a 2 year complaining that his head is sore. we gave him panado in the morning and at midday. he can't sleep he keeps waking up crying its painful. should i take him to a dr or hospital?\",\n            \"doctor: in brief: fever? start by call pediatrician asap. if high fe ver or projectie vomiting take to er . take to er if inconsolable and cannot get pedicatrician if mild respiratory or gi symptoms likely virus and want to make sure adequately hydrated and may just watch, isolate from contact , and give chicken soup . work on soothing and disstraction keep in touch with pediatrician. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"can i test?no known contact with corona but been in contact with with congo dr friend 7march. she is still healthy now. i had slight sore throat wed 11 &12 march . phlegm and red eyes. temp seemed ok. got thermometer .ok. 19 felt better but coughing\",\n        \"utterances\": [\n            \"patient: can i test?no known contact with corona but been in contact with with congo dr friend 7march. she is still healthy now. i had slight sore throat wed 11 &12 march . phlegm and red eyes. temp seemed ok. got thermometer .ok. 19 felt better but coughing\",\n            \"doctor: in brief: per rsa nicd: seek care right away if difficulty breathing, other severe symptoms. seek testing if sick, plus known covid-19 contact, or travel to high risk country, or been in facility treating people with covid-19, or severe pneumonia of unknown cause.call 0800 029 999 for test. if sick or possibly exposed (not both), stay home.seek consultation if sick.if known exposure & not sick, self-isolate 14 days. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i have scratchy throat, phlegm, loss of appetite, fatigue. i am pharmacist in research facility. my son had 3rd contact. he has flu symptoms. he was quarantined. we are waiting for the results for his contact. do i need to test myself?\",\n        \"utterances\": [\n            \"patient: i have scratchy throat, phlegm, loss of appetite, fatigue. i am pharmacist in research facility. my son had 3rd contact. he has flu symptoms. he was quarantined. we are waiting for the results for his contact. do i need to test myself?\",\n            \"doctor: in brief: cluster cases i would recommend staying at home, rest, drink fluids and monitoring your temperature. you may have covid-19 or another illness. if you are otherwise healthy, await test results. keep utensils, linens separate and washed. use good hand washing and disinfect surfaces. if the test is positive, please have screening of all family members in your home. avoid contact with others. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"i was in contact with someone who has tested positive for covid-19. he does not have symptoms. test was done on 18 march. i do not have any symptoms except for a running stomach. what should i do? thanks\",\n        \"utterances\": [\n            \"patient: i was in contact with someone who has tested positive for covid-19. he does not have symptoms. test was done on 18 march. i do not have any symptoms except for a running stomach. what should i do? thanks\",\n            \"doctor: self quarentine. the current nicd and department of health guidelines are to self isolate for 14 days. if you develop fever, cough or shortness of breath contact your primary care provider and arrange for testing. for more info whatsapp the word \\\"hi\\\" to excellent department of health hot-line 0600 123456. .\"\n        ]\n    },\n    {\n        \"description\": \"good day doctor. since past week, i am loosing weight.mid last week it was 62 odd and today when i checked, it is 61.35. few months back weight was above 64. i am having no other symptoms. i realized this only when my trousers were loose. thanks.\",\n        \"utterances\": [\n            \"patient: good day doctor. since past week, i am loosing weight.mid last week it was 62 odd and today when i checked, it is 61.35. few months back weight was above 64. i am having no other symptoms. i realized this only when my trousers were loose. thanks.\",\n            \"doctor: in brief: dont think c this is a different problem. dont think it is covid. which is good news. what are your other symptoms? would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for breathlessness after recovering from pneumonia\",\n        \"utterances\": [\n            \"patient: my son is 2 month old and when he was one month old then namuniya atak him and he was admited one month in eraz hospital in balagung and after 15 days he having problem in the breathing he cant breathing well can u tell me what is the problem he have and what is the sulation?\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have evaluated your query thoroughly .* this has different reasons as - residual effect of pneumonia - decreased lung immunity - spasm of bronchi or alveoli with secretions - others .* need urgent pediatric consultation for further management .wishing your angel fine recovery .regards .\"\n        ]\n    },\n    {\n        \"description\": \"my 2 year old has a small fever and is vomiting. i'm worried about her. are these symptoms of the coronavirus?\",\n        \"utterances\": [\n            \"patient: my 2 year old has a small fever and is vomiting. i'm worried about her. are these symptoms of the coronavirus?\",\n            \"doctor: probably not. much more important is what her exposure is to anyone who has covid19 or traveler from a highly infected area.fever >100.4f and respiratory symptoms are more common with covid 19 than vomiting.\"\n        ]\n    },\n    {\n        \"description\": \"just found out that my md tested positive for covid-19. i had direct interaction with him. he has no symptoms, he was tested because he traveled in february to switzerland. should i be tested. i\\u2019m 67, or wait to see if i develop any symptoms.?\",\n        \"utterances\": [\n            \"patient: just found out that my md tested positive for covid-19. i had direct interaction with him. he has no symptoms, he was tested because he traveled in february to switzerland. should i be tested. i\\u2019m 67, or wait to see if i develop any symptoms.?\",\n            \"doctor: per rsa nicd: self-isolate for 14 days.seek testing if sick.call 0800 029 999 for test information.seek consultation if sick, preferably by phone or telemedicine.seek care right away if difficulty breathing, other severe symptoms.good luck, from the united states!\"\n        ]\n    },\n    {\n        \"description\": \"hi there. i was at a festival over this past weekend and there has been a report of someone testing positive now. is it a good idea to go for a test and/or self isolate ? is national travel by car ok ?\",\n        \"utterances\": [\n            \"patient: hi there. i was at a festival over this past weekend and there has been a report of someone testing positive now. is it a good idea to go for a test and/or self isolate ? is national travel by car ok ?\",\n            \"doctor: in brief: self-quarantine! enter self-quarantine then call your health care provider to get instructions regarding testing, self-quarantine and possible hospitalization then follow through! would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"because i have type 1 diabetes, what is likely to happen to me if i get the coronavirus?\",\n        \"utterances\": [\n            \"patient: because i have type 1 diabetes, what is likely to happen to me if i get the coronavirus?\",\n            \"doctor: might be more severe. people with diabetes can have more fragile immune systems with difficulty fighting infections, so if you contract coronavirus you might be at greater risk for breathing complications. any serious illness can affect blood sugar control in diabetics also. i recommend taking extra precautions to minimize contact with people so as to avoid contacting the virus. .\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for chronic pneumonia\",\n        \"utterances\": [\n            \"patient: hi, i m a 55 yr old white female, 5`4 , 180 lbs. i had childhood asthma and bronchitis, and were given steroids frequently. i seemed to grow out of it at age 17. during the last 14 yrs i ve developed fibromyalgia/chronic fatigue, ra, for 14 months my sed rate stayed at 53-108 and they could not find out why, cushing s syndrome, neuropathy of the feet, and most importantly - hypogammagobulinemia. i rec d igg iv s monthly for 4 yrs, then lost insurance 6 yrs. ago. i m disabled and on medicare, i haven t rec d iv s in 6 yrs. during that time i ve had pneumonia 17 times, once was septic pneumonia, constant sinus problems, pcp infection and a rare form of arthritis associated with the hypo (the dr. couldn t tell me the name of it). i have contacted medicare, foundations and pharm companies trying to get help to start treatment again. reaching out to any possible help has been met with apathy and no one would try to point me in the right direction. i m really worried and would like to know my chances of surviving if i can t get the igg treatments. thank you very much for your time.\",\n            \"doctor: hello, the cause of chronic pneumonia is mandatory to be evaluated here with culture of bronchial lavage fluid, ct scan of the thorax and other supportive evaluations. unless the root cause is identified, one cannot get the complete management chart. hope i have answered your query. feel free to post further doubts. thank you. regards, dr. bhagyesh v. patel, general surgeon\"\n        ]\n    },\n    {\n        \"description\": \"hi dr. my whole body feels sore as well as my neck. my brain feels loose in my head and have headaches?\",\n        \"utterances\": [\n            \"patient: hi dr. my whole body feels sore as well as my neck. my brain feels loose in my head and have headaches?\",\n            \"doctor: in brief: viral systemic infec sounds like it could be systemic infection, like influenza or corona viruses. please contact the nicd for screening to see if you have to get tested.public hotline:+27 800029999; +27 800111132; +27 82 883 9920.only use paracetamol for pain, if not allergic to it. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"on the night of 23rd march i started experiencing soar throat and little bit nose block. i visited gp yesterday and was given flue medication. gp advised against corona testing since my temp was normal. should i be concern about the corona virus?\",\n        \"utterances\": [\n            \"patient: on the night of 23rd march i started experiencing soar throat and little bit nose block. i visited gp yesterday and was given flue medication. gp advised against corona testing since my temp was normal. should i be concern about the corona virus?\",\n            \"doctor: not at all. your\"\n        ]\n    },\n    {\n        \"description\": \"where do genital warts come from? my partner has visible ones, however i don\\u2019t. i\\u2019m female. could they be there internally ? what are the origins of this virus?\",\n        \"utterances\": [\n            \"patient: where do genital warts come from? my partner has visible ones, however i don\\u2019t. i\\u2019m female. could they be there internally ? what are the origins of this virus?\",\n            \"doctor: in brief: hpv virus human papiloma virus. you wont necessarily have them but you could have the virus. when last did you have a papsmear. they can pick it up on that. once we are out of lockdown get a papsmear. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"suggest treatment for chest cold after treated pneumonia in past\",\n        \"utterances\": [\n            \"patient: my son is 3 years old, and came down with a head cold wed, it moved immediately to his chest (he is a preemie-grad, and has had trouble with pneumonia and rsv in past) he is running a temp, and his respiratory rate is between 48-50. i just don't know if i should wait it out a little longer to see what the day brings or take him in. i hate feelling like i'm always there for the slightest things with him, but his history proves medical intervention always was the case. it just seems so quick that a lung issue would be evident, when he only started showing signs of a cold wednesday night.\",\n            \"doctor: hello,your son\\u2019s respiratory rate is too high. please take him to er immediately and take a chest x-ray immediately.hope i have answered your query. let me know if i can assist you further.regards,dr. siva kumar reddy\"\n        ]\n    },\n    {\n        \"description\": \"suggest medication for severe pneumonia\",\n        \"utterances\": [\n            \"patient: i have been on methadone for approx. 5 years now at a dose of 30mg taken 4 times daily. this has not only stopped any unpleasant withdrawl symptoms but has also offered considerable relief in easing chronic pain from a severe back injury 11 years ago. for the first 3 years of taking the medication i found that while it was effective in these areas their was an exceptional side effect in that it absolutely obliterated any interest in sex or even the ability to physically have sex. also i found that i had next to no energy, making many things i used to enjoy fall by the wayside which in turn led to severe depression. after extensive talks with my doctor i was sent for blood analysis and it was found that my level of testosterone was so low it barely registered. i was then put on a 3 week cycle of injections of 2mls of delatestryl and for the past several years i have been the person that i used to be (it gave me my life back). know i have been given a new doctor at the clinic i attend and he has informed me that he is only there to prescribe methadone and will not be responsible for any other prescriptions. i do not have a family doctor and our emerg has said that this falls outside their domain. the walk in clinic treats every individual that i know so badly that their is no doubt in my mind that they will refuse to continue this presciption. (to give you some perspective on our walk in clinic - i went their several mnths back with sever pneumonia and the doctor looked at my chart once and told me that i would get know %$# narcotics from him and to leave immediately) any suggestions on how to get across to my knew methadone doctor (who has only been in prescribing methadone for 2 months) just how much this would severely negatively impact my life?\",\n            \"doctor: hello and welcome to \\u2018ask a doctor\\u2019 service. i have reviewed your query and here is my advice. * the pneumonia management depends upon the symptoms which are not narrated here precisely. * the methadone is known to cause long terms side effects over liver, kidney and other body systems, which should be discussed with the treating physician. awaiting for the symptomatic details to guide further. hope i have answered your query. let me know if i can assist you further.\"\n        ]\n    },\n    {\n        \"description\": \"associated with phlegm and mucus?\",\n        \"utterances\": [\n            \"patient: associated with phlegm and mucus?\",\n            \"doctor: cough,phlegm. at this time your symptoms are characteristic of a viral upper respiratory tract infection, and if your sputum is very discolored, bronchitis may be present. absence of fever,chills, chest discomfort,shortness of breath or wheezing is reassuring but your md may recommend starting antibiotic treatment. leave it to him/her whether covid19 treating is advisable depending upon exposure history.\"\n        ]\n    },\n    {\n        \"description\": \"what is the permanent treatment for klebsiella pneumoniae?\",\n        \"utterances\": [\n            \"patient: my mother has cre/resistant klebsiella pnuemoneae(excuse the spelling) she is allergic to most antibiotics,sulfa, & penicillin. she has been treated five times obviouly they haven t worked in full! she easily goes anaphylactic! mid way through treatments. last trtmt. was 7 days ago. 1st day , iv ertapenem 1mg and litocane, prior to trtmt. she premeds w/ 50 mgs oral benedryl,1 hour cooktime prior ttrtmt.there was to be an additional 9 doses im and on 6th dose went into shock. she is being readmitted in a.m. for another attempt she is trying oral doses of colodial silver. help what to do? how long can this go on before she dies? what are the symptoms of death dur to cre?\",\n            \"doctor: hi, in such conditions we recommend another class of antibiotics but in the survey of the allergologist who should monitor closely the patient's situation. hope i have answered your query. let me know if i can assist you further. regards, dr. jnikolla, pulmonologist\"\n        ]\n    },\n    {\n        \"description\": \"i have tested positive for covid 19 what medication must i take?\",\n        \"utterances\": [\n            \"patient: i have tested positive for covid 19 what medication must i take?\",\n            \"doctor: only if hospitalized. covid-19 infection is worldwide, in all but some isolated areas. the goal is to keep people separated so that the clinics and hospitals are not overwhelmed. patients can be presumed positive regardless of whether they got tested or not, as there's no way to test everyone. no good outpatient treatment found yet. trials of various meds are done for hospitalized patients. (mar. 2020)\"\n        ]\n    },\n    {\n        \"description\": \"could the persistent strep inspite of using amoxicillin be due to pneumonia?\",\n        \"utterances\": [\n            \"patient: son is 9 years old. he has strep and is on amoxicilin. his fever is gone now, but he still doesn't feel good. very tired and dark circles under the eyes. very pale. he has been on the med for 3 full days and i think the antibiotic is not working. could he also have pneumonia (no cough though).\",\n            \"doctor: thanks for your question on healthcare magic.i can understand your concern.no need to worry for pneumonia as he is not having coughing.coughing is first symptom of pneumonia.so pneumonia is unlikely in the absence of coughing.and 3 days antibiotic duration is too early to decide about effectiveness.you should give full 7 days course of amoxicillin.fever was subsided so amoxicillin island definitely working.along within amoxicillin, give him plenty of fluids orally, fruits, juices etc for energy.don't worry, he will be alright.hope i have solved your query. i will be happy to help you further. wish you good health. thanks.\"\n        ]\n    },\n    {\n        \"description\": \"on and off fever, sore body?\",\n        \"utterances\": [\n            \"patient: on and off fever, sore body?\",\n            \"doctor: probable flu. this definitely sounds like influenza is starting.( unless you have any obvious reason to suspect covid-19,malaria,tick bite fever or glandular fever).rest,vitamin c and a suitable over the counter painkiller. i would advise avoiding ibuprofen and other non-steroidal anti-inflammatory medication.\"\n        ]\n    },\n    {\n        \"description\": \"are there specific animals or pets more likely to catch corona than others? which animals should i be staying away from?\",\n        \"utterances\": [\n            \"patient: are there specific animals or pets more likely to catch corona than others? which animals should i be staying away from?\",\n            \"doctor: in brief: limited risk from my reading the corona virus is limited in the animals it infests to varieties of bats and snakes. i would not put your dog or cat on such a list. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"how long do shortness of breath and cough last post recovery from pneumonia?\",\n        \"utterances\": [\n            \"patient: i was diagnosed with pneumonia on june 30. i finished taking my antibiotics and cough pills. i still continue to cough sometimes gaging. shortness of breath and wheezing, i have an inhaler, i am not coughing up anymore phlem. my doctor says to take mucinex dm. i have finished a bottle. i also have taken robitussin cough medicine. she also sd cough cld last up to 4-6 weeks.\",\n            \"doctor: hello, these symptoms last for 3-4 weeks. so no need to worry if fever is not there. hope i have answered your query. let me know if i can assist you further. take care regards, dr kaushal bhavsar, pulmonologist\"\n        ]\n    },\n    {\n        \"description\": \"is hrct test recommended for pneumonia?\",\n        \"utterances\": [\n            \"patient: hello doctor, my mother is an asthamatic and diabetic and has been suffering from pneumonis and being treated an madam mohan malviya hospital in malviya nagar delhi. the doctors there have recomended for a hrct test done for her chest. cld u recomend the hospital where we shld go for this test?\",\n            \"doctor: thanks for your question on healthcare magic.i can understand your concern. hrct thorax is done at radiology center. so ask your doctor about near by ct scan centers.usually ct scan is not required for diagnosis of pneumonia.but in some cases if diagnosis is not confirmed or patient is not improving or we suspect tb or ild (interstitial lung disease) then hrct thorax is advised.hope i have solved your query. i will be happy to help you further. wishing good health to your mother. thanks.\"\n        ]\n    },\n    {\n        \"description\": \"i work in a call center and one of my agents tested positive for covid-19, sent her home wednesday to get tested and yesterday they came back positive?\",\n        \"utterances\": [\n            \"patient: i work in a call center and one of my agents tested positive for covid-19, sent her home wednesday to get tested and yesterday they came back positive?\",\n            \"doctor: covid. https://www.healthtap.com/blog/covid-19-care-guidelines/resources-for-managing-covid-19https://www.healthtap.com/blog/covid-19-care-guidelines/self-quarantine-guide.\"\n        ]\n    },\n    {\n        \"description\": \"girlfriend has coronavirus. with bad symptoms. it\\u2019s 7 days since she started symptoms, and last time i saw her. i still don\\u2019t feel symptoms. how much longer am i in the zone of possibly starting symptoms from close exposure?\",\n        \"utterances\": [\n            \"patient: girlfriend has coronavirus. with bad symptoms. it\\u2019s 7 days since she started symptoms, and last time i saw her. i still don\\u2019t feel symptoms. how much longer am i in the zone of possibly starting symptoms from close exposure?\",\n            \"doctor: in brief: quarantine you should be in self quarantine as it might take another week for you to develop symptoms. as soon as spiking fever, having a sore throat or cough- test. do not travel, nor visit medical facilities. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"should a ct scan be done while suffering from pneumonia?\",\n        \"utterances\": [\n            \"patient: my 62 year old sister is currently hospitalized for pneumonia that was dx after foot surgery related to a fall. she had breast ca 8 years ago. currently taking tamoxifin. brca ii gene. 3 sisters also with gene mutation and hx of breast ca. youngest sister passed away from recurrance of breast ca. (mets to lungs, liver and bones.) hospital ruled out blood clot in lung. dx with pneumonia. should ct scan be done since she has has a long standing cough and multiple bouts of pneumonia.\",\n            \"doctor: hello and welcome to \\u2018ask a doctor\\u2019 service. i have reviewed your query and here is my advice. yes, she can safely do the chest ct. there is not any contraindication of doing it in pneumonia. regards, dr.jolanda\"\n        ]\n    },\n    {\n        \"description\": \"i have chest congestion and i feel heavy when i breathe (not sure if i have a fever, don\\u2019t really have a cough but my throat is sore). i also know that someone in my office and my boyfriends office have been infected with covid19. what should i do?\",\n        \"utterances\": [\n            \"patient: i have chest congestion and i feel heavy when i breathe (not sure if i have a fever, don\\u2019t really have a cough but my throat is sore). i also know that someone in my office and my boyfriends office have been infected with covid19. what should i do?\",\n            \"doctor: in brief: ? telephonic consult if you are able, consult telephonically with your gp. if not, do not go into public places, rather get symptomatic treatment - let someone who is well do this as swiftly as they can. otherwise continue consulting on this forum. we can help you. if you have access to a test this is the only way to know if you truely have it. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"what do hurting ribs radiating to back and shoulder after being treated for pneumonia mean?\",\n        \"utterances\": [\n            \"patient: hi, may i answer your health queries right now ? please type your query here...i have been to the doctor 2 times. first time, it was a severe sinus infection, week later had to go back, turned into pneumonia, had to go back third time. all 3 times i was given a shot, antibotics & c-pack first time, steroids, antibotics & shot second and antibotics & shot third. i have been hurting under my ribs and has gone to my back and shoulder. do you think the pneumonia has gotten worse? do i need to go back to the doctor?\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have evaluated your concern in depth .* this indicates lung pathology giving nerve endings pain with hurting ribs radiating to back and shoulder .* if not carried out x-ray chest with or without ct thorax is a must for proper diagnosis and management guidelines .hope this clears your query .regards .\"\n        ]\n    },\n    {\n        \"description\": \"my 5 year old daughter has just come down with a 39 degree fever, sneezing, runny nose and cough. should we get her tested?\",\n        \"utterances\": [\n            \"patient: my 5 year old daughter has just come down with a 39 degree fever, sneezing, runny nose and cough. should we get her tested?\",\n            \"doctor: maybe. has she been around anyone who has tested positive for covid-19? is she having shortness of breath or labored breathing? if so, then, yes, consider getting her tested. if not, it is more likely that she has the flu or some other virus. if it seems like more than just a regular cold, reach out to her pediatrician for more advice.\"\n        ]\n    },\n    {\n        \"description\": \"hi. i have a very tight chest but no cough. feels like i am about to cough sometimes but no cough. then when i stand upright it's worse. no fever. possible exposure to covid from gibs university but not sure. really burning sensation on my chest.\",\n        \"utterances\": [\n            \"patient: hi. i have a very tight chest but no cough. feels like i am about to cough sometimes but no cough. then when i stand upright it's worse. no fever. possible exposure to covid from gibs university but not sure. really burning sensation on my chest.\",\n            \"doctor: in brief: consider asthma have you ever had asthma or wheezing? that can cause tightness & shortness of breath, as can certain heart problems. without fever & cough, covid 19 is less likely, but probably best to call your dr\\u2019s office for recommendation. if the breathing worsens you should be seen assp by video visit or perhaps in person to listen to lungs & assess need for possible chest x-ray, ekg, & medication would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"hi! so i\\u2019m a 20 year old female. i started working out about a year ago. i noticed some lower abdominal pain after partaking in abdominal workouts. but also notice it around the time of my period. it\\u2019s right next to/under my hip bone on left side.\",\n        \"utterances\": [\n            \"patient: hi! so i\\u2019m a 20 year old female. i started working out about a year ago. i noticed some lower abdominal pain after partaking in abdominal workouts. but also notice it around the time of my period. it\\u2019s right next to/under my hip bone on left side.\",\n            \"doctor: in brief: this could well be very normal. one can get pain on day 14 during ovulation and before and during the period. use panado for this and once we are through this corona virus you can use anti-inflammatories. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"does covid-19 spreads through water? what precautions should i take to avoid infection?\",\n        \"utterances\": [\n            \"patient: hi, i am chaitanya, 27 years old. i use to swim daily in morning. does covid-19 spreads through water ? what precautions should i take to avoid infection?\",\n            \"doctor: hello and welcome to ask a doctor service. i have reviewed your query and here is my advice. first few cases were suspected to have spread from food. however human to human spread is mainly from air droplets. i would suggest you to refrain from swimming for sometime. although the virus will get killed in swimming pool if it doesnot find host for more than few minutes. other precautions include to avoid social gatherings, wash hands frequently with soap and water, cover face with mask, stay home during sickness, avoid travel. hope it helps. let me know if i can assist you further. dr vaishalee\"\n        ]\n    },\n    {\n        \"description\": \"my boyfriend suddenly lost his sense of smell. he had a sleep apnea test done 3 days ago, on a machine, plus one if his nostrils is stuffed up, due to a slight cold. also when the test was done, his nostrils were clear. what caused this?\",\n        \"utterances\": [\n            \"patient: my boyfriend suddenly lost his sense of smell. he had a sleep apnea test done 3 days ago, on a machine, plus one if his nostrils is stuffed up, due to a slight cold. also when the test was done, his nostrils were clear. what caused this?\",\n            \"doctor: covid-19? you won't like to hear this, but loss of smell (anosmia) or taste often is the first symptom of covid-19, the epidemic coronavirus infection. nasal congestion also could go along with this. and you probably know that covid-19 is currently a big problem in nyc. he should contact his doctor right away.\"\n        ]\n    },\n    {\n        \"description\": \"hpv virus has affected my sex life. i bleed a lot during sex and on my period. i did a cervical cauterisation but my period is still the same and i\\u2019m scared to have sex due to bleeding as i was once hospitalised for it. any tips on what i can do?\",\n        \"utterances\": [\n            \"patient: hpv virus has affected my sex life. i bleed a lot during sex and on my period. i did a cervical cauterisation but my period is still the same and i\\u2019m scared to have sex due to bleeding as i was once hospitalised for it. any tips on what i can do?\",\n            \"doctor: in brief: cervix trauma one technique is to have your partner only penetrate your vagina half way to avoid trauma to the cervix. you and your partner can still have enough stimulation and pleasure this way. would you like to video or text chat with me?\"\n        ]\n    },\n    {\n        \"description\": \"why does one have difficulty in sleeping with history of pneumonia?\",\n        \"utterances\": [\n            \"patient: my father 82 years old was in the hospital for pneumonia and per cardiac catherization showing blockage. it was diagnosed that blockage was too much for bypass or stent. only medication is given to help heart. heart muscles also showed dead so it was no use to have bypass surgery per cardiac physician as even if blockage removed muscles would not help heart. my question is that now released from home he has been very uncomfortable during night sleep. he moans while asleep. he gets up and sits on bed. he then lays back and the same continues. he states being tired from hospital stay. he states he is tired from stay in hospital like hospital bed etc. he really gets to sleep at 6 am and then during the day he is fine. then the next night it starts again. has been home since feb. 2. current medical doctor provided meds to sleep but that was worse. my mother is the primary caretaker and has reported his night sleep is off after returning home. does the new diagnosis cause this or is there is a reason. thanks.\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have evaluated your query thoroughly .* there are different reasons for this as - lung abscess - effusion - cardiac distress induced - lung hypoxia due to altered pulmonary pressure - anxiety exacerbation - others .hope this clears your query .regards .\"\n        ]\n    },\n    {\n        \"description\": \"is removal of a lung correct if having pneumonia?\",\n        \"utterances\": [\n            \"patient: i ve had pneumonia numerous times always in my left lung. the last time was a year ago, it never went away. my pulmonary explained that the disease is between all the scar tissue. i also have crohns disease and am treated with remicade. after several c-scans which showed a mass and biopsies and cultures which came back negative,i had the left lung completely removed last month and was diagnosed with pulmonary eosinothioia. does this sound correct?\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have evaluated your query in details .* according to the narration it was seemingly the correct decision of surgery on part of the surgeon as well as patient , because the medicines were not going to cure it at all .wishing you fine recovery .feel free to ask any further queries .regards .\"\n        ]\n    },\n    {\n        \"description\": \"what does this chest x-ray test result for pneumonia indicate?\",\n        \"utterances\": [\n            \"patient: hi, my chest x-ray reveals i have a small lingular infiltrate.wbc,lymphocytes,hct etc elevated due to infection.i had a course of augmentin duo and steroid.currently on azithromycin 250 mgs.symptoms of pneumonia still persisting.do i need to change my treatment?\",\n            \"doctor: hello dearwarm welcome to healthcaremagic.comi have gone through your query thoroughly .* x-ray result indicates infection of the lung with some sort of bacteria giving rise to pneumonia .* pneumonia recovery takes time depending upon the virulence of the organisms , host immune response and other co morbid conditions .* if your symptom score has declined from the initiation of the therapy wait for further progress , if the intensity of the symptoms is as it is then have to consider the change of therapy or consultant .hope this clears your doubt .thanks .regards .\"\n        ]\n    },\n    {\n        \"description\": \"i have a sore throat, coughing, swollen glands in neck. i am a teacher. i was in contact with many kids until wed last week. one of the parents tested positive for covid 19 but there is no way i was in contact. what should i do?\",\n        \"utterances\": [\n            \"patient: i have a sore throat, coughing, swollen glands in neck. i am a teacher. i was in contact with many kids until wed last week. one of the parents tested positive for covid 19 but there is no way i was in contact. what should i do?\",\n            \"doctor: urti. dear teacheracording to your description, it can be just a viral sore throat. any fever/headache/dry cough/body pains?are you improving?rest, medication like paracetamol/antihistamines/lozenges.you are an unlikely contact for covid 19 at present, but observe, isolate , unless you do not improveregardsdr wil.\"\n        ]\n    },\n    {\n        \"description\": \"i believe the incubation period for covid 19 is 7 days. so if you get sick after 7 days does the 14 say quarantine period starts from the moment you show symptoms or is the 7 days incubation period included in 14 day quarantine period?\",\n        \"utterances\": [\n            \"patient: i believe the incubation period for covid 19 is 7 days. so if you get sick after 7 days does the 14 say quarantine period starts from the moment you show symptoms or is the 7 days incubation period included in 14 day quarantine period?\",\n            \"doctor: after symptoms show. as per the nicd guidelines for clinical management of suspected or confirmed covid-19 disease, \\\"those with mild disease may be de-isolated 14 days after symptom onset, while those with severe disease may be de-isolated 14 days after achieving clinical stability (e.g. once supplemental oxygen is discontinued)\\\". [available at: http://www.nicd.ac.za/diseases-a-z-index/covid-19/covid-19-guidelines/]\"\n        ]\n    },\n    {\n        \"description\": \"been sneezing / stuffy nose and slight sore throat since returning from france, temperature is okay, not coughing or high fever symptoms, should i be alarmed?\",\n        \"utterances\": [\n            \"patient: been sneezing / stuffy nose and slight sore throat since returning from france, temperature is okay, not coughing or high fever symptoms, should i be alarmed?\",\n            \"doctor: simple cold but..... sounds like simple cold, but under the current health challenges of the world, it's best to be preemptive. and because covid-19 is an infectious disease mostly transmitted through respiratory fluid droplets, one should first follow the who/cdc current guidelines on hygiene. then gargle with salt-water or vinegar-water after each meal/bedtime plus take aleve or ibuprofen for soreness/fever... .\"\n        ]\n    },\n    {\n        \"description\": \"buen d\\u00eda doctor (a) tengo una duda :si dos hombres homosexuales tienen relaciones sexuales sin protecci\\u00f3n pero estos tienen una relaci\\u00f3n mutuamente monogama y ninguno de las dos personas est\\u00e1 infectado de vih\\u00bfpueden contraer vih?\",\n        \"utterances\": [\n            \"patient: buen d\\u00eda doctor (a) tengo una duda :si dos hombres homosexuales tienen relaciones sexuales sin protecci\\u00f3n pero estos tienen una relaci\\u00f3n mutuamente monogama y ninguno de las dos personas est\\u00e1 infectado de vih\\u00bfpueden contraer vih?\",\n            \"doctor: in brief: transmisi\\u00f3n vih solamente ciertos l\\u00edquidos corporales \\u2014la sangre, el semen, el l\\u00edquido preseminal, las secreciones rectales etc \\u2014 de una persona que tiene el vih pueden transmitir el virus. si ambos tienen la certeza con una prueba confirmatoria de que no est\\u00e1n infectados y son monogamos no tienen por qu\\u00e9 contraerlo. sin embargo tener relaciones sexuales sin protecci\\u00f3n pueden contraer otro ets would you like to video or text chat with me?\"\n        ]\n    }\n]",
  "public\\next.svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 394 80\"><path fill=\"#000\" d=\"M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z\"/><path fill=\"#000\" d=\"M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z\"/></svg>",
  "public\\vercel.svg": "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 283 64\"><path fill=\"black\" d=\"M141 16c-11 0-19 7-19 18s9 18 20 18c7 0 13-3 16-7l-7-5c-2 3-6 4-9 4-5 0-9-3-10-7h28v-3c0-11-8-18-19-18zm-9 15c1-4 4-7 9-7s8 3 9 7h-18zm117-15c-11 0-19 7-19 18s9 18 20 18c6 0 12-3 16-7l-8-5c-2 3-5 4-8 4-5 0-9-3-11-7h28l1-3c0-11-8-18-19-18zm-10 15c2-4 5-7 10-7s8 3 9 7h-19zm-39 3c0 6 4 10 10 10 4 0 7-2 9-5l8 5c-3 5-9 8-17 8-11 0-19-7-19-18s8-18 19-18c8 0 14 3 17 8l-8 5c-2-3-5-5-9-5-6 0-10 4-10 10zm83-29v46h-9V5h9zM37 0l37 64H0L37 0zm92 5-27 48L74 5h10l18 30 17-30h10zm59 12v10l-3-1c-6 0-10 4-10 10v15h-9V17h9v9c0-5 6-9 13-9z\"/></svg>",
  "scripts\\loadEnv.js": "const fs = require('fs');\nconst path = require('path');\n\nfunction loadEnv() {\n  console.log('Starting to load environment variables...');\n  const envPath = path.resolve(process.cwd(), '.env.local');\n  console.log('Looking for .env.local file at:', envPath);\n  \n  if (!fs.existsSync(envPath)) {\n    console.error('.env.local file not found');\n    return;\n  }\n\n  console.log('.env.local file found. Reading contents...');\n  const envContent = fs.readFileSync(envPath, 'utf-8');\n  const envVars = envContent.split('\\n');\n\n  console.log('Parsing environment variables...');\n  envVars.forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) {\n      process.env[key.trim()] = value.trim();\n      console.log(`Set ${key.trim()} in process.env`);\n    }\n  });\n\n  console.log('Environment variables loaded:');\n  console.log('PINECONE_API_KEY:', process.env.PINECONE_API_KEY ? 'Set' : 'Not set');\n  console.log('PINECONE_ENVIRONMENT:', process.env.PINECONE_ENVIRONMENT);\n  console.log('PINECONE_INDEX_NAME:', process.env.PINECONE_INDEX_NAME);\n}\n\nmodule.exports = loadEnv;",
  "scripts\\uploadToPinecone.js": "const { PineconeClient } = require(\"@pinecone-database/pinecone\");\nconst loadEnv = require('./loadEnv');\nloadEnv();\n\nconst fetch = require('node-fetch');\nconst fs = require('fs').promises;\nconst path = require('path');\nconst { OpenAIEmbeddings } = require(\"langchain/embeddings/openai\");\n\nconst PINECONE_API_KEY = process.env.PINECONE_API_KEY;\nconst PINECONE_ENVIRONMENT = process.env.PINECONE_ENVIRONMENT;\nconst PINECONE_INDEX_NAME = process.env.PINECONE_INDEX_NAME;\n\nconsole.log(\"Environment variables:\");\nconsole.log(\"PINECONE_API_KEY:\", PINECONE_API_KEY ? \"Set\" : \"Not set\");\nconsole.log(\"PINECONE_ENVIRONMENT:\", PINECONE_ENVIRONMENT);\nconsole.log(\"PINECONE_INDEX_NAME:\", PINECONE_INDEX_NAME);\n\nasync function initPinecone() {\n  console.log(\"Initializing Pinecone...\");\n  const pinecone = new PineconeClient();\n  try {\n    console.log(\"Pinecone init params:\", {\n      apiKey: PINECONE_API_KEY ? \"Set\" : \"Not set\",\n      environment: PINECONE_ENVIRONMENT\n    });\n    await pinecone.init({\n      apiKey: PINECONE_API_KEY,\n      environment: PINECONE_ENVIRONMENT,\n    });\n    console.log(\"Pinecone initialized successfully\");\n    return pinecone;\n  } catch (error) {\n    console.error(\"Error initializing Pinecone:\");\n    console.error(\"Error name:\", error.name);\n    console.error(\"Error message:\", error.message);\n    console.error(\"Full error object:\", JSON.stringify(error, null, 2));\n    if (error.response) {\n      console.error(\"Response data:\", error.response.data);\n      console.error(\"Response status:\", error.response.status);\n    }\n    throw error;\n  }\n}\n\nasync function loadJSONFiles(directory) {\n  console.log(`Loading JSON files from ${directory}...`);\n  const files = await fs.readdir(directory);\n  const jsonFiles = files.filter(file => path.extname(file).toLowerCase() === '.json');\n  console.log(`Found ${jsonFiles.length} JSON files`);\n  \n  const data = [];\n  for (const file of jsonFiles) {\n    const filePath = path.join(directory, file);\n    console.log(`Reading file: ${filePath}`);\n    const content = await fs.readFile(filePath, 'utf-8');\n    const jsonContent = JSON.parse(content);\n    console.log(`Loaded ${jsonContent.length} items from ${file}`);\n    data.push(...jsonContent);\n  }\n  \n  console.log(`Total items loaded: ${data.length}`);\n  return data;\n}\n\nasync function uploadToPinecone(data) {\n  console.log(\"Starting upload to Pinecone...\");\n  const pinecone = await initPinecone();\n  const index = pinecone.Index(PINECONE_INDEX_NAME);\n  const embeddings = new OpenAIEmbeddings();\n\n  for (let i = 0; i < data.length; i++) {\n    const item = data[i];\n    console.log(`Processing item ${i + 1} of ${data.length}`);\n    const fullText = `Description: ${item.description}\\n\\nConversation:\\n${item.utterances.join('\\n')}`;\n    console.log(\"Generating embedding...\");\n    const embedding = await embeddings.embedQuery(fullText);\n    \n    console.log(\"Upserting to Pinecone...\");\n    await index.upsert({\n      upsertRequest: {\n        vectors: [{\n          id: `item-${i}`,\n          values: embedding,\n          metadata: { \n            description: item.description,\n            utterances: item.utterances\n          }\n        }],\n      }\n    });\n    \n    console.log(`Uploaded item ${i + 1} of ${data.length}`);\n  }\n  \n  console.log('Upload complete!');\n}\n\nconst https = require('https');\n\nfunction testPineconeConnection() {\n  return new Promise((resolve, reject) => {\n    https.get('https://api.pinecone.io', (res) => {\n      console.log('Pinecone API response status:', res.statusCode);\n      resolve(res.statusCode);\n    }).on('error', (e) => {\n      console.error('Error reaching Pinecone API:', e);\n      reject(e);\n    });\n  });\n}\n\nasync function main() {\n  try {\n    console.log(\"Testing Pinecone API connection...\");\n    await testPineconeConnection();\n    const data = await loadJSONFiles('./data');\n    await uploadToPinecone(data);\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\nconsole.log(\"Script started\");\nmain().then(() => console.log(\"Script finished\"));",
  "src\\app\\globals.css": "* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n \n}\n\n:root {\n  --font-nunito: 'Nunito', sans-serif;\n}\n\nbody {\n  font-family: var(--font-nunito);\n}\n\n\n\n\n",
  "src\\app\\layout.js": "// src/app/layout.js\nimport { Nunito } from \"next/font/google\";\nimport \"./globals.css\";\n\nconst nunito = Nunito({ \n  subsets: [\"latin\"],\n  weight: ['400', '700'], // Add any weights you need\n  variable: '--font-nunito', // This creates a CSS variable\n});\n\nexport const metadata = {\n  title: \"HealthChat AI\",\n  description: \"Generated by Headstarter\",\n};\n\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"en\" className={nunito.variable}>\n      <body className={nunito.className}>{children}</body>\n    </html>\n  );\n}",
  "src\\app\\page.js": "'use client'\n\nimport React, { useState } from 'react';\nimport { Button, Typography, Box, Container, AppBar, Toolbar, Modal, useTheme, useMediaQuery } from '@mui/material';\nimport ChatIcon from '@mui/icons-material/Chat';\nimport SecurityIcon from '@mui/icons-material/Security';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport Auth from './components/Auth';\nimport PopupChat from './components/PopupChat';\nimport { auth } from './utils/firebase';\nimport { useRouter } from 'next/navigation';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\n\nconst theme = createTheme({\n  typography: {\n    fontFamily: 'var(--font-nunito), Arial, sans-serif',\n  },\n  palette: {\n    primary: {\n      main: '#4caf50', // A friendlier green color\n    },\n    secondary: {\n      main: '#ff7043', // A warm orange color\n    },\n  },\n  components: {\n    MuiTypography: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n        },\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n          borderRadius: '25px',\n        },\n      },\n    },\n  },\n});\n\nconst FeatureCard = ({ icon, title, description }) => (\n  <Box\n    sx={{\n      backgroundColor: 'rgba(255, 255, 255, 0.9)',\n      borderRadius: '20px',\n      padding: '2rem',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out',\n      '&:hover': {\n        transform: 'translateY(-10px)',\n        boxShadow: '0 10px 20px rgba(0, 0, 0, 0.2)',\n      },\n    }}\n  >\n    <Box\n      sx={{\n        backgroundColor: 'primary.main',\n        borderRadius: '50%',\n        padding: '1rem',\n        marginBottom: '1rem',\n      }}\n    >\n      {icon}\n    </Box>\n    <Typography variant=\"h6\" component=\"h3\" sx={{ mb: 2, color: 'primary.main', textAlign: 'center' }}>\n      {title}\n    </Typography>\n    <Typography variant=\"body2\" sx={{ color: 'text.secondary', textAlign: 'center', flexGrow: 1 }}>\n      {description}\n    </Typography>\n  </Box>\n);\n\nexport default function LandingPage() {\n  const [authOpen, setAuthOpen] = useState(false);\n  const [isLogin, setIsLogin] = useState(true);\n  const [medFriendOpen, setMedFriendOpen] = useState(false);\n  const [user, setUser] = useState(null);\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const router = useRouter();\n\n  const handleAuthOpen = (loginMode) => {\n    setIsLogin(loginMode);\n    setAuthOpen(true);\n  };\n\n  const handleAuthClose = () => setAuthOpen(false);\n  const handleTryMedFriend = () => setMedFriendOpen(true);\n  const handleCloseMedFriend = () => setMedFriendOpen(false);\n\n  const handleEnterChatRoom = () => {\n    if (user) {\n      router.push('/chat');\n    } else {\n      handleAuthOpen(true);\n    }\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Box sx={{ fontFamily: 'var(--font-nunito), Arial, sans-serif' }}>\n        <AppBar position=\"fixed\" color=\"transparent\" elevation={0} sx={{ backdropFilter: 'blur(10px)' }}>\n          <Toolbar>\n            <FavoriteIcon sx={{ mr: 2, color: 'primary.main' }} />\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1, fontWeight: 'bold', color: 'primary.main' }}>\n              Med-Friend\n            </Typography>\n            <Button color=\"primary\" onClick={() => handleAuthOpen(true)} sx={{ mr: 1 }}>Login</Button>\n            <Button color=\"primary\" variant=\"contained\" onClick={() => handleAuthOpen(false)}>Sign Up</Button>\n          </Toolbar>\n        </AppBar>\n\n        <Box\n          sx={{\n            backgroundImage: 'url(\"/images/Health_friend.png\")',\n            backgroundSize: 'cover',\n            backgroundPosition: 'center',\n            minHeight: '100vh',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            color: 'white',\n            textAlign: 'center',\n            pt: 8,\n            '&::before': {\n              content: '\"\"',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: 'rgba(0, 0, 0, 0.4)',\n              zIndex: -1,\n            },\n          }}\n        >\n          <Container maxWidth=\"md\" sx={{ \n            position: 'relative', \n            zIndex: 2, \n            backgroundColor: 'rgba(255, 255, 255, 0.9)',\n            backdropFilter: 'blur(10px)',\n            borderRadius: '20px',\n            padding: '3rem 2rem',\n            boxShadow: '0 4px 30px rgba(0, 0, 0, 0.1)',\n            border: '1px solid rgba(255, 255, 255, 0.2)',\n          }}>\n            <Typography \n              variant={isMobile ? 'h3' : 'h2'} \n              component=\"h1\" \n              gutterBottom \n              fontWeight=\"bold\"\n              sx={{\n                color: 'primary.main',\n                textShadow: '1px 1px 2px rgba(0, 0, 0, 0.1)',\n              }}\n            >\n              Your Friendly Health Companion\n            </Typography>\n            <Typography \n              variant=\"h5\" \n              component=\"h2\" \n              gutterBottom\n              sx={{\n                color: 'text.primary',\n                mb: 4,\n              }}\n            >\n              Get caring, reliable health advice anytime, anywhere\n            </Typography>\n            <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4, gap: 2 }}>\n              <Button\n                variant=\"contained\"\n                size=\"large\"\n                startIcon={<ChatIcon />}\n                onClick={handleTryMedFriend}\n                sx={{ \n                  fontSize: '1.2rem', \n                  py: 1.5, \n                  px: 4,\n                  backgroundColor: theme.palette.secondary.main,\n                  color: 'white',\n                  '&:hover': {\n                    backgroundColor: theme.palette.secondary.dark,\n                  },\n                }}\n              >\n                Try Med-Friend\n              </Button>\n              <Button\n                variant=\"outlined\"\n                size=\"large\"\n                onClick={handleEnterChatRoom}\n                sx={{ \n                  fontSize: '1.2rem', \n                  py: 1.5, \n                  px: 4, \n                  color: 'primary.main', \n                  borderColor: 'primary.main',\n                  '&:hover': {\n                    borderColor: 'primary.dark',\n                    color: 'primary.dark',\n                  },\n                }}\n              >\n                Enter Chat \n              </Button>\n            </Box>\n          </Container>  \n        </Box>\n\n        <Box sx={{\n          background: 'linear-gradient(135deg, #e8f5e9, #c8e6c9)',\n          py: 12,\n          position: 'relative',\n          overflow: 'hidden',\n        }}>\n          <Container maxWidth=\"lg\">\n            <Typography variant=\"h4\" component=\"h2\" textAlign=\"center\" gutterBottom fontWeight=\"bold\" sx={{ color: 'primary.main', mb: 8 }}>\n              Why Choose Med-Friend?\n            </Typography>\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 4, justifyContent: 'center' }}>\n              <Box sx={{ flex: '1 1 300px', maxWidth: '350px' }}>\n                <FeatureCard\n                  icon={<ChatIcon sx={{ fontSize: 40, color: 'white' }} />}\n                  title=\"Friendly Conversations\"\n                  description=\"Engage in warm, understanding chats about your health concerns with our AI companion.\"\n                />\n              </Box>\n              <Box sx={{ flex: '1 1 300px', maxWidth: '350px' }}>\n                <FeatureCard\n                  icon={<SecurityIcon sx={{ fontSize: 40, color: 'white' }} />}\n                  title=\"Safe and Confidential\"\n                  description={<>Your privacy is our priority. All conversations are secure and anonymous. Learn more about our privacy practices from <a href=\"https://www.hhs.gov/hipaa/index.html\" style={{color: theme.palette.secondary.main}}>HHS</a>.</>}\n                />\n              </Box>\n              <Box sx={{ flex: '1 1 300px', maxWidth: '350px' }}>\n                <FeatureCard\n                  icon={<FavoriteIcon sx={{ fontSize: 40, color: 'white' }} />}\n                  title=\"Reliable Health Guidance\"\n                  description=\"Our AI is trained on trusted medical resources to provide accurate and helpful health information.\"\n                />\n              </Box>\n            </Box>\n          </Container>\n        </Box>\n\n        <Box sx={{ \n          position: 'relative',\n          overflow: 'hidden',\n          background: 'linear-gradient(135deg, #81c784 0%, #4caf50 100%)',\n          py: 8,\n        }}>\n          <Container maxWidth=\"md\" sx={{ position: 'relative', zIndex: 2 }}>\n            <Typography \n              variant=\"h4\" \n              component=\"h2\" \n              textAlign=\"center\" \n              gutterBottom \n              fontWeight=\"bold\" \n              sx={{\n                color: '#ffffff',\n                textShadow: '1px 1px 2px rgba(0,0,0,0.2)',\n              }}\n            >\n              Ready for a Friendly Chat About Your Health?\n            </Typography>\n            <Typography \n              variant=\"body1\" \n              textAlign=\"center\" \n              paragraph \n              sx={{ \n                color: '#ffffff',\n                fontSize: '1.1rem',\n                mb: 4,\n              }}\n            >\n              Med-Friend is here to listen, understand, and guide you towards better health.\n            </Typography>\n            <Box sx={{ \n              display: 'flex', \n              justifyContent: 'center', \n              mt: 4,\n            }}>\n              <Button \n                variant=\"contained\" \n                size=\"large\" \n                onClick={() => handleAuthOpen(false)} \n                sx={{ \n                  mr: 2, \n                  bgcolor: '#ffffff',\n                  color: 'primary.main',\n                  fontWeight: 'bold',\n                  padding: '10px 24px',\n                  fontSize: '1rem',\n                  borderRadius: '30px',\n                  boxShadow: '0 4px 14px rgba(255, 255, 255, 0.4)',\n                  transition: 'all 0.3s ease',\n                  '&:hover': {\n                    bgcolor: '#f0f0f0',\n                    transform: 'translateY(-2px)',\n                    boxShadow: '0 6px 20px rgba(255, 255, 255, 0.6)',\n                  },\n                }}\n              >\n                Join Med-Friend Now\n              </Button>\n              <Button \n                variant=\"outlined\" \n                size=\"large\" \n                onClick={() => handleAuthOpen(true)}\n                sx={{\n                  borderColor: '#ffffff',\n                  color: '#ffffff',\n                  padding: '10px 24px',\n                  fontSize: '1rem',\n                  borderRadius: '30px',\n                  borderWidth: '2px',\n                  transition: 'all 0.3s ease',\n                  '&:hover': {\n                    bgcolor: 'rgba(255,255,255,0.1)',\n                    borderColor: '#ffffff',\n                    color: '#ffffff',\n                  },\n                }}\n              >\n                Login\n              </Button>\n            </Box>\n          </Container>\n        </Box>\n\n        <Modal\n          open={authOpen}\n          onClose={handleAuthClose}\n          aria-labelledby=\"auth-modal-title\"\n          aria-describedby=\"auth-modal-description\"\n        >\n          <Box sx={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: 400,\n            bgcolor: 'background.paper',\n            boxShadow: 24,\n            p: 4,\n            borderRadius: 2,\n            fontFamily: 'var(--font-nunito), Arial, sans-serif',\n          }}>\n            <Auth isLogin={isLogin} onClose={handleAuthClose} />\n          </Box>\n        </Modal>\n\n        {medFriendOpen && (\n          <PopupChat user={user} onClose={handleCloseMedFriend} />\n        )}\n\n        <PopupChat user={user} />\n      </Box>\n    </ThemeProvider>\n  );\n}",
  "src\\app\\api\\chat\\old_route.js": "import { OpenAI } from 'openai';\n\nconst openai = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY,\n});\n\nexport async function POST(req) {\n  const requestBody = await req.json();\n  const messages = requestBody.messages;\n\n  if (!messages || messages.length === 0) {\n    return new Response(JSON.stringify({ error: 'Missing required parameter: messages' }), {\n      status: 400,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n\n  try {\n    const response = await openai.chat.completions.create({\n      model: 'gpt-4o-mini',\n      messages: messages,\n    });\n\n    return new Response(JSON.stringify(response), {\n      status: 200,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  } catch (error) {\n    console.error('Error:', error);\n    return new Response(JSON.stringify({ error: 'Internal Server Error' }), {\n      status: 500,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n}",
  "src\\app\\api\\chat\\route.js": "import { OpenAI } from 'openai';\nimport { OpenAIEmbeddings } from \"langchain/embeddings/openai\";\nimport { PineconeClient } from \"@pinecone-database/pinecone\";\nimport { Pinecone } from '@pinecone-database/pinecone';\n\nconst USE_OPENROUTER = process.env.USE_OPENROUTER === 'true';\n\nconst openai = new OpenAI({\n  apiKey: USE_OPENROUTER ? process.env.OPENROUTER_API_KEY : process.env.OPENAI_API_KEY,\n  baseURL: USE_OPENROUTER ? 'https://openrouter.ai/api/v1' : undefined,\n});\n\nconst PINECONE_API_KEY = process.env.PINECONE_API_KEY;\nconst PINECONE_ENVIRONMENT = process.env.PINECONE_ENVIRONMENT;\nconst PINECONE_INDEX_NAME = process.env.PINECONE_INDEX_NAME;\nconst PINECONE_IDX_URL = process.env.PINECONE_IDX_URL;\nconst PINECONE_INDEX_SECONDARY = process.env.PINECONE_INDEX_SECONDARY;\n\n\n\nlet pinecone = null;\n\nasync function initPinecone(index_name) {\n\n  const pc = new Pinecone({ apiKey: PINECONE_API_KEY });\n  const index = pc.index(index_name);\n  \n  console.log(\"index?\")\n  return index;\n}\n\nasync function initPineconeSecondary() {\n\n  const pc = new Pinecone({ apiKey: PINECONE_API_KEY });\n  const index = pc.index(PINECONE_INDEX_SECONDARY);\n  \n  console.log(\"index?\")\n  return index;\n}\n\nasync function queryPinecone(query, index_name) {  \n  try {\n    const index = await initPinecone(index_name);\n    \n    console.log(\"Creating embeddings...\");\n    const embeddings = new OpenAIEmbeddings({\n      openAIApiKey: USE_OPENROUTER ? process.env.OPENROUTER_API_KEY : process.env.OPENAI_API_KEY,\n    });\n    const queryEmbedding = await embeddings.embedQuery(query);\n\n    console.log(\"Querying Pinecone index...\");\n    const queryResponse = await index.query({\n      vector: queryEmbedding,\n      topK: 3,\n      includeMetadata: true,\n    });\n\n    console.log(\"Pinecone query response:\", JSON.stringify(queryResponse, null, 2));\n\n    if (!queryResponse.matches || queryResponse.matches.length === 0) {\n      console.warn(\"No matches found in Pinecone response\");\n      return [\"I don't have any specific information about that in my knowledge base. I'll try to answer based on my general knowledge.\"];\n    }\n\n    return queryResponse.matches.map((match) => match.metadata.text);\n  } catch (error) {\n    console.error(\"Error querying Pinecone:\", error);\n    return [\"I'm sorry, but I'm having trouble accessing my knowledge base at the moment. I'll do my best to answer based on my general knowledge.\"];\n  }\n}\n\nexport async function POST(req) {\n  const requestBody = await req.json();\n  const messages = requestBody.messages;\n\n  if (!messages || messages.length === 0) {\n    return new Response(JSON.stringify({ error: 'Missing required parameter: messages' }), {\n      status: 400,\n      headers: { 'Content-Type': 'application/json' },\n    });\n  }\n\n  try {\n    \n    const userMessage = messages[messages.length - 1].content;\n    const relevantDocs = await queryPinecone(userMessage, PINECONE_INDEX_NAME);\n    const relevantDocsSecondary = await queryPinecone(userMessage, PINECONE_INDEX_SECONDARY);\n\n    \n    console.log(\"Relevant documents:\", relevantDocs);\n    \n    const systemMessage = {\n      role: \"system\",\n      content: \n      `You are an advanced health assistant with extensive medical knowledge. Your primary goal is to provide accurate, evidence-based information to support users' health queries. Utilize the following curated medical information to inform your responses:\n    \n      ${relevantDocs.join(\"\\n\\n\")}\n      ${relevantDocsSecondary.join(\"\\n\\n\")}\n    \n      Analyze this information critically and combine it with your broad understanding of health and medicine. When responding:\n      \n      1. Prioritize user safety and well-being above all else.\n      2. Provide comprehensive, nuanced answers that consider multiple aspects of the user's query.\n      3. Explain complex medical concepts in clear, accessible language.\n      4. When appropriate, discuss potential risks, benefits, and alternatives related to treatments or health decisions.\n      5. Encourage users to consult with qualified healthcare professionals for personalized medical advice, diagnosis, or treatment.\n      6. Stay up-to-date with current medical guidelines and best practices.\n      7. Respect user privacy and maintain strict confidentiality.\n      8. If the provided information is insufficient to answer a query, draw upon your general medical knowledge, clearly stating when you are doing so.\n      9. Be prepared to engage in follow-up questions to gain a deeper understanding of the user's health concerns.\n      10. When discussing sensitive health topics, maintain a professional and empathetic tone.\n    \n      Your responses should be tailored to each user's unique situation, demonstrating both expertise and compassion. Aim to empower users with knowledge while emphasizing the importance of professional medical care.`\n    };\n\n    const augmentedMessages = [systemMessage, ...messages];\n\n    const response = await openai.chat.completions.create({\n      model: USE_OPENROUTER ? 'openai/gpt-4-0613' : 'gpt-4-0613',\n      messages: augmentedMessages,\n      ...(USE_OPENROUTER && {\n        headers: {\n          'HTTP-Referer': 'https://your-website.com', // Replace with your actual website\n          'X-Title': 'Your App Name', // Replace with your app name\n        },\n      }),\n    });\n\n    return new Response(JSON.stringify(response), {\n      status: 200,\n      headers: { 'Content-Type': 'application/json' },\n    });\n  } catch (error) {\n    console.error('Error:', error);\n    return new Response(JSON.stringify({ error: 'Internal Server Error', details: error.message }), {\n      status: 500,\n      headers: { 'Content-Type': 'application/json' },\n    });\n  }\n}\n",
  "src\\app\\chat\\page.js": "'use client'\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { \n  Box, List, ListItem, ListItemText, Typography, Button, AppBar, Toolbar, \n  IconButton, Avatar, Tooltip, useMediaQuery, Divider, TextField,\n  Chip, Menu, MenuItem, ListItemIcon, CircularProgress\n} from '@mui/material';\nimport { ThemeProvider, createTheme, styled } from '@mui/material/styles';\nimport { auth, db } from '../utils/firebase';\nimport { collection, query, where, orderBy, onSnapshot, addDoc, serverTimestamp, updateDoc, doc, deleteDoc } from 'firebase/firestore';\nimport ChatComponent from '../components/Chat';\nimport AddIcon from '@mui/icons-material/Add';\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport LocalHospitalIcon from '@mui/icons-material/LocalHospital';\nimport InfoIcon from '@mui/icons-material/Info';\nimport SearchIcon from '@mui/icons-material/Search';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport ArchiveIcon from '@mui/icons-material/Archive';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport HelpIcon from '@mui/icons-material/Help';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\n\nconst theme = createTheme({\n  typography: {\n    fontFamily: 'var(--font-nunito), Arial, sans-serif',\n  },\n  palette: {\n    primary: {\n      main: '#1976d2', // Medical blue\n      light: '#63a4ff',\n      dark: '#004ba0',\n    },\n    secondary: {\n      main: '#388e3c', // Healing green\n      light: '#6abf69',\n      dark: '#00600f',\n    },\n    background: {\n      default: '#f5f5f5',\n      paper: '#ffffff',\n    },\n  },\n  components: {\n    MuiTypography: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n        },\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n          borderRadius: '25px',\n          textTransform: 'none',\n        },\n      },\n    },\n    MuiAppBar: {\n      styleOverrides: {\n        root: {\n          backgroundColor: '#1976d2',\n        },\n      },\n    },\n  },\n});\n\nconst StyledAppBar = styled(AppBar)(({ theme }) => ({\n  backgroundColor: theme.palette.primary.main,\n  color: theme.palette.primary.contrastText,\n}));\n\nconst ChatListContainer = styled(Box)(({ theme }) => ({\n  width: '300px',\n  borderRight: `1px solid ${theme.palette.divider}`,\n  backgroundColor: theme.palette.background.paper,\n  overflowY: 'auto',\n  height: '100%',\n  [theme.breakpoints.down('md')]: {\n    width: '100%',\n    height: 'auto',\n    maxHeight: '300px',\n    borderRight: 'none',\n    borderTop: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\nconst MainContent = styled(Box)(({ theme }) => ({\n  flexGrow: 1,\n  display: 'flex',\n  flexDirection: 'column',\n  height: '100%',\n  backgroundColor: '#f5f5f5',\n  [theme.breakpoints.down('md')]: {\n    height: 'calc(100% - 300px)', // Adjust this value based on your ChatListContainer height\n  },\n}));\n\nconst DisclaimerBox = styled(Box)(({ theme }) => ({\n  backgroundColor: theme.palette.warning.light,\n  padding: theme.spacing(2),\n  marginBottom: theme.spacing(2),\n  borderRadius: theme.shape.borderRadius,\n  border: `1px solid ${theme.palette.warning.main}`,\n}));\n\nexport default function ChatPage() {\n  const [user, setUser] = useState(null);\n  const [chats, setChats] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [selectedChatForMenu, setSelectedChatForMenu] = useState(null);\n  const router = useRouter();\n  const isLargeScreen = useMediaQuery(theme.breakpoints.up('md'));\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUser(user);\n        const chatsQuery = query(\n          collection(db, 'chats'),\n          where('userId', '==', user.uid),\n          orderBy('createdAt', 'desc')\n        );\n\n        const chatsUnsubscribe = onSnapshot(chatsQuery, (snapshot) => {\n          const chatList = snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()\n          }));\n          setChats(chatList);\n          if (chatList.length > 0 && !selectedChat) {\n            setSelectedChat(chatList[0].id);\n          }\n        });\n\n        return () => chatsUnsubscribe();\n      } else {\n        router.push('/');\n      }\n    });\n\n    return () => unsubscribe();\n  }, [router, selectedChat]);\n\n  const handleLogout = async () => {\n    try {\n      await auth.signOut();\n      router.push('/');\n    } catch (error) {\n      console.error('Failed to log out', error);\n    }\n  };\n\n  const startNewChat = async () => {\n    try {\n      const newChatRef = await addDoc(collection(db, 'chats'), {\n        userId: user.uid,\n        createdAt: serverTimestamp(),\n        title: 'New Consultation'\n      });\n      setSelectedChat(newChatRef.id);\n    } catch (error) {\n      console.error('Failed to start new chat', error);\n    }\n  };\n\n  const handleChatMenuOpen = (event, chatId) => {\n    setAnchorEl(event.currentTarget);\n    setSelectedChatForMenu(chatId);\n  };\n\n  const handleChatMenuClose = () => {\n    setAnchorEl(null);\n    setSelectedChatForMenu(null);\n  };\n\n  const handleDeleteChat = async () => {\n    if (selectedChatForMenu) {\n      try {\n        await deleteDoc(doc(db, 'chats', selectedChatForMenu));\n        if (selectedChat === selectedChatForMenu) {\n          setSelectedChat(chats.length > 1 ? chats[0].id : null);\n        }\n      } catch (error) {\n        console.error('Failed to delete chat', error);\n      }\n    }\n    handleChatMenuClose();\n  };\n\n  const handleRenameChat = () => {\n    // Implement rename functionality\n    handleChatMenuClose();\n  };\n\n  const handleArchiveChat = () => {\n    // Implement archive functionality\n    handleChatMenuClose();\n  };\n\n  const filteredChats = chats.filter(chat => \n    chat.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const chatList = (\n    <ChatListContainer>\n      <Box p={2}>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Search consultations...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          InputProps={{\n            startAdornment: <SearchIcon color=\"action\" />,\n          }}\n        />\n        <Button\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          onClick={startNewChat}\n          sx={{ mt: 2 }}\n        >\n          New Consultation\n        </Button>\n      </Box>\n      <Divider />\n      <List>\n        {filteredChats.map((chat) => (\n          <ListItem\n            key={chat.id}\n            button\n            onClick={() => setSelectedChat(chat.id)}\n            selected={selectedChat === chat.id}\n          >\n            <Avatar sx={{ mr: 2, bgcolor: 'secondary.main' }}>\n              <LocalHospitalIcon />\n            </Avatar>\n            <ListItemText\n              primary={chat.title}\n              secondary={chat.createdAt ? new Date(chat.createdAt.toDate()).toLocaleString() : 'Just now'}\n            />\n            <IconButton edge=\"end\" onClick={(event) => handleChatMenuOpen(event, chat.id)}>\n              <MoreVertIcon />\n            </IconButton>\n          </ListItem>\n        ))}\n      </List>\n    </ChatListContainer>\n  );\n\n  if (!user) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"100vh\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Box display=\"flex\" flexDirection=\"column\" height=\"100vh\" sx={{ fontFamily: 'var(--font-nunito), Arial, sans-serif' }}>\n        <StyledAppBar position=\"static\">\n          <Toolbar>\n            <LocalHospitalIcon sx={{ mr: 2 }} />\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1, fontWeight: 'bold' }}>\n              HealthChat AI\n            </Typography>\n            {!isLargeScreen && (\n              <Tooltip title=\"Start a new consultation\">\n                <IconButton color=\"inherit\" onClick={startNewChat}>\n                  <AddIcon />\n                </IconButton>\n              </Tooltip>\n            )}\n            <Tooltip title=\"Settings\">\n              <IconButton color=\"inherit\">\n                <SettingsIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Help\">\n              <IconButton color=\"inherit\">\n                <HelpIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Log out\">\n              <IconButton color=\"inherit\" onClick={handleLogout}>\n                <ExitToAppIcon />\n              </IconButton>\n            </Tooltip>\n          </Toolbar>\n        </StyledAppBar>\n        <Box display=\"flex\" flexDirection={isLargeScreen ? 'row' : 'column'} flexGrow={1}>\n          {isLargeScreen && chatList}\n          <MainContent>\n            <DisclaimerBox>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                <InfoIcon sx={{ verticalAlign: 'middle', mr: 1, color: theme.palette.warning.dark }} />\n                Medical Disclaimer: The information provided by HealthChat AI is for general informational purposes only and is not a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.\n              </Typography>\n            </DisclaimerBox>\n            <ChatComponent chatId={selectedChat} user={user} />\n          </MainContent>\n          {!isLargeScreen && chatList}\n        </Box>\n      </Box>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleChatMenuClose}\n      >\n        <MenuItem onClick={handleRenameChat}>\n          <ListItemIcon>\n            <EditIcon fontSize=\"small\" />\n          </ListItemIcon>\n          Rename\n        </MenuItem>\n        <MenuItem onClick={handleArchiveChat}>\n          <ListItemIcon>\n            <ArchiveIcon fontSize=\"small\" />\n          </ListItemIcon>\n          Archive\n        </MenuItem>\n        <MenuItem onClick={handleDeleteChat}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" />\n          </ListItemIcon>\n          Delete\n        </MenuItem>\n      </Menu>\n    </ThemeProvider>\n  );\n}",
  "src\\app\\components\\Auth.js": "\"use client\";\n\nimport React, { useState } from 'react';\nimport { Button, TextField, Typography, Box, Tabs, Tab } from '@mui/material';\nimport { auth, googleProvider } from '../utils/firebase';\nimport { signInWithPopup, createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth';\nimport { useRouter } from 'next/navigation';\n\nexport default function Auth({ isLogin: initialIsLogin, onClose }) {\n  const [isLogin, setIsLogin] = useState(initialIsLogin);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const router = useRouter();\n\n  const handleAuth = async (e) => {\n    e.preventDefault();\n    try {\n      if (isLogin) {\n        await signInWithEmailAndPassword(auth, email, password);\n      } else {\n        await createUserWithEmailAndPassword(auth, email, password);\n      }\n      onClose();\n      router.push('/chat');\n    } catch (error) {\n      console.error(error);\n      alert(error.message);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    try {\n      await signInWithPopup(auth, googleProvider);\n      onClose();\n      router.push('/chat');\n    } catch (error) {\n      console.error(error);\n      alert(error.message);\n    }\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n        {isLogin ? 'Login' : 'Sign Up'}\n      </Typography>\n      <Tabs value={isLogin ? 0 : 1} onChange={(_, newValue) => setIsLogin(newValue === 0)} sx={{ mb: 2 }}>\n        <Tab label=\"Login\" />\n        <Tab label=\"Sign Up\" />\n      </Tabs>\n      <form onSubmit={handleAuth}>\n        <TextField\n          fullWidth\n          label=\"Email\"\n          variant=\"outlined\"\n          margin=\"normal\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <TextField\n          fullWidth\n          label=\"Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <Button fullWidth variant=\"contained\" color=\"primary\" type=\"submit\" sx={{ mt: 2 }}>\n          {isLogin ? 'Login' : 'Sign Up'}\n        </Button>\n      </form>\n      <Button fullWidth variant=\"outlined\" onClick={handleGoogleSignIn} sx={{ mt: 2 }}>\n        {isLogin ? 'Sign in with Google' : 'Sign Up with Google'}\n      </Button>\n    </Box>\n  );\n}",
  "src\\app\\components\\Chat.js": "import React, { useState, useRef, useEffect } from 'react';\nimport { \n  Box, TextField, Button, Typography, CircularProgress, Paper, Avatar,\n  IconButton, Tooltip, Divider, useTheme, Chip\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport SendIcon from '@mui/icons-material/Send';\nimport LocalHospitalIcon from '@mui/icons-material/LocalHospital';\nimport PersonIcon from '@mui/icons-material/Person';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport MicIcon from '@mui/icons-material/Mic';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\n\nconst MessageBubble = styled(Paper)(({ theme, isUser }) => ({\n  padding: theme.spacing(2),\n  maxWidth: '70%',\n  backgroundColor: isUser ? theme.palette.primary.light : theme.palette.background.paper,\n  borderRadius: isUser ? '20px 20px 0 20px' : '20px 20px 20px 0',\n  boxShadow: theme.shadows[1],\n  border: isUser ? 'none' : `1px solid ${theme.palette.divider}`,\n}));\n\nconst MessageAvatar = styled(Avatar)(({ theme, isUser }) => ({\n  backgroundColor: isUser ? theme.palette.primary.main : theme.palette.secondary.main,\n  width: 32,\n  height: 32,\n  marginRight: theme.spacing(1),\n}));\n\nconst InputArea = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  padding: theme.spacing(2),\n  borderTop: `1px solid ${theme.palette.divider}`,\n  backgroundColor: theme.palette.background.paper,\n}));\n\nexport default function ChatComponent({ chatId, user }) {\n  const [messages, setMessages] = useState([\n    { role: 'assistant', content: \"Hello! I'm your HealthChat AI assistant. How can I help you with your health questions today?\" }\n  ]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const theme = useTheme();\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const userMessage = { role: 'user', content: input };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ messages: [...messages, userMessage], chatId }),\n      });\n\n      if (!response.ok) throw new Error('Failed to get response');\n\n      const data = await response.json();\n      setMessages(prev => [...prev, data.choices[0].message]);\n    } catch (error) {\n      console.error('Error:', error);\n      setMessages(prev => [...prev, { \n        role: 'assistant', \n        content: \"I apologize, but I'm experiencing technical difficulties at the moment. Please try again later or contact our support team if the issue persists. Remember, for any urgent medical concerns, please consult with a healthcare professional directly.\" \n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" height=\"100%\" sx={{ fontFamily: 'var(--font-nunito), Arial, sans-serif' }}>\n      <Box flexGrow={1} overflowY=\"auto\" p={2}>\n        {messages.map((msg, index) => (\n          <Box key={index} sx={{ display: 'flex', justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start', mb: 2 }}>\n            <MessageBubble isUser={msg.role === 'user'}>\n              <Box display=\"flex\" alignItems=\"center\" mb={1}>\n                <MessageAvatar isUser={msg.role === 'user'}>\n                  {msg.role === 'user' ? <PersonIcon /> : <LocalHospitalIcon />}\n                </MessageAvatar>\n                <Typography variant=\"subtitle2\" fontWeight=\"bold\" color={msg.role === 'user' ? 'primary' : 'secondary'}>\n                  {msg.role === 'user' ? 'You' : 'HealthChat AI'}\n                </Typography>\n                {msg.role === 'assistant' && (\n                  <Chip\n                    label=\"AI\"\n                    size=\"small\"\n                    color=\"secondary\"\n                    sx={{ ml: 1, height: 20, fontSize: '0.7rem' }}\n                  />\n                )}\n              </Box>\n              <Typography variant=\"body1\">{msg.content}</Typography>\n            </MessageBubble>\n          </Box>\n        ))}\n        {isLoading && (\n          <Box sx={{ display: 'flex', justifyContent: 'flex-start', mb: 2 }}>\n            <MessageBubble>\n              <Box display=\"flex\" alignItems=\"center\">\n                <MessageAvatar>\n                  <LocalHospitalIcon />\n                </MessageAvatar>\n                <Typography variant=\"subtitle2\" fontWeight=\"bold\" color=\"secondary\">\n                  HealthChat AI\n                </Typography>\n                <Chip\n                  label=\"AI\"\n                  size=\"small\"\n                  color=\"secondary\"\n                  sx={{ ml: 1, height: 20, fontSize: '0.7rem' }}\n                />\n              </Box>\n              <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n                <CircularProgress size={20} sx={{ mr: 1 }} color=\"secondary\" />\n                <Typography variant=\"body2\">Analyzing your query...</Typography>\n              </Box>\n            </MessageBubble>\n          </Box>\n        )}\n        <div ref={messagesEndRef} />\n      </Box>\n      <Divider />\n      <InputArea>\n        <Tooltip title=\"Attach medical records\">\n          <IconButton color=\"primary\" sx={{ mr: 1 }}>\n            <AttachFileIcon />\n          </IconButton>\n        </Tooltip>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Describe your symptoms or ask a health question...\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyPress={(e) => e.key === 'Enter' && !e.shiftKey && handleSend()}\n          multiline\n          maxRows={4}\n          disabled={isLoading}\n          sx={{ mr: 1 }}\n        />\n        <Tooltip title=\"Voice input\">\n          <IconButton color=\"primary\" sx={{ mr: 1 }}>\n            <MicIcon />\n          </IconButton>\n        </Tooltip>\n        <Button\n          onClick={handleSend}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={isLoading}\n          sx={{ minWidth: 'auto', p: '10px', borderRadius: '50%' }}\n        >\n          {isLoading ? <CircularProgress size={24} /> : <SendIcon />}\n        </Button>\n        <Tooltip title=\"More options\">\n          <IconButton color=\"primary\" sx={{ ml: 1 }}>\n            <MoreVertIcon />\n          </IconButton>\n        </Tooltip>\n      </InputArea>\n    </Box>\n  );\n}",
  "src\\app\\components\\FileUpload.js": "",
  "src\\app\\components\\PopupChat.js": "import React, { useState, useRef, useEffect } from 'react';\nimport { Box, TextField, Button, Typography, IconButton, Avatar, Fade, Paper, CircularProgress } from '@mui/material';\nimport ChatIcon from '@mui/icons-material/Chat';\nimport CloseIcon from '@mui/icons-material/Close';\nimport SendIcon from '@mui/icons-material/Send';\nimport HealthAndSafetyIcon from '@mui/icons-material/HealthAndSafety';\nimport { styled } from '@mui/material/styles';\nimport { keyframes } from '@emotion/react';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\n\nconst theme = createTheme({\n  typography: {\n    fontFamily: 'var(--font-nunito), Arial, sans-serif',\n  },\n  palette: {\n    primary: {\n      main: '#4caf50',\n      light: '#81c784',\n      dark: '#388e3c',\n    },\n    secondary: {\n      main: '#ff7043',\n    },\n  },\n  components: {\n    MuiTypography: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n        },\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          fontFamily: 'var(--font-nunito), Arial, sans-serif',\n          borderRadius: '25px',\n        },\n      },\n    },\n  },\n});\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  position: 'fixed',\n  bottom: 20,\n  right: 20,\n  width: 350,\n  height: '80vh',\n  display: 'flex',\n  flexDirection: 'column',\n  borderRadius: '20px',\n  overflow: 'hidden',\n  boxShadow: '0 10px 30px rgba(0, 0, 0, 0.1)',\n  zIndex: 1000,\n  fontFamily: 'var(--font-nunito), Arial, sans-serif',\n}));\n\nconst ChatHeader = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(2),\n  background: 'linear-gradient(135deg, #81c784 0%, #4caf50 100%)',\n  color: 'white',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n}));\n\nconst MessageBubble = styled(Box)(({ theme, isUser }) => ({\n  maxWidth: '70%',\n  padding: theme.spacing(1, 2),\n  borderRadius: isUser ? '20px 20px 0 20px' : '20px 20px 20px 0',\n  backgroundColor: isUser ? theme.palette.primary.main : theme.palette.grey[200],\n  color: isUser ? theme.palette.primary.contrastText : theme.palette.text.primary,\n  marginBottom: theme.spacing(1),\n  wordWrap: 'break-word',\n}));\n\nconst typingAnimation = keyframes`\n  0% { opacity: .2; }\n  20% { opacity: 1; }\n  100% { opacity: .2; }\n`;\n\nconst TypingIndicator = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  '& span': {\n    width: 6,\n    height: 6,\n    backgroundColor: theme.palette.primary.main,\n    borderRadius: '50%',\n    display: 'inline-block',\n    margin: '0 2px',\n    animation: `${typingAnimation} 1.4s infinite both`,\n    '&:nth-of-type(2)': {\n      animationDelay: '.2s',\n    },\n    '&:nth-of-type(3)': {\n      animationDelay: '.4s',\n    },\n  },\n}));\n\nconst StyledSendButton = styled(Button)(({ theme }) => ({\n  minWidth: '56px',\n  width: '56px',\n  height: '56px',\n  borderRadius: '50%',\n  padding: 0,\n  backgroundColor: theme.palette.secondary.main,\n  color: theme.palette.common.white,\n  transition: 'all 0.3s ease-in-out',\n  boxShadow: '0 4px 10px rgba(255, 112, 67, 0.3)',\n  '&:hover': {\n    backgroundColor: theme.palette.secondary.dark,\n    transform: 'translateY(-2px)',\n    boxShadow: '0 6px 14px rgba(255, 112, 67, 0.4)',\n  },\n  '&:active': {\n    transform: 'translateY(1px)',\n    boxShadow: '0 2px 6px rgba(255, 112, 67, 0.4)',\n  },\n  '&.Mui-disabled': {\n    backgroundColor: theme.palette.grey[300],\n    color: theme.palette.grey[500],\n  },\n}));\n\nconst SendIconWrapper = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  width: '100%',\n  height: '100%',\n  transition: 'transform 0.2s ease-in-out',\n  '&:hover': {\n    transform: 'rotate(15deg)',\n  },\n}));\n\n\nexport default function PopupChat({ user, onClose }) {\n  const [isOpen, setIsOpen] = useState(!!onClose);\n  const [messages, setMessages] = useState([\n    { role: 'assistant', content: \"Please be careful not to share any sensitive information. We are happy to provide you to instant access to the best health information and advise to consult a doctor for serious issues.\" },\n    { role: 'assistant', content: \"Hello, how may we assist you today?\" }\n  ]);\n  const [input, setInput] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n\n  useEffect(() => {\n    if (isOpen) {\n      inputRef.current?.focus();\n    }\n  }, [isOpen]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const userMessage = { role: 'user', content: input };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsTyping(true);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ messages: [...messages, userMessage] }),\n      });\n\n      if (!response.ok) throw new Error('Failed to get response');\n\n      const data = await response.json();\n      setMessages(prev => [...prev, data.choices[0].message]);\n    } catch (error) {\n      console.error('Error:', error);\n      setMessages(prev => [...prev, { role: 'assistant', content: \"I'm sorry, I'm having trouble responding right now. Please try again later.\" }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleClose = () => {\n    if (onClose) {\n      onClose();\n    } else {\n      setIsOpen(false);\n    }\n  };\n\n  if (!isOpen && !onClose) {\n    return (\n      <ThemeProvider theme={theme}>\n        <Fade in={true}>\n          <IconButton\n            onClick={() => setIsOpen(true)}\n            sx={{\n              position: 'fixed',\n              bottom: 20,\n              right: 20,\n              bgcolor: 'primary.main',\n              color: 'white',\n              '&:hover': { bgcolor: 'primary.dark' },\n              zIndex: 1000,\n              width: 60,\n              height: 60,\n              borderRadius: '50%',\n            }}\n          >\n            <ChatIcon fontSize=\"large\" />\n          </IconButton>\n        </Fade>\n      </ThemeProvider>\n    );\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Fade in={isOpen}>\n        <StyledPaper elevation={6}>\n          <ChatHeader>\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <Avatar sx={{ bgcolor: 'primary.light', mr: 1 }}>\n                <HealthAndSafetyIcon />\n              </Avatar>\n              <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>HealthBot</Typography>\n            </Box>\n            <IconButton onClick={handleClose} sx={{ color: 'white' }}>\n              <CloseIcon />\n            </IconButton>\n          </ChatHeader>\n          <Box sx={{ flexGrow: 1, overflowY: 'auto', p: 2, bgcolor: '#f5f5f5' }}>\n            {messages.map((msg, index) => (\n              <Box key={index} sx={{ display: 'flex', justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start', mb: 2 }}>\n                {msg.role === 'assistant' && (\n                  <Avatar sx={{ bgcolor: 'primary.main', mr: 1, width: 32, height: 32 }}>\n                    <HealthAndSafetyIcon fontSize=\"small\" />\n                  </Avatar>\n                )}\n                <MessageBubble isUser={msg.role === 'user'}>\n                  <Typography variant=\"body2\">{msg.content}</Typography>\n                </MessageBubble>\n              </Box>\n            ))}\n            {isTyping && (\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                <Avatar sx={{ bgcolor: 'primary.main', mr: 1, width: 32, height: 32 }}>\n                  <HealthAndSafetyIcon fontSize=\"small\" />\n                </Avatar>\n                <MessageBubble>\n                  <TypingIndicator>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                  </TypingIndicator>\n                </MessageBubble>\n              </Box>\n            )}\n            <div ref={messagesEndRef} />\n          </Box>\n          <Box sx={{ p: 2, bgcolor: 'background.paper' }}>\n            <form onSubmit={(e) => { e.preventDefault(); handleSend(); }} style={{ display: 'flex', alignItems: 'center' }}>\n              <TextField\n                fullWidth\n                variant=\"outlined\"\n                placeholder=\"Type your health question...\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                inputRef={inputRef}\n                sx={{ \n                  mr: 1,\n                  '& .MuiOutlinedInput-root': {\n                    borderRadius: '28px',\n                    '&.Mui-focused fieldset': {\n                      borderColor: theme.palette.secondary.main,\n                    },\n                  },\n                }}\n                disabled={isTyping}\n              />\n              <StyledSendButton\n                type=\"submit\"\n                disabled={isTyping || !input.trim()}\n                aria-label=\"Send message\"\n              >\n                <SendIconWrapper>\n                  {isTyping ? (\n                    <CircularProgress size={24} color=\"inherit\" />\n                  ) : (\n                    <SendIcon fontSize=\"medium\" />\n                  )}\n                </SendIconWrapper>\n              </StyledSendButton>\n            </form>\n          </Box>\n        </StyledPaper>\n      </Fade>\n    </ThemeProvider>\n  );\n}",
  "src\\app\\utils\\firebase.js": "import { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider } from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Auth with custom domain\nconst auth = getAuth(app);\nauth.useDeviceLanguage();\n\n// Set custom auth domain if provided\nif (process.env.NEXT_PUBLIC_AUTH_DOMAIN) {\n  auth.config.authDomain = process.env.NEXT_PUBLIC_AUTH_DOMAIN;\n}\n\nexport { auth };\nexport const googleProvider = new GoogleAuthProvider();\nexport const db = getFirestore(app);"
}

Based on this information, please provide your comprehensive analysis of the application.
